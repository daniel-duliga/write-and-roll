!function(Le){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Le():"function"==typeof define&&define.amd?define([],Le):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EasyMDE=Le()}(function(){return function Le(Ge,Qe,U){function J(R,M){if(!Qe[R]){if(!Ge[R]){var w="function"==typeof require&&require;if(!M&&w)return w(R,!0);if(K)return K(R,!0);var re=new Error("Cannot find module '"+R+"'");throw re.code="MODULE_NOT_FOUND",re}var q=Qe[R]={exports:{}};Ge[R][0].call(q.exports,function(G){return J(Ge[R][1][G]||G)},q,q.exports,Le,Ge,Qe,U)}return Qe[R].exports}for(var K="function"==typeof require&&require,F=0;F<U.length;F++)J(U[F]);return J}({1:[function(Le,Ge,Qe){},{}],2:[function(Le,Ge,Qe){"use strict";var U=Le("typo-js");function J(K){"function"==typeof(K=K||{}).codeMirrorInstance&&"function"==typeof K.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),K.codeMirrorInstance.defineMode("spell-checker",function(F){if(!J.aff_loading){J.aff_loading=!0;var R=new XMLHttpRequest;R.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),R.onload=function(){4===R.readyState&&200===R.status&&(J.aff_data=R.responseText,2==++J.num_loaded&&(J.typo=new U("en_US",J.aff_data,J.dic_data,{platform:"any"})))},R.send(null)}if(!J.dic_loading){J.dic_loading=!0;var M=new XMLHttpRequest;M.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),M.onload=function(){4===M.readyState&&200===M.status&&(J.dic_data=M.responseText,2==++J.num_loaded&&(J.typo=new U("en_US",J.aff_data,J.dic_data,{platform:"any"})))},M.send(null)}var w='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',re={token:function(G){var fe=G.peek(),V="";if(w.includes(fe))return G.next(),null;for(;null!=(fe=G.peek())&&!w.includes(fe);)V+=fe,G.next();return J.typo&&!J.typo.check(V)?"spell-error":null}},q=K.codeMirrorInstance.getMode(F,F.backdrop||"text/plain");return K.codeMirrorInstance.overlayMode(q,re,!0)})):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}J.num_loaded=0,J.aff_loading=!1,J.dic_loading=!1,J.aff_data="",J.dic_data="",Ge.exports=J},{"typo-js":16}],3:[function(Le,Ge,Qe){!function(U){"use strict";function J(K,F){clearTimeout(F.timeout),U.off(window,"mouseup",F.hurry),U.off(window,"keyup",F.hurry)}U.defineOption("autoRefresh",!1,function(K,F){K.state.autoRefresh&&(J(0,K.state.autoRefresh),K.state.autoRefresh=null),F&&0==K.display.wrapper.offsetHeight&&function(R,M){function w(){R.display.wrapper.offsetHeight?(J(0,M),R.display.lastWrapHeight!=R.display.wrapper.clientHeight&&R.refresh()):M.timeout=setTimeout(w,M.delay)}M.timeout=setTimeout(w,M.delay),M.hurry=function(){clearTimeout(M.timeout),M.timeout=setTimeout(w,50)},U.on(window,"mouseup",M.hurry),U.on(window,"keyup",M.hurry)}(K,K.state.autoRefresh={delay:F.delay||250})})}("object"==typeof Qe&&"object"==typeof Ge?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],4:[function(Le,Ge,Qe){!function(U){"use strict";U.defineOption("fullScreen",!1,function(J,K,F){var R,M;F==U.Init&&(F=!1),!F!=!K&&(K?(M=(R=J).getWrapperElement(),R.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:M.style.width,height:M.style.height},M.style.width="",M.style.height="auto",M.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",R.refresh()):function(R){var M=R.getWrapperElement();M.className=M.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var w=R.state.fullScreenRestore;M.style.width=w.width,M.style.height=w.height,window.scrollTo(w.scrollLeft,w.scrollTop),R.refresh()}(J))})}("object"==typeof Qe&&"object"==typeof Ge?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],5:[function(Le,Ge,Qe){!function(U){function J(w){w.state.placeholder&&(w.state.placeholder.parentNode.removeChild(w.state.placeholder),w.state.placeholder=null)}function K(w){J(w);var re=w.state.placeholder=document.createElement("pre");re.style.cssText="height: 0; overflow: visible",re.style.direction=w.getOption("direction"),re.className="CodeMirror-placeholder CodeMirror-line-like";var q=w.getOption("placeholder");"string"==typeof q&&(q=document.createTextNode(q)),re.appendChild(q),w.display.lineSpace.insertBefore(re,w.display.lineSpace.firstChild)}function F(w){M(w)&&K(w)}function R(w){var re=w.getWrapperElement(),q=M(w);re.className=re.className.replace(" CodeMirror-empty","")+(q?" CodeMirror-empty":""),q?K(w):J(w)}function M(w){return 1===w.lineCount()&&""===w.getLine(0)}U.defineOption("placeholder","",function(w,re,q){var G=q&&q!=U.Init;if(re&&!G)w.on("blur",F),w.on("change",R),w.on("swapDoc",R),U.on(w.getInputField(),"compositionupdate",w.state.placeholderCompose=function(){var V;V=w,setTimeout(function(){var me=!1;if(1==V.lineCount()){var Fe=V.getInputField();me="TEXTAREA"==Fe.nodeName?!V.getLine(0).length:!/[^\u200b]/.test(Fe.querySelector(".CodeMirror-line").textContent)}me?K(V):J(V)},20)}),R(w);else if(!re&&G){w.off("blur",F),w.off("change",R),w.off("swapDoc",R),U.off(w.getInputField(),"compositionupdate",w.state.placeholderCompose),J(w);var fe=w.getWrapperElement();fe.className=fe.className.replace(" CodeMirror-empty","")}re&&!w.hasFocus()&&F(w)})}("object"==typeof Qe&&"object"==typeof Ge?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],6:[function(Le,Ge,Qe){!function(U){"use strict";var J=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,K=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,F=/[*+-]\s/;function R(M,w){var re=w.line,q=0,G=0,fe=J.exec(M.getLine(re)),V=fe[1];do{var me=re+(q+=1),Fe=M.getLine(me),De=J.exec(Fe);if(De){var j=De[1],_=parseInt(fe[3],10)+q-G,ee=parseInt(De[3],10),ne=ee;if(V!==j||isNaN(ee)){if(V.length>j.length||V.length<j.length&&1===q)return;G+=1}else _===ee&&(ne=ee+1),_>ee&&(ne=_+1),M.replaceRange(Fe.replace(J,j+ne+De[4]+De[5]),{line:me,ch:0},{line:me,ch:Fe.length})}}while(De)}U.commands.newlineAndIndentContinueMarkdownList=function(M){if(M.getOption("disableInput"))return U.Pass;for(var w=M.listSelections(),re=[],q=0;q<w.length;q++){var G=w[q].head,fe=M.getStateAfter(G.line),V=U.innerMode(M.getMode(),fe);if("markdown"!==V.mode.name)return void M.execCommand("newlineAndIndent");var me=!1!==(fe=V.state).list,Fe=0!==fe.quote,De=M.getLine(G.line),j=J.exec(De),_=/^\s*$/.test(De.slice(0,G.ch));if(!w[q].empty()||!me&&!Fe||!j||_)return void M.execCommand("newlineAndIndent");if(K.test(De)){var ee=Fe&&/>\s*$/.test(De),ne=!/>\s*$/.test(De);(ee||ne)&&M.replaceRange("",{line:G.line,ch:0},{line:G.line,ch:G.ch+1}),re[q]="\n"}else{var de=j[1],ie=j[5],pe=!(F.test(j[2])||j[2].indexOf(">")>=0),be=pe?parseInt(j[3],10)+1+j[4]:j[2].replace("x"," ");re[q]="\n"+de+be+ie,pe&&R(M,G)}}M.replaceSelections(re)}}("object"==typeof Qe&&"object"==typeof Ge?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],7:[function(Le,Ge,Qe){!function(U){"use strict";U.overlayMode=function(J,K,F){return{startState:function(){return{base:U.startState(J),overlay:U.startState(K),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(R){return{base:U.copyState(J,R.base),overlay:U.copyState(K,R.overlay),basePos:R.basePos,baseCur:null,overlayPos:R.overlayPos,overlayCur:null}},token:function(R,M){return(R!=M.streamSeen||Math.min(M.basePos,M.overlayPos)<R.start)&&(M.streamSeen=R,M.basePos=M.overlayPos=R.start),R.start==M.basePos&&(M.baseCur=J.token(R,M.base),M.basePos=R.pos),R.start==M.overlayPos&&(R.pos=R.start,M.overlayCur=K.token(R,M.overlay),M.overlayPos=R.pos),R.pos=Math.min(M.basePos,M.overlayPos),null==M.overlayCur?M.baseCur:null!=M.baseCur&&M.overlay.combineTokens||F&&null==M.overlay.combineTokens?M.baseCur+" "+M.overlayCur:M.overlayCur},indent:J.indent&&function(R,M,w){return J.indent(R.base,M,w)},electricChars:J.electricChars,innerMode:function(R){return{state:R.base,mode:J}},blankLine:function(R){var M,w;return J.blankLine&&(M=J.blankLine(R.base)),K.blankLine&&(w=K.blankLine(R.overlay)),null==w?M:F&&null!=M?M+" "+w:w}}}}("object"==typeof Qe&&"object"==typeof Ge?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],8:[function(Le,Ge,Qe){!function(U){"use strict";var J,K,F=U.Pos;function R(j,_){for(var ee=(void 0,null!=(pe=(ie=j).flags)?pe:(ie.ignoreCase?"i":"")+(ie.global?"g":"")+(ie.multiline?"m":"")),ne=ee,de=0;de<_.length;de++)-1==ne.indexOf(_.charAt(de))&&(ne+=_.charAt(de));var ie,pe;return ee==ne?j:new RegExp(j.source,ne)}function M(j){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(j.source)}function w(j,_,ee){_=R(_,"g");for(var ne=ee.line,de=ee.ch,ie=j.lastLine();ne<=ie;ne++,de=0){_.lastIndex=de;var pe=j.getLine(ne),be=_.exec(pe);if(be)return{from:F(ne,be.index),to:F(ne,be.index+be[0].length),match:be}}}function re(j,_,ee){if(!M(_))return w(j,_,ee);_=R(_,"gm");for(var ne,de=1,ie=ee.line,pe=j.lastLine();ie<=pe;){for(var be=0;be<de&&!(ie>pe);be++){var we=j.getLine(ie++);ne=null==ne?we:ne+"\n"+we}de*=2,_.lastIndex=ee.ch;var Ee=_.exec(ne);if(Ee){var Oe=ne.slice(0,Ee.index).split("\n"),ze=Ee[0].split("\n"),Ue=ee.line+Oe.length-1,W=Oe[Oe.length-1].length;return{from:F(Ue,W),to:F(Ue+ze.length-1,1==ze.length?W+ze[0].length:ze[ze.length-1].length),match:Ee}}}}function q(j,_,ee){for(var ne,de=0;de<=j.length;){_.lastIndex=de;var ie=_.exec(j);if(!ie)break;var pe=ie.index+ie[0].length;if(pe>j.length-ee)break;(!ne||pe>ne.index+ne[0].length)&&(ne=ie),de=ie.index+1}return ne}function G(j,_,ee){_=R(_,"g");for(var ne=ee.line,de=ee.ch,ie=j.firstLine();ne>=ie;ne--,de=-1){var pe=j.getLine(ne),be=q(pe,_,de<0?0:pe.length-de);if(be)return{from:F(ne,be.index),to:F(ne,be.index+be[0].length),match:be}}}function fe(j,_,ee){if(!M(_))return G(j,_,ee);_=R(_,"gm");for(var ne,de=1,ie=j.getLine(ee.line).length-ee.ch,pe=ee.line,be=j.firstLine();pe>=be;){for(var we=0;we<de&&pe>=be;we++){var Ee=j.getLine(pe--);ne=null==ne?Ee:Ee+"\n"+ne}de*=2;var Oe=q(ne,_,ie);if(Oe){var ze=ne.slice(0,Oe.index).split("\n"),Ue=Oe[0].split("\n"),W=pe+ze.length,Z=ze[ze.length-1].length;return{from:F(W,Z),to:F(W+Ue.length-1,1==Ue.length?Z+Ue[0].length:Ue[Ue.length-1].length),match:Oe}}}}function V(j,_,ee,ne){if(j.length==_.length)return ee;for(var de=0,ie=ee+Math.max(0,j.length-_.length);;){if(de==ie)return de;var pe=de+ie>>1,be=ne(j.slice(0,pe)).length;if(be==ee)return pe;be>ee?ie=pe:de=pe+1}}function me(j,_,ee,ne){if(!_.length)return null;var de=ne?J:K,ie=de(_).split(/\r|\n\r?/);e:for(var pe=ee.line,be=ee.ch,we=j.lastLine()+1-ie.length;pe<=we;pe++,be=0){var Ee=j.getLine(pe).slice(be),Oe=de(Ee);if(1==ie.length){var ze=Oe.indexOf(ie[0]);if(-1==ze)continue e;return ee=V(Ee,Oe,ze,de)+be,{from:F(pe,V(Ee,Oe,ze,de)+be),to:F(pe,V(Ee,Oe,ze+ie[0].length,de)+be)}}var Ue=Oe.length-ie[0].length;if(Oe.slice(Ue)==ie[0]){for(var W=1;W<ie.length-1;W++)if(de(j.getLine(pe+W))!=ie[W])continue e;var Z=j.getLine(pe+ie.length-1),he=de(Z),oe=ie[ie.length-1];if(he.slice(0,oe.length)==oe)return{from:F(pe,V(Ee,Oe,Ue,de)+be),to:F(pe+ie.length-1,V(Z,he,oe.length,de))}}}}function Fe(j,_,ee,ne){if(!_.length)return null;var de=ne?J:K,ie=de(_).split(/\r|\n\r?/);e:for(var pe=ee.line,be=ee.ch,we=j.firstLine()-1+ie.length;pe>=we;pe--,be=-1){var Ee=j.getLine(pe);be>-1&&(Ee=Ee.slice(0,be));var Oe=de(Ee);if(1==ie.length){var ze=Oe.lastIndexOf(ie[0]);if(-1==ze)continue e;return{from:F(pe,V(Ee,Oe,ze,de)),to:F(pe,V(Ee,Oe,ze+ie[0].length,de))}}var Ue=ie[ie.length-1];if(Oe.slice(0,Ue.length)==Ue){var W=1;for(ee=pe-ie.length+1;W<ie.length-1;W++)if(de(j.getLine(ee+W))!=ie[W])continue e;var Z=j.getLine(pe+1-ie.length),he=de(Z);if(he.slice(he.length-ie[0].length)==ie[0])return{from:F(pe+1-ie.length,V(Z,he,Z.length-ie[0].length,de)),to:F(pe,V(Ee,Oe,Ue.length,de))}}}}function De(j,_,ee,ne){var de;this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=j,ee=ee?j.clipPos(ee):F(0,0),this.pos={from:ee,to:ee},"object"==typeof ne?de=ne.caseFold:(de=ne,ne=null),"string"==typeof _?(null==de&&(de=!1),this.matches=function(ie,pe){return(ie?Fe:me)(j,_,pe,de)}):(_=R(_,"gm"),this.matches=ne&&!1===ne.multiline?function(ie,pe){return(ie?G:w)(j,_,pe)}:function(ie,pe){return(ie?fe:re)(j,_,pe)})}String.prototype.normalize?(J=function(j){return j.normalize("NFD").toLowerCase()},K=function(j){return j.normalize("NFD")}):(J=function(j){return j.toLowerCase()},K=function(j){return j}),De.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(j){var _=this.doc.clipPos(j?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(_=F(_.line,_.ch),j?(_.ch--,_.ch<0&&(_.line--,_.ch=(this.doc.getLine(_.line)||"").length)):(_.ch++,_.ch>(this.doc.getLine(_.line)||"").length&&(_.ch=0,_.line++)),0!=U.cmpPos(_,this.doc.clipPos(_))))return this.atOccurrence=!1;var ee=this.matches(j,_);if(this.afterEmptyMatch=ee&&0==U.cmpPos(ee.from,ee.to),ee)return this.pos=ee,this.atOccurrence=!0,this.pos.match||!0;var ne=F(j?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:ne,to:ne},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(j,_){if(this.atOccurrence){var ee=U.splitLines(j);this.doc.replaceRange(ee,this.pos.from,this.pos.to,_),this.pos.to=F(this.pos.from.line+ee.length-1,ee[ee.length-1].length+(1==ee.length?this.pos.from.ch:0))}}},U.defineExtension("getSearchCursor",function(j,_,ee){return new De(this.doc,j,_,ee)}),U.defineDocExtension("getSearchCursor",function(j,_,ee){return new De(this,j,_,ee)}),U.defineExtension("selectMatches",function(j,_){for(var ee=[],ne=this.getSearchCursor(j,this.getCursor("from"),_);ne.findNext()&&!(U.cmpPos(ne.to(),this.getCursor("to"))>0);)ee.push({anchor:ne.from(),head:ne.to()});ee.length&&this.setSelections(ee,0)})}("object"==typeof Qe&&"object"==typeof Ge?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],9:[function(Le,Ge,Qe){!function(U){"use strict";function J(q){q.state.markedSelection&&q.operation(function(){!function(G){if(!G.somethingSelected())return w(G);if(G.listSelections().length>1)return re(G);var fe=G.getCursor("start"),V=G.getCursor("end"),me=G.state.markedSelection;if(!me.length)return M(G,fe,V);var Fe=me[0].find(),De=me[me.length-1].find();if(!Fe||!De||V.line-fe.line<=8||R(fe,De.to)>=0||R(V,Fe.from)<=0)return re(G);for(;R(fe,Fe.from)>0;)me.shift().clear(),Fe=me[0].find();for(R(fe,Fe.from)<0&&(Fe.to.line-fe.line<8?(me.shift().clear(),M(G,fe,Fe.to,0)):M(G,fe,Fe.from,0));R(V,De.to)<0;)me.pop().clear(),De=me[me.length-1].find();R(V,De.to)>0&&(V.line-De.from.line<8?(me.pop().clear(),M(G,De.from,V)):M(G,De.to,V))}(q)})}function K(q){q.state.markedSelection&&q.state.markedSelection.length&&q.operation(function(){w(q)})}U.defineOption("styleSelectedText",!1,function(q,G,fe){var V=fe&&fe!=U.Init;G&&!V?(q.state.markedSelection=[],q.state.markedSelectionStyle="string"==typeof G?G:"CodeMirror-selectedtext",re(q),q.on("cursorActivity",J),q.on("change",K)):!G&&V&&(q.off("cursorActivity",J),q.off("change",K),w(q),q.state.markedSelection=q.state.markedSelectionStyle=null)});var F=U.Pos,R=U.cmpPos;function M(q,G,fe,V){if(0!=R(G,fe))for(var me=q.state.markedSelection,Fe=q.state.markedSelectionStyle,De=G.line;;){var j=De==G.line?G:F(De,0),_=De+8,ee=_>=fe.line,ne=ee?fe:F(_,0),de=q.markText(j,ne,{className:Fe});if(null==V?me.push(de):me.splice(V++,0,de),ee)break;De=_}}function w(q){for(var G=q.state.markedSelection,fe=0;fe<G.length;++fe)G[fe].clear();G.length=0}function re(q){w(q);for(var G=q.listSelections(),fe=0;fe<G.length;fe++)M(q,G[fe].from(),G[fe].to())}}("object"==typeof Qe&&"object"==typeof Ge?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],10:[function(Le,Ge,Qe){var U,J;U=this,J=function(){"use strict";var U=navigator.userAgent,J=navigator.platform,K=/gecko\/\d/i.test(U),F=/MSIE \d/.test(U),R=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(U),M=/Edge\/(\d+)/.exec(U),w=F||R||M,re=w&&(F?document.documentMode||6:+(M||R)[1]),q=!M&&/WebKit\//.test(U),G=q&&/Qt\/\d+\.\d+/.test(U),fe=!M&&/Chrome\//.test(U),V=/Opera\//.test(U),me=/Apple Computer/.test(navigator.vendor),Fe=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(U),De=/PhantomJS/.test(U),j=me&&(/Mobile\/\w+/.test(U)||navigator.maxTouchPoints>2),_=/Android/.test(U),ee=j||_||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(U),ne=j||/Mac/.test(J),de=/\bCrOS\b/.test(U),ie=/win/i.test(J),pe=V&&U.match(/Version\/(\d*\.\d*)/);pe&&(pe=Number(pe[1])),pe&&pe>=15&&(V=!1,q=!0);var be=ne&&(G||V&&(null==pe||pe<12.11)),we=K||w&&re>=9;function Ee(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var Oe,ze=function(e,t){var r=e.className,n=Ee(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function Ue(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function W(e,t){return Ue(e).appendChild(t)}function Z(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function he(e,t,r,n){var i=Z(e,t,r,n);return i.setAttribute("role","presentation"),i}function oe(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function se(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function S(e,t){var r=e.className;Ee(t).test(r)||(e.className+=(r?" ":"")+t)}function d(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!Ee(r[n]).test(t)&&(t+=" "+r[n]);return t}Oe=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var ke=function(e){e.select()};function Se(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function nt(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function Je(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=r-a%r,o=s+1}}j?ke=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:w&&(ke=function(e){try{e.select()}catch(t){}});var ct=function(){this.id=null,this.f=null,this.time=0,this.handler=Se(this.onTimeout,this)};function ve(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}ct.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},ct.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var mt={toString:function(){return"CodeMirror.Pass"}},Ve={scroll:!1},Lt={origin:"*mouse"},wt={origin:"+move"};function pt(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||i+a>=t)return n+Math.min(a,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}var Ct=[""];function xt(e){for(;Ct.length<=e;)Ct.push(Me(Ct)+" ");return Ct[e]}function Me(e){return e[e.length-1]}function te(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function O(){}function y(e,t){var r;return Object.create?r=Object.create(e):(O.prototype=e,r=new O),t&&nt(t,r),r}var v=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function C(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||v.test(e))}function p(e,t){return t?!!(t.source.indexOf("\\w")>-1&&C(e))||t.test(e):C(e)}function H(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var z=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function k(e){return e.charCodeAt(0)>=768&&z.test(e)}function Ce(e,t,r){for(;(r<0?t>0:t<e.length)&&k(e.charAt(t));)t+=r;return t}function c(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}var x=null;function D(e,t,r){var n;x=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:x=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:x=i)}return null!=n?n:x}var m=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,r=/[LRr]/,n=/[Lb1n]/,i=/[1n]/;function o(a,s,u){this.level=a,this.from=s,this.to=u}return function(a,s){var u="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!e.test(a))return!1;for(var l,h=a.length,f=[],b=0;b<h;++b)f.push((l=a.charCodeAt(b))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(l):1424<=l&&l<=1524?"R":1536<=l&&l<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(l-1536):1774<=l&&l<=2220?"r":8192<=l&&l<=8203?"w":8204==l?"b":"L");for(var g=0,L=u;g<h;++g){var N=f[g];"m"==N?f[g]=L:L=N}for(var T=0,P=u;T<h;++T){var X=f[T];"1"==X&&"r"==P?f[T]="n":r.test(X)&&(P=X,"r"==X&&(f[T]="R"))}for(var $=1,le=f[0];$<h-1;++$){var ae=f[$];"+"==ae&&"1"==le&&"1"==f[$+1]?f[$]="1":","!=ae||le!=f[$+1]||"1"!=le&&"n"!=le||(f[$]=le),le=ae}for(var ce=0;ce<h;++ce){var Ne=f[ce];if(","==Ne)f[ce]="N";else if("%"==Ne){var ye=void 0;for(ye=ce+1;ye<h&&"%"==f[ye];++ye);for(var qe=ce&&"!"==f[ce-1]||ye<h&&"1"==f[ye]?"1":"N",Te=ce;Te<ye;++Te)f[Te]=qe;ce=ye-1}}for(var Ke=0,ot=u;Ke<h;++Ke){var Ze=f[Ke];"L"==ot&&"1"==Ze?f[Ke]="L":r.test(Ze)&&(ot=Ze)}for(var $e=0;$e<h;++$e)if(t.test(f[$e])){var Ye=void 0;for(Ye=$e+1;Ye<h&&t.test(f[Ye]);++Ye);for(var We="L"==($e?f[$e-1]:u),at=We==("L"==(Ye<h?f[Ye]:u))?We?"L":"R":u,Re=$e;Re<Ye;++Re)f[Re]=at;$e=Ye-1}for(var Xe,je=[],et=0;et<h;)if(n.test(f[et])){var Nt=et;for(++et;et<h&&n.test(f[et]);++et);je.push(new o(0,Nt,et))}else{var st=et,Et=je.length,Tt="rtl"==s?1:0;for(++et;et<h&&"L"!=f[et];++et);for(var ht=st;ht<et;)if(i.test(f[ht])){st<ht&&(je.splice(Et,0,new o(1,st,ht)),Et+=Tt);var Ot=ht;for(++ht;ht<et&&i.test(f[ht]);++ht);je.splice(Et,0,new o(2,Ot,ht)),Et+=Tt,st=ht}else++ht;st<et&&je.splice(Et,0,new o(1,st,et))}return"ltr"==s&&(1==je[0].level&&(Xe=a.match(/^\s+/))&&(je[0].from=Xe[0].length,je.unshift(new o(0,0,Xe[0].length))),1==Me(je).level&&(Xe=a.match(/\s+$/))&&(Me(je).to-=Xe[0].length,je.push(new o(0,h-Xe[0].length,h)))),"rtl"==s?je.reverse():je}}();function B(e,t){var r=e.order;return null==r&&(r=e.order=m(e.text,t)),r}var I=[],E=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||I).concat(r)}};function Y(e,t){return e._handlers&&e._handlers[t]||I}function A(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=ve(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Q(e,t){var r=Y(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function ge(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Q(e,r||t.type,e,t),tt(t)||t.codemirrorIgnore}function _e(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==ve(r,t[n])&&r.push(t[n])}function Ie(e,t){return Y(e,t).length>0}function xe(e){e.prototype.on=function(t,r){E(this,t,r)},e.prototype.off=function(t,r){A(this,t,r)}}function Be(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function rt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function tt(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function dt(e){Be(e),rt(e)}function Ft(e){return e.target||e.srcElement}function Mt(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),ne&&e.ctrlKey&&1==t&&(t=3),t}var sn,Ut,Lr=function(){if(w&&re<9)return!1;var e=Z("div");return"draggable"in e||"dragDrop"in e}();function Mr(e){if(null==sn){var t=Z("span","\u200b");W(e,Z("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(sn=t.offsetWidth<=1&&t.offsetHeight>2&&!(w&&re<8))}var r=sn?Z("span","\u200b"):Z("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Zn(e){if(null!=Ut)return Ut;var t=W(e,document.createTextNode("A\u062eA")),r=Oe(t,0,1).getBoundingClientRect(),n=Oe(t,1,2).getBoundingClientRect();return Ue(e),!(!r||r.left==r.right)&&(Ut=n.right-r.right<3)}var Yn,Qn=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},kt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ln="oncopy"in(Yn=Z("div"))||(Yn.setAttribute("oncopy","return;"),"function"==typeof Yn.oncopy),_t=null,Wt={},Rt={};function xn(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Wt[e]=t}function yn(e){if("string"==typeof e&&Rt.hasOwnProperty(e))e=Rt[e];else if(e&&"string"==typeof e.name&&Rt.hasOwnProperty(e.name)){var t=Rt[e.name];"string"==typeof t&&(t={name:t}),(e=y(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return yn("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return yn("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Jn(e,t){t=yn(t);var r=Wt[t.name];if(!r)return Jn(e,"text/plain");var n=r(e,t);if(en.hasOwnProperty(t.name)){var i=en[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var en={};function vs(e,t){nt(t,en.hasOwnProperty(e)?en[e]:en[e]={})}function bn(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function hi(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function co(e,t,r){return!e.startState||e.startState(t,r)}var vt=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Ae(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function Dn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(o){var a=o.text;i==r.line&&(a=a.slice(0,r.ch)),i==t.line&&(a=a.slice(t.ch)),n.push(a),++i}),n}function fi(e,t,r){var n=[];return e.iter(t,r,function(i){n.push(i.text)}),n}function Kt(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function lt(e){if(null==e.parent)return null;for(var t=e.parent,r=ve(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function wn(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return r+a}function er(e,t){return t>=e.first&&t<e.first+e.size}function pi(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ue(e,t,r){if(void 0===r&&(r=null),!(this instanceof ue))return new ue(e,t,r);this.line=e,this.ch=t,this.sticky=r}function He(e,t){return e.line-t.line||e.ch-t.ch}function mi(e,t){return e.sticky==t.sticky&&0==He(e,t)}function gi(e){return ue(e.line,e.ch)}function Br(e,t){return He(e,t)<0?t:e}function Nr(e,t){return He(e,t)<0?e:t}function ho(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Pe(e,t){if(t.line<e.first)return ue(e.first,0);var n,i,o,r=e.first+e.size-1;return t.line>r?ue(r,Ae(e,r).text.length):(n=t,i=Ae(e,t.line).text.length,null==(o=n.ch)||o>i?ue(n.line,i):o<0?ue(n.line,0):n)}function fo(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=Pe(e,t[n]);return r}vt.prototype.eol=function(){return this.pos>=this.string.length},vt.prototype.sol=function(){return this.pos==this.lineStart},vt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},vt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},vt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},vt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},vt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},vt.prototype.skipToEnd=function(){this.pos=this.string.length},vt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},vt.prototype.backUp=function(e){this.pos-=e},vt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Je(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Je(this.string,this.lineStart,this.tabSize):0)},vt.prototype.indentation=function(){return Je(this.string,null,this.tabSize)-(this.lineStart?Je(this.string,this.lineStart,this.tabSize):0)},vt.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(o){return r?o.toLowerCase():o};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},vt.prototype.current=function(){return this.string.slice(this.start,this.pos)},vt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},vt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},vt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Or=function(e,t){this.state=e,this.lookAhead=t},Zt=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function po(e,t,r,n){var i=[e.state.modeGen],o={};bo(e,t.text,e.doc.mode,r,function(l,h){return i.push(l,h)},o,n);for(var a=r.state,s=function(l){r.baseTokens=i;var h=e.state.overlays[l],f=1,b=0;r.state=!0,bo(e,t.text,h.mode,r,function(g,L){for(var N=f;b<g;){var T=i[f];T>g&&i.splice(f,1,g,i[f+1],T),f+=2,b=Math.min(g,T)}if(L)if(h.opaque)i.splice(N,f-N,g,"overlay "+L),f=N+2;else for(;N<f;N+=2){var P=i[N+1];i[N+1]=(P?P+" ":"")+"overlay "+L}},o),r.state=a,r.baseTokens=null,r.baseTokenPos=1},u=0;u<e.state.overlays.length;++u)s(u);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function mo(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=tr(e,lt(t)),i=t.text.length>e.options.maxHighlightLength&&bn(e.doc.mode,n.state),o=po(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function tr(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new Zt(n,!0,t);var o=function(u,l,h){for(var f,b,g=u.doc,L=h?-1:l-(u.doc.mode.innerMode?1e3:100),N=l;N>L;--N){if(N<=g.first)return g.first;var T=Ae(g,N-1),P=T.stateAfter;if(P&&(!h||N+(P instanceof Or?P.lookAhead:0)<=g.modeFrontier))return N;var X=Je(T.text,null,u.options.tabSize);(null==b||f>X)&&(b=N-1,f=X)}return b}(e,t,r),a=o>n.first&&Ae(n,o-1).stateAfter,s=a?Zt.fromSaved(n,a,o):new Zt(n,co(n.mode),o);return n.iter(o,t,function(u){vi(e,u.text,s);var l=s.line;u.stateAfter=l==t-1||l%5==0||l>=i.viewFrom&&l<i.viewTo?s.save():null,s.nextLine()}),r&&(n.modeFrontier=s.line),s}function vi(e,t,r,n){var i=e.doc.mode,o=new vt(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&go(i,r.state);!o.eol();)xi(i,o,r.state),o.start=o.pos}function go(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=hi(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function xi(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=hi(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Zt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Zt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Zt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Zt.fromSaved=function(e,t,r){return t instanceof Or?new Zt(e,bn(e.mode,t.state),r,t.lookAhead):new Zt(e,bn(e.mode,t),r)},Zt.prototype.save=function(e){var t=!1!==e?bn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Or(t,this.maxLookAhead):t};var vo=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function xo(e,t,r,n){var i,o,a=e.doc,s=a.mode,u=Ae(a,(t=Pe(a,t)).line),l=tr(e,t.line,r),h=new vt(u.text,e.options.tabSize,l);for(n&&(o=[]);(n||h.pos<t.ch)&&!h.eol();)h.start=h.pos,i=xi(s,h,l.state),n&&o.push(new vo(h,i,bn(a.mode,l.state)));return n?o:new vo(h,i,l.state)}function yo(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function bo(e,t,r,n,i,o,a){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var u,l=0,h=null,f=new vt(t,e.options.tabSize,n),b=e.options.addModeClass&&[null];for(""==t&&yo(go(r,n.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&vi(e,t,n,f.pos),f.pos=t.length,u=null):u=yo(xi(r,f,n.state,b),o),b){var g=b[0].name;g&&(u="m-"+(u?g+" "+u:g))}if(!s||h!=u){for(;l<f.start;)i(l=Math.min(f.start,l+5e3),h);h=u}f.start=f.pos}for(;l<f.pos;){var L=Math.min(f.pos,l+5e3);i(L,h),l=L}}var Do=!1,tn=!1;function Ir(e,t,r){this.marker=e,this.from=t,this.to=r}function nr(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function xs(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function yi(e,t){if(t.full)return null;var r=er(e,t.from.line)&&Ae(e,t.from.line).markedSpans,n=er(e,t.to.line)&&Ae(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=0==He(t.from,t.to),s=function(ae,ce,Ne){var ye;if(ae)for(var qe=0;qe<ae.length;++qe){var Te=ae[qe],Ke=Te.marker;null!=Te.from&&!(Ke.inclusiveLeft?Te.from<=ce:Te.from<ce)&&(Te.from!=ce||"bookmark"!=Ke.type||Ne&&Te.marker.insertLeft)||(ye||(ye=[])).push(new Ir(Ke,Te.from,null==Te.to||(Ke.inclusiveRight?Te.to>=ce:Te.to>ce)?null:Te.to))}return ye}(r,i,a),u=function(ae,ce,Ne){var ye;if(ae)for(var qe=0;qe<ae.length;++qe){var Te=ae[qe],Ke=Te.marker;(null==Te.to||(Ke.inclusiveRight?Te.to>=ce:Te.to>ce)||Te.from==ce&&"bookmark"==Ke.type&&(!Ne||Te.marker.insertLeft))&&(ye||(ye=[])).push(new Ir(Ke,null==Te.from||(Ke.inclusiveLeft?Te.from<=ce:Te.from<ce)?null:Te.from-ce,null==Te.to?null:Te.to-ce))}return ye}(n,o,a),l=1==t.text.length,h=Me(t.text).length+(l?i:0);if(s)for(var f=0;f<s.length;++f){var b=s[f];if(null==b.to){var g=nr(u,b.marker);g?l&&(b.to=null==g.to?null:g.to+h):b.to=i}}if(u)for(var L=0;L<u.length;++L){var N=u[L];null!=N.to&&(N.to+=h),null==N.from?nr(s,N.marker)||(N.from=h,l&&(s||(s=[])).push(N)):(N.from+=h,l&&(s||(s=[])).push(N))}s&&(s=wo(s)),u&&u!=s&&(u=wo(u));var T=[s];if(!l){var P,X=t.text.length-2;if(X>0&&s)for(var $=0;$<s.length;++$)null==s[$].to&&(P||(P=[])).push(new Ir(s[$].marker,null,null));for(var le=0;le<X;++le)T.push(P);T.push(u)}return T}function wo(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Co(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function ko(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function zr(e){return e.inclusiveLeft?-1:0}function Rr(e){return e.inclusiveRight?1:0}function bi(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=He(n.from,i.from)||zr(e)-zr(t);return o?-o:He(n.to,i.to)||Rr(e)-Rr(t)||t.id-e.id}function So(e,t){var r,n=tn&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||bi(r,i.marker)<0)&&(r=i.marker);return r}function Fo(e){return So(e,!0)}function Hr(e){return So(e,!1)}function ys(e,t){var r,n=tn&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||bi(r,o.marker)<0)&&(r=o.marker)}return r}function Ao(e,t,r,n,i){var o=Ae(e,t),a=tn&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),h=He(l.from,r)||zr(u.marker)-zr(i),f=He(l.to,n)||Rr(u.marker)-Rr(i);if(!(h>=0&&f<=0||h<=0&&f>=0)&&(h<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?He(l.to,r)>=0:He(l.to,r)>0)||h>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?He(l.from,n)<=0:He(l.from,n)<0)))return!0}}}function Yt(e){for(var t;t=Fo(e);)e=t.find(-1,!0).line;return e}function Di(e,t){var r=Ae(e,t),n=Yt(r);return r==n?t:lt(n)}function Eo(e,t){if(t>e.lastLine())return t;var r,n=Ae(e,t);if(!un(e,n))return t;for(;r=Hr(n);)n=r.find(1,!0).line;return lt(n)+1}function un(e,t){var r=tn&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed&&(null==n.from||!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&wi(e,t,n)))return!0}function wi(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return wi(e,n.line,nr(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&wi(e,t,i))return!0}function nn(e){for(var t=0,r=(e=Yt(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==r)break;t+=s.height}return t}function Pr(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Fo(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Hr(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function Ci(e){var t=e.display,r=e.doc;t.maxLine=Ae(r,r.first),t.maxLineLength=Pr(t.maxLine),t.maxLineChanged=!0,r.iter(function(n){var i=Pr(n);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=n)})}var Bn=function(e,t,r){this.text=e,ko(this,t),this.height=r?r(this):1};function bs(e){e.parent=null,Co(e)}Bn.prototype.lineNo=function(){return lt(this)},xe(Bn);var Ds={},ws={};function To(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?ws:Ds;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Lo(e,t){var r=he("span",null,null,q?"padding-right: .1px":null),n={pre:he("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;n.pos=0,n.addToken=ks,Zn(e.display.measure)&&(a=B(o,e.doc.direction))&&(n.addToken=Ss(n.addToken,a)),n.map=[],Fs(o,n,mo(e,o,t!=e.display.externalMeasured&&lt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=d(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=d(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Mr(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(q){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Q(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=d(n.pre.className,n.textClass||"")),n}function Cs(e){var t=Z("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ks(e,t,r,n,i,o,a){if(t){var s,u=e.splitSpaces?function(ae,ce){if(ae.length>1&&!/  /.test(ae))return ae;for(var Ne=ce,ye="",qe=0;qe<ae.length;qe++){var Te=ae.charAt(qe);" "!=Te||!Ne||qe!=ae.length-1&&32!=ae.charCodeAt(qe+1)||(Te="\xa0"),ye+=Te,Ne=" "==Te}return ye}(t,e.trailingSpace):t,l=e.cm.state.specialChars,h=!1;if(l.test(t)){s=document.createDocumentFragment();for(var f=0;;){l.lastIndex=f;var b=l.exec(t),g=b?b.index-f:t.length-f;if(g){var L=document.createTextNode(u.slice(f,f+g));s.appendChild(w&&re<9?Z("span",[L]):L),e.map.push(e.pos,e.pos+g,L),e.col+=g,e.pos+=g}if(!b)break;f+=g+1;var N=void 0;if("\t"==b[0]){var T=e.cm.options.tabSize,P=T-e.col%T;(N=s.appendChild(Z("span",xt(P),"cm-tab"))).setAttribute("role","presentation"),N.setAttribute("cm-text","\t"),e.col+=P}else"\r"==b[0]||"\n"==b[0]?((N=s.appendChild(Z("span","\r"==b[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",b[0]),e.col+=1):((N=e.cm.options.specialCharPlaceholder(b[0])).setAttribute("cm-text",b[0]),s.appendChild(w&&re<9?Z("span",[N]):N),e.col+=1);e.map.push(e.pos,e.pos+1,N),e.pos++}}else e.col+=t.length,s=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,s),w&&re<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),r||n||i||h||o||a){var X=r||"";n&&(X+=n),i&&(X+=i);var $=Z("span",[s],X,o);if(a)for(var le in a)a.hasOwnProperty(le)&&"style"!=le&&"class"!=le&&$.setAttribute(le,a[le]);return e.content.appendChild($)}e.content.appendChild(s)}}function Ss(e,t){return function(r,n,i,o,a,s,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=r.pos,h=l+n.length;;){for(var f=void 0,b=0;b<t.length&&!((f=t[b]).to>l&&f.from<=l);b++);if(f.to>=h)return e(r,n,i,o,a,s,u);e(r,n.slice(0,f.to-l),i,o,null,s,u),o=null,n=n.slice(f.to-l),l=f.to}}}function Mo(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Fs(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var a,s,u,l,h,f,b,g=i.length,L=0,N=1,T="",P=0;;){if(P==L){u=l=h=s="",b=null,f=null,P=1/0;for(var X=[],$=void 0,le=0;le<n.length;++le){var ae=n[le],ce=ae.marker;if("bookmark"==ce.type&&ae.from==L&&ce.widgetNode)X.push(ce);else if(ae.from<=L&&(null==ae.to||ae.to>L||ce.collapsed&&ae.to==L&&ae.from==L)){if(null!=ae.to&&ae.to!=L&&P>ae.to&&(P=ae.to,l=""),ce.className&&(u+=" "+ce.className),ce.css&&(s=(s?s+";":"")+ce.css),ce.startStyle&&ae.from==L&&(h+=" "+ce.startStyle),ce.endStyle&&ae.to==P&&($||($=[])).push(ce.endStyle,ae.to),ce.title&&((b||(b={})).title=ce.title),ce.attributes)for(var Ne in ce.attributes)(b||(b={}))[Ne]=ce.attributes[Ne];ce.collapsed&&(!f||bi(f.marker,ce)<0)&&(f=ae)}else ae.from>L&&P>ae.from&&(P=ae.from)}if($)for(var ye=0;ye<$.length;ye+=2)$[ye+1]==P&&(l+=" "+$[ye]);if(!f||f.from==L)for(var qe=0;qe<X.length;++qe)Mo(t,0,X[qe]);if(f&&(f.from||0)==L){if(Mo(t,(null==f.to?g+1:f.to)-L,f.marker,null==f.from),null==f.to)return;f.to==L&&(f=!1)}}if(L>=g)break;for(var Te=Math.min(g,P);;){if(T){var Ke=L+T.length;if(!f){var ot=Ke>Te?T.slice(0,Te-L):T;t.addToken(t,ot,a?a+u:u,h,L+ot.length==P?l:"",s,b)}if(Ke>=Te){T=T.slice(Te-L),L=Te;break}L=Ke,h=""}T=i.slice(o,o=r[N++]),a=To(r[N++],t.cm.options)}}else for(var Ze=1;Ze<r.length;Ze+=2)t.addToken(t,i.slice(o,o=r[Ze]),To(r[Ze+1],t.cm.options))}function Bo(e,t,r){this.line=t,this.rest=function(n){for(var i,o;i=Hr(n);)n=i.find(1,!0).line,(o||(o=[])).push(n);return o}(t),this.size=this.rest?lt(Me(this.rest))-r+1:1,this.node=this.text=null,this.hidden=un(e,t)}function _r(e,t,r){for(var n,i=[],o=t;o<r;o=n){var a=new Bo(e.doc,Ae(e.doc,o),o);n=o+a.size,i.push(a)}return i}var Nn=null,rr=null;function yt(e,t){var r=Y(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);Nn?n=Nn.delayedCallbacks:rr?n=rr:(n=rr=[],setTimeout(As,0));for(var o=function(s){n.push(function(){return r[s].apply(null,i)})},a=0;a<r.length;++a)o(a)}}function As(){var e=rr;rr=null;for(var t=0;t<e.length;++t)e[t]()}function No(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Es(e,t):"gutter"==o?Io(e,t,r,n):"class"==o?ki(e,t):"widget"==o&&Ts(e,t,n)}t.changes=null}function ir(e){return e.node==e.text&&(e.node=Z("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),w&&re<8&&(e.node.style.zIndex=2)),e.node}function Oo(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Lo(e,t)}function Es(e,t){var r=t.text.className,n=Oo(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,ki(e,t)):r&&(t.text.className=r)}function ki(e,t){(function(n,i){var o=i.bgClass?i.bgClass+" "+(i.line.bgClass||""):i.line.bgClass;if(o&&(o+=" CodeMirror-linebackground"),i.background)o?i.background.className=o:(i.background.parentNode.removeChild(i.background),i.background=null);else if(o){var a=ir(i);i.background=a.insertBefore(Z("div",null,o),a.firstChild),n.display.input.setUneditable(i.background)}})(e,t),t.line.wrapClass?ir(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className=""),t.text.className=(t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass)||""}function Io(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ir(t);t.gutterBackground=Z("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=ir(t),s=t.gutter=Z("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(Z("div",pi(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<e.display.gutterSpecs.length;++u){var l=e.display.gutterSpecs[u].className,h=o.hasOwnProperty(l)&&o[l];h&&s.appendChild(Z("div",[h],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function Ts(e,t,r){t.alignable&&(t.alignable=null);for(var n=Ee("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);zo(e,t,r)}function Ls(e,t,r,n){var i=Oo(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),ki(e,t),Io(e,t,r,n),zo(e,t,n),t.node}function zo(e,t,r){if(Ro(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Ro(e,t.rest[n],t,r,!1)}function Ro(e,t,r,n,i){if(t.widgets)for(var o=ir(r),a=0,s=t.widgets;a<s.length;++a){var u=s[a],l=Z("div",[u.node],"CodeMirror-linewidget"+(u.className?" "+u.className:""));u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),Ms(u,l,r,n),e.display.input.setUneditable(l),i&&u.above?o.insertBefore(l,r.gutter||r.text):o.appendChild(l),yt(u,"redraw")}}function Ms(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function or(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!oe(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),W(t.display.measure,Z("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function rn(e,t){for(var r=Ft(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Wr(e){return e.lineSpace.offsetTop}function Si(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ho(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=W(e.measure,Z("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Qt(e){return 50-e.display.nativeBarWidth}function Cn(e){return e.display.scroller.clientWidth-Qt(e)-e.display.barWidth}function Fi(e){return e.display.scroller.clientHeight-Qt(e)-e.display.barHeight}function Po(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(lt(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function _o(e,t,r,n){return Jt(e,On(e,t),r,n)}function Ai(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Fn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function On(e,t){var r=lt(t),n=Ai(e,r);n&&!n.text?n=null:n&&n.changes&&(No(e,n,r,Bi(e)),e.curOp.forceUpdate=!0),n||(n=function(o,a){var s=lt(a=Yt(a)),u=o.display.externalMeasured=new Bo(o.doc,a,s);u.lineN=s;var l=u.built=Lo(o,u);return u.text=l.pre,W(o.display.lineMeasure,l.pre),u}(e,t));var i=Po(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Jt(e,t,r,n,i){t.before&&(r=-1);var o,a=r+(n||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(s,u,l){var h=s.options.lineWrapping,f=h&&Cn(s);if(!u.measure.heights||h&&u.measure.width!=f){var b=u.measure.heights=[];if(h){u.measure.width=f;for(var g=u.text.firstChild.getClientRects(),L=0;L<g.length-1;L++){var N=g[L],T=g[L+1];Math.abs(N.bottom-T.bottom)>2&&b.push((N.bottom+T.top)/2-l.top)}}b.push(l.bottom-l.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(s,u,l,h){var f,b=jo(u.map,l,h),g=b.node,L=b.start,N=b.end,T=b.collapse;if(3==g.nodeType){for(var P=0;P<4;P++){for(;L&&k(u.line.text.charAt(b.coverStart+L));)--L;for(;b.coverStart+N<b.coverEnd&&k(u.line.text.charAt(b.coverStart+N));)++N;if((f=w&&re<9&&0==L&&N==b.coverEnd-b.coverStart?g.parentNode.getBoundingClientRect():Bs(Oe(g,L,N).getClientRects(),h)).left||f.right||0==L)break;N=L,L-=1,T="right"}w&&re<11&&(f=function(ot,Ze){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(We){if(null!=_t)return _t;var at=W(We,Z("span","x")),Re=at.getBoundingClientRect(),Xe=Oe(at,0,1).getBoundingClientRect();return _t=Math.abs(Re.left-Xe.left)>1}(ot))return Ze;var $e=screen.logicalXDPI/screen.deviceXDPI,Ye=screen.logicalYDPI/screen.deviceYDPI;return{left:Ze.left*$e,right:Ze.right*$e,top:Ze.top*Ye,bottom:Ze.bottom*Ye}}(s.display.measure,f))}else{var X;L>0&&(T=h="right"),f=s.options.lineWrapping&&(X=g.getClientRects()).length>1?X["right"==h?X.length-1:0]:g.getBoundingClientRect()}if(w&&re<9&&!L&&(!f||!f.left&&!f.right)){var $=g.parentNode.getClientRects()[0];f=$?{left:$.left,right:$.left+zn(s.display),top:$.top,bottom:$.bottom}:Wo}for(var le=f.top-u.rect.top,ae=f.bottom-u.rect.top,ce=(le+ae)/2,Ne=u.view.measure.heights,ye=0;ye<Ne.length-1&&!(ce<Ne[ye]);ye++);var Ke={left:("right"==T?f.right:f.left)-u.rect.left,right:("left"==T?f.left:f.right)-u.rect.left,top:ye?Ne[ye-1]:0,bottom:Ne[ye]};return f.left||f.right||(Ke.bogus=!0),s.options.singleCursorHeightPerLine||(Ke.rtop=le,Ke.rbottom=ae),Ke}(e,t,r,n)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var kn,Wo={left:0,right:0,top:0,bottom:0};function jo(e,t,r){for(var n,i,o,a,s,u,l=0;l<e.length;l+=3)if(u=e[l+1],t<(s=e[l])?(i=0,o=1,a="left"):t<u?o=1+(i=t-s):(l==e.length-3||t==u&&e[l+3]>t)&&(i=(o=u-s)-1,t>=u&&(a="right")),null!=i){if(n=e[l+2],s==u&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)n=e[2+(l-=3)],a="left";if("right"==r&&i==u-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)n=e[(l+=3)+2],a="right";break}return{node:n,start:i,end:o,collapse:a,coverStart:s,coverEnd:u}}function Bs(e,t){var r=Wo;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function qo(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Uo(e){e.display.externalMeasure=null,Ue(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)qo(e.display.view[t])}function ar(e){Uo(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function $o(){return fe&&_?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Go(){return fe&&_?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ei(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=or(e.widgets[r]));return t}function jr(e,t,r,n,i){if(!i){var o=Ei(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=nn(t);if("local"==n?a+=Wr(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:Go());var u=s.left+("window"==n?0:$o());r.left+=u,r.right+=u}return r.top+=a,r.bottom+=a,r}function Vo(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=$o(),i-=Go();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function qr(e,t,r,n,i){return n||(n=Ae(e.doc,t.line)),jr(e,n,_o(e,n,t.ch,i),r)}function $t(e,t,r,n,i,o){function a(L,N){var T=Jt(e,i,L,N?"right":"left",o);return N?T.left=T.right:T.right=T.left,jr(e,n,T,r)}n=n||Ae(e.doc,t.line),i||(i=On(e,n));var s=B(n,e.doc.direction),u=t.ch,l=t.sticky;if(u>=n.text.length?(u=n.text.length,l="before"):u<=0&&(u=0,l="after"),!s)return a("before"==l?u-1:u,"before"==l);function h(L,N,T){return a(T?L-1:L,1==s[N].level!=T)}var f=D(s,u,l),b=x,g=h(u,f,"before"==l);return null!=b&&(g.other=h(u,b,"before"!=l)),g}function Xo(e,t){var r=0;t=Pe(e.doc,t),e.options.lineWrapping||(r=zn(e.display)*t.ch);var n=Ae(e.doc,t.line),i=nn(n)+Wr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function Ti(e,t,r,n,i){var o=ue(e,t,r);return o.xRel=i,n&&(o.outside=n),o}function Li(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Ti(n.first,0,null,-1,-1);var i=wn(n,r),o=n.first+n.size-1;if(i>o)return Ti(n.first+n.size-1,Ae(n,o).text.length,null,1,1);t<0&&(t=0);for(var a=Ae(n,i);;){var s=Ns(e,a,i,t,r),u=ys(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!u)return s;var l=u.find(1);if(l.line==i)return l;a=Ae(n,i=l.line)}}function Ko(e,t,r,n){n-=Ei(t);var i=t.text.length,o=c(function(a){return Jt(e,r,a-1).bottom<=n},i,0);return{begin:o,end:i=c(function(a){return Jt(e,r,a).top>n},o,i)}}function Zo(e,t,r,n){return r||(r=On(e,t)),Ko(e,t,r,jr(e,t,Jt(e,r,n),"line").top)}function Mi(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Ns(e,t,r,n,i){i-=nn(t);var o=On(e,t),a=Ei(t),s=0,u=t.text.length,l=!0,h=B(t,e.doc.direction);if(h){var f=(e.options.lineWrapping?Is:Os)(e,t,r,o,h,n,i);s=(l=1!=f.level)?f.from:f.to-1,u=l?f.to:f.from-1}var b,g,L=null,N=null,T=c(function(ae){var ce=Jt(e,o,ae);return ce.top+=a,ce.bottom+=a,!!Mi(ce,n,i,!1)&&(ce.top<=i&&ce.left<=n&&(L=ae,N=ce),!0)},s,u),P=!1;if(N){var X=n-N.left<N.right-n,$=X==l;T=L+($?0:1),g=$?"after":"before",b=X?N.left:N.right}else{l||T!=u&&T!=s||T++,g=0==T?"after":T==t.text.length?"before":Jt(e,o,T-(l?1:0)).bottom+a<=i==l?"after":"before";var le=$t(e,ue(r,T,g),"line",t,o);b=le.left,P=i<le.top?-1:i>=le.bottom?1:0}return Ti(r,T=Ce(t.text,T,1),g,P,n-b)}function Os(e,t,r,n,i,o,a){var s=c(function(f){var b=i[f],g=1!=b.level;return Mi($t(e,ue(r,g?b.to:b.from,g?"before":"after"),"line",t,n),o,a,!0)},0,i.length-1),u=i[s];if(s>0){var l=1!=u.level,h=$t(e,ue(r,l?u.from:u.to,l?"after":"before"),"line",t,n);Mi(h,o,a,!0)&&h.top>a&&(u=i[s-1])}return u}function Is(e,t,r,n,i,o,a){var s=Ko(e,t,n,a),u=s.begin,l=s.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var h=null,f=null,b=0;b<i.length;b++){var g=i[b];if(!(g.from>=l||g.to<=u)){var L=Jt(e,n,1!=g.level?Math.min(l,g.to)-1:Math.max(u,g.from)).right,N=L<o?o-L+1e9:L-o;(!h||f>N)&&(h=g,f=N)}}return h||(h=i[i.length-1]),h.from<u&&(h={from:u,to:h.to,level:h.level}),h.to>l&&(h={from:h.from,to:l,level:h.level}),h}function In(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==kn){kn=Z("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)kn.appendChild(document.createTextNode("x")),kn.appendChild(Z("br"));kn.appendChild(document.createTextNode("x"))}W(e.measure,kn);var r=kn.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),Ue(e.measure),r||1}function zn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Z("span","xxxxxxxxxx"),r=Z("pre",[t],"CodeMirror-line-like");W(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Bi(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;r[s]=o.offsetLeft+o.clientLeft+i,n[s]=o.clientWidth}return{fixedPos:Ni(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Ni(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Yo(e){var t=In(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/zn(e.display)-3);return function(i){if(un(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function Oi(e){var t=e.doc,r=Yo(e);t.iter(function(n){var i=r(n);i!=n.height&&Kt(n,i)})}function Sn(e,t,r,n){var i=e.display;if(!r&&"true"==Ft(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(f){return null}var u,l=Li(e,o,a);if(n&&l.xRel>0&&(u=Ae(e.doc,l.line).text).length==l.ch){var h=Je(u,u.length,e.options.tabSize)-u.length;l=ue(l.line,Math.max(0,Math.round((o-Ho(e.display).left)/zn(e.display))-h))}return l}function Fn(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function It(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)tn&&Di(e.doc,t)<i.viewTo&&dn(e);else if(r<=i.viewFrom)tn&&Eo(e.doc,r+n)>i.viewFrom?dn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)dn(e);else if(t<=i.viewFrom){var o=Ur(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):dn(e)}else if(r>=i.viewTo){var a=Ur(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):dn(e)}else{var s=Ur(e,t,t,-1),u=Ur(e,r,r+n,1);s&&u?(i.view=i.view.slice(0,s.index).concat(_r(e,s.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=n):dn(e)}var l=i.externalMeasured;l&&(r<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(i.externalMeasured=null))}function cn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Fn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==ve(a,r)&&a.push(r)}}}function dn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ur(e,t,r,n){var i,o=Fn(e,t),a=e.display.view;if(!tn||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,u=0;u<o;u++)s+=a[u].size;if(s!=t){if(n>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;Di(e.doc,r)!=r;){if(o==(n<0?0:a.length-1))return null;r+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function Qo(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function sr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Jo(e,t){void 0===t&&(t=!0);var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=e.options.$customCursor;a&&(t=!0);for(var s=0;s<r.sel.ranges.length;s++)if(t||s!=r.sel.primIndex){var u=r.sel.ranges[s];if(!(u.from().line>=e.display.viewTo||u.to().line<e.display.viewFrom)){var l=u.empty();if(a){var h=a(e,u);h&&Ii(e,h,i)}else(l||e.options.showCursorWhenSelecting)&&Ii(e,u.head,i);l||zs(e,u,o)}}return n}function Ii(e,t,r){var n=$t(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(Z("div","\xa0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=qr(e,t,"div",null,null),a=o.right-o.left;i.style.width=(a>0?a:e.defaultCharWidth())+"px"}if(n.other){var s=r.appendChild(Z("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=n.other.left+"px",s.style.top=n.other.top+"px",s.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function $r(e,t){return e.top-t.top||e.left-t.left}function zs(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),a=Ho(e.display),s=a.left,u=Math.max(n.sizerWidth,Cn(e)-n.sizer.offsetLeft)-a.right,l="ltr"==i.direction;function h($,le,ae,ce){le<0&&(le=0),le=Math.round(le),ce=Math.round(ce),o.appendChild(Z("div",null,"CodeMirror-selected","position: absolute; left: "+$+"px;\n                             top: "+le+"px; width: "+(null==ae?u-$:ae)+"px;\n                             height: "+(ce-le)+"px"))}function f($,le,ae){var ce,Ne,ye=Ae(i,$),qe=ye.text.length;function Te(Ze,$e){return qr(e,ue($,Ze),"div",ye,$e)}function Ke(Ze,$e,Ye){var We=Zo(e,ye,null,Ze),at="ltr"==$e==("after"==Ye)?"left":"right";return Te("after"==Ye?We.begin:We.end-(/\s/.test(ye.text.charAt(We.end-1))?2:1),at)[at]}var ot=B(ye,i.direction);return function(Ze,$e,Ye,We){if(!Ze)return We($e,Ye,"ltr",0);for(var at=!1,Re=0;Re<Ze.length;++Re){var Xe=Ze[Re];(Xe.from<Ye&&Xe.to>$e||$e==Ye&&Xe.to==$e)&&(We(Math.max(Xe.from,$e),Math.min(Xe.to,Ye),1==Xe.level?"rtl":"ltr",Re),at=!0)}at||We($e,Ye,"ltr")}(ot,le||0,null==ae?qe:ae,function(Ze,$e,Ye,We){var at="ltr"==Ye,Re=Te(Ze,at?"left":"right"),Xe=Te($e-1,at?"right":"left"),je=null==le&&0==Ze,et=null==ae&&$e==qe,Nt=0==We,st=!ot||We==ot.length-1;if(Xe.top-Re.top<=3){var Tt=(l?je:et)&&Nt?s:(at?Re:Xe).left;h(Tt,Re.top,((l?et:je)&&st?u:(at?Xe:Re).right)-Tt,Re.bottom)}else{var Ot,qt,St,Xt;at?(Ot=l&&je&&Nt?s:Re.left,qt=l?u:Ke(Ze,Ye,"before"),St=l?s:Ke($e,Ye,"after"),Xt=l&&et&&st?u:Xe.right):(Ot=l?Ke(Ze,Ye,"before"):s,qt=!l&&je&&Nt?u:Re.right,St=!l&&et&&st?s:Xe.left,Xt=l?Ke($e,Ye,"after"):u),h(Ot,Re.top,qt-Ot,Re.bottom),Re.bottom<Xe.top&&h(s,Re.bottom,null,Xe.top),h(St,Xe.top,Xt-St,Xe.bottom)}(!ce||$r(Re,ce)<0)&&(ce=Re),$r(Xe,ce)<0&&(ce=Xe),(!Ne||$r(Re,Ne)<0)&&(Ne=Re),$r(Xe,Ne)<0&&(Ne=Xe)}),{start:ce,end:Ne}}var b=t.from(),g=t.to();if(b.line==g.line)f(b.line,b.ch,g.ch);else{var L=Ae(i,b.line),N=Ae(i,g.line),T=Yt(L)==Yt(N),P=f(b.line,b.ch,T?L.text.length+1:null).end,X=f(g.line,T?0:null,g.ch).start;T&&(P.top<X.top-2?(h(P.right,P.top,null,P.bottom),h(s,X.top,X.left,X.bottom)):h(P.right,P.top,X.left-P.right,P.bottom)),P.bottom<X.top&&h(s,P.bottom,null,X.top)}r.appendChild(o)}function zi(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Rn(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function ea(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Hi(e))}function Ri(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Rn(e))},100)}function Hi(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Q(e,"focus",e,t),e.state.focused=!0,S(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),q&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),zi(e))}function Rn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Q(e,"blur",e,t),e.state.focused=!1,ze(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Gr(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,o=0,a=0;a<t.view.length;a++){var s=t.view[a],u=e.options.lineWrapping,l=void 0,h=0;if(!s.hidden){if(i+=s.line.height,w&&re<8){var f=s.node.offsetTop+s.node.offsetHeight;l=f-r,r=f}else{var b=s.node.getBoundingClientRect();l=b.bottom-b.top,!u&&s.text.firstChild&&(h=s.text.firstChild.getBoundingClientRect().right-b.left-1)}var g=s.line.height-l;if((g>.005||g<-.005)&&(i<n&&(o-=g),Kt(s.line,l),ta(s.line),s.rest))for(var L=0;L<s.rest.length;L++)ta(s.rest[L]);if(h>e.display.sizerWidth){var N=Math.ceil(h/zn(e.display));N>e.display.maxLineLength&&(e.display.maxLineLength=N,e.display.maxLine=s.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function ta(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function Vr(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Wr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=wn(t,n),a=wn(t,i);if(r&&r.ensure){var s=r.ensure.from.line,u=r.ensure.to.line;s<o?(o=s,a=wn(t,nn(Ae(t,s))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=a&&(o=wn(t,nn(Ae(t,u))-e.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function Pi(e,t){var r=e.display,n=In(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Fi(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Si(r),l=t.bottom>s-n;if(t.top<i)a.scrollTop=t.top<n?0:t.top;else if(t.bottom>i+o){var h=Math.min(t.top,(l?s:t.bottom)-o);h!=i&&(a.scrollTop=h)}var f=e.options.fixedGutter?0:r.gutters.offsetWidth,b=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft-f,g=Cn(e)-r.gutters.offsetWidth,L=t.right-t.left>g;return L&&(t.right=t.left+g),t.left<10?a.scrollLeft=0:t.left<b?a.scrollLeft=Math.max(0,t.left+f-(L?0:10)):t.right>g+b-3&&(a.scrollLeft=t.right+(L?0:10)-g),a}function _i(e,t){null!=t&&(Xr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Hn(e){Xr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function lr(e,t,r){null==t&&null==r||Xr(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function Xr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,na(e,Xo(e,t.from),Xo(e,t.to),t.margin))}function na(e,t,r,n){var i=Pi(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});lr(e,i.scrollLeft,i.scrollTop)}function ur(e,t){Math.abs(e.doc.scrollTop-t)<2||(K||ji(e,{top:t}),ra(e,t,!0),K&&ji(e),hr(e,100))}function ra(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function An(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,la(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function cr(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Si(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Qt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var En=function(e,t,r){this.cm=r;var n=this.vert=Z("div",[Z("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Z("div",[Z("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),E(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),E(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,w&&re<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};En.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;return r?(this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0",this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+(e.viewHeight-(t?n:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),t?(this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+(e.viewWidth-e.barLeft-(r?n:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},En.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},En.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},En.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ne&&!Fe?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ct,this.disableVert=new ct},En.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)})},En.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var dr=function(){};function Pn(e,t){t||(t=cr(e));var r=e.display.barWidth,n=e.display.barHeight;ia(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Gr(e),ia(e,cr(e)),r=e.display.barWidth,n=e.display.barHeight}function ia(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}dr.prototype.update=function(){return{bottom:0,right:0}},dr.prototype.setScrollLeft=function(){},dr.prototype.setScrollTop=function(){},dr.prototype.clear=function(){};var oa={native:En,null:dr};function aa(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&ze(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new oa[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),E(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?An(e,t):ur(e,t)},e),e.display.scrollbars.addClass&&S(e.display.wrapper,e.display.scrollbars.addClass)}var Rs=0;function Tn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Rs,markArrays:null},t=e.curOp,Nn?Nn.ops.push(t):t.ownsGroup=Nn={ops:[t],delayedCallbacks:[]}}function Ln(e){var t=e.curOp;t&&function(r,n){var i=r.ownsGroup;if(i)try{!function(o){var a=o.delayedCallbacks,s=0;do{for(;s<a.length;s++)a[s].call(null);for(var u=0;u<o.ops.length;u++){var l=o.ops[u];if(l.cursorActivityHandlers)for(;l.cursorActivityCalled<l.cursorActivityHandlers.length;)l.cursorActivityHandlers[l.cursorActivityCalled++].call(null,l.cm)}}while(s<a.length)}(i)}finally{Nn=null,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;!function(i){for(var o=i.ops,a=0;a<o.length;a++)Hs(o[a]);for(var s=0;s<o.length;s++)Ps(o[s]);for(var u=0;u<o.length;u++)_s(o[u]);for(var l=0;l<o.length;l++)Ws(o[l]);for(var h=0;h<o.length;h++)js(o[h])}(r)}(i)}}(t)}function Hs(e){var n,i,t=e.cm,r=t.display;!(i=(n=t).display).scrollbarsClipped&&i.scroller.offsetWidth&&(i.nativeBarWidth=i.scroller.offsetWidth-i.scroller.clientWidth,i.heightForcer.style.height=Qt(n)+"px",i.sizer.style.marginBottom=-i.nativeBarWidth+"px",i.sizer.style.borderRightWidth=Qt(n)+"px",i.scrollbarsClipped=!0),e.updateMaxLine&&Ci(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Kr(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ps(e){e.updatedDisplay=e.mustUpdate&&Wi(e.cm,e.update)}function _s(e){var t=e.cm,r=t.display;e.updatedDisplay&&Gr(t),e.barMeasure=cr(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=_o(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Qt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Cn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Ws(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&An(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==se();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Pn(t,e.barMeasure),e.updatedDisplay&&Ui(t,e.barMeasure),e.selectionChanged&&zi(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&ea(e.cm)}function js(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&sa(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&ra(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&An(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(l,h){if(!ge(l,"scrollCursorIntoView")){var f=l.display,b=f.sizer.getBoundingClientRect(),g=null;if(h.top+b.top<0?g=!0:h.bottom+b.top>(window.innerHeight||document.documentElement.clientHeight)&&(g=!1),null!=g&&!De){var L=Z("div","\u200b",null,"position: absolute;\n                         top: "+(h.top-f.viewOffset-Wr(l.display))+"px;\n                         height: "+(h.bottom-h.top+Qt(l)+f.barHeight)+"px;\n                         left: "+h.left+"px; width: "+Math.max(2,h.right-h.left)+"px;");l.display.lineSpace.appendChild(L),L.scrollIntoView(g),l.display.lineSpace.removeChild(L)}}}(t,function(l,h,f,b){var g;null==b&&(b=0),l.options.lineWrapping||h!=f||(f="before"==h.sticky?ue(h.line,h.ch+1,"before"):h,h=h.ch?ue(h.line,"before"==h.sticky?h.ch-1:h.ch,"after"):h);for(var L=0;L<5;L++){var N=!1,T=$t(l,h),P=f&&f!=h?$t(l,f):T,X=Pi(l,g={left:Math.min(T.left,P.left),top:Math.min(T.top,P.top)-b,right:Math.max(T.left,P.left),bottom:Math.max(T.bottom,P.bottom)+b}),$=l.doc.scrollTop,le=l.doc.scrollLeft;if(null!=X.scrollTop&&(ur(l,X.scrollTop),Math.abs(l.doc.scrollTop-$)>1&&(N=!0)),null!=X.scrollLeft&&(An(l,X.scrollLeft),Math.abs(l.doc.scrollLeft-le)>1&&(N=!0)),!N)break}return g}(t,Pe(n,e.scrollToPos.from),Pe(n,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Q(o[s],"hide");if(a)for(var u=0;u<a.length;++u)a[u].lines.length&&Q(a[u],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Q(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ht(e,t){if(e.curOp)return t();Tn(e);try{return t()}finally{Ln(e)}}function bt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Tn(e);try{return t.apply(e,arguments)}finally{Ln(e)}}}function Bt(e){return function(){if(this.curOp)return e.apply(this,arguments);Tn(this);try{return e.apply(this,arguments)}finally{Ln(this)}}}function Dt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Tn(t);try{return e.apply(this,arguments)}finally{Ln(t)}}}function hr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,Se(qs,e))}function qs(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=tr(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?bn(t.mode,n.state):null,u=po(e,o,n,!0);s&&(n.state=s),o.styles=u.styles;var l=o.styleClasses,h=u.classes;h?o.styleClasses=h:l&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||l!=h&&(!l||!h||l.bgClass!=h.bgClass||l.textClass!=h.textClass),b=0;!f&&b<a.length;++b)f=a[b]!=o.styles[b];f&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&vi(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return hr(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&Ht(e,function(){for(var o=0;o<i.length;o++)cn(e,i[o],"text")})}}var Kr=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Vr(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Cn(e),this.force=r,this.dims=Bi(e),this.events=[]};function Wi(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return dn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Qo(e))return!1;ua(e)&&(dn(e),t.dims=Bi(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),tn&&(o=Di(e.doc,o),a=Eo(e.doc,a));var h,f,b,g,s=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;f=o,b=a,0==(g=(h=e).display).view.length||f>=g.viewTo||b<=g.viewFrom?(g.view=_r(h,f,b),g.viewFrom=f):(g.viewFrom>f?g.view=_r(h,f,g.viewFrom).concat(g.view):g.viewFrom<f&&(g.view=g.view.slice(Fn(h,f))),g.viewFrom=f,g.viewTo<b?g.view=g.view.concat(_r(h,g.viewTo,b)):g.viewTo>b&&(g.view=g.view.slice(0,Fn(h,b)))),g.viewTo=b,r.viewOffset=nn(Ae(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=Qo(e);if(!s&&0==u&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var l=function(h){if(h.hasFocus())return null;var f=se();if(!f||!oe(h.display.lineDiv,f))return null;var b={activeElt:f};if(window.getSelection){var g=window.getSelection();g.anchorNode&&g.extend&&oe(h.display.lineDiv,g.anchorNode)&&(b.anchorNode=g.anchorNode,b.anchorOffset=g.anchorOffset,b.focusNode=g.focusNode,b.focusOffset=g.focusOffset)}return b}(e);return u>4&&(r.lineDiv.style.display="none"),function(h,f,b){var g=h.display,L=h.options.lineNumbers,N=g.lineDiv,T=N.firstChild;function P(ye){var qe=ye.nextSibling;return q&&ne&&h.display.currentWheelTarget==ye?ye.style.display="none":ye.parentNode.removeChild(ye),qe}for(var X=g.view,$=g.viewFrom,le=0;le<X.length;le++){var ae=X[le];if(!ae.hidden)if(ae.node&&ae.node.parentNode==N){for(;T!=ae.node;)T=P(T);var ce=L&&null!=f&&f<=$&&ae.lineNumber;ae.changes&&(ve(ae.changes,"gutter")>-1&&(ce=!1),No(h,ae,$,b)),ce&&(Ue(ae.lineNumber),ae.lineNumber.appendChild(document.createTextNode(pi(h.options,$)))),T=ae.node.nextSibling}else{var Ne=Ls(h,ae,$,b);N.insertBefore(Ne,T)}$+=ae.size}for(;T;)T=P(T)}(e,r.updateLineNumbers,t.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(h){if(h&&h.activeElt&&h.activeElt!=se()&&(h.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(h.activeElt.nodeName)&&h.anchorNode&&oe(document.body,h.anchorNode)&&oe(document.body,h.focusNode))){var f=window.getSelection(),b=document.createRange();b.setEnd(h.anchorNode,h.anchorOffset),b.collapse(!1),f.removeAllRanges(),f.addRange(b),f.extend(h.focusNode,h.focusOffset)}}(l),Ue(r.cursorDiv),Ue(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,hr(e,400)),r.updateLineNumbers=null,!0}function sa(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Cn(e))n&&(t.visible=Vr(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Si(e.display)-Fi(e),r.top)}),t.visible=Vr(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Wi(e,t))break;Gr(e);var i=cr(e);sr(e),Pn(e,i),Ui(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ji(e,t){var r=new Kr(e,t);if(Wi(e,r)){Gr(e),sa(e,r);var n=cr(e);sr(e),Pn(e,n),Ui(e,n),r.finish()}}function qi(e){e.sizer.style.marginLeft=e.gutters.offsetWidth+"px",yt(e,"gutterChanged",e)}function Ui(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Qt(e)+"px"}function la(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Ni(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=o),r[a].gutterBackground&&(r[a].gutterBackground.style.left=o));var s=r[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function ua(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=pi(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(Z("div",[Z("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",qi(e.display),!0}return!1}function $i(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}r.push({className:o,style:a})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function ca(e){var t=e.gutters,r=e.gutterSpecs;Ue(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],o=i.className,a=i.style,s=t.appendChild(Z("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",qi(e)}function fr(e){ca(e.display),It(e),la(e)}function Us(e,t,r,n){var i=this;this.input=r,i.scrollbarFiller=Z("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Z("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=he("div",null,"CodeMirror-code"),i.selectionDiv=Z("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Z("div",null,"CodeMirror-cursors"),i.measure=Z("div",null,"CodeMirror-measure"),i.lineMeasure=Z("div",null,"CodeMirror-measure"),i.lineSpace=he("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=he("div",[i.lineSpace],"CodeMirror-lines");i.mover=Z("div",[o],null,"position: relative"),i.sizer=Z("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Z("div",null,null,"position: absolute; height: 50px; width: 1px;"),i.gutters=Z("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Z("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Z("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),i.wrapper.setAttribute("translate","no"),w&&re<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),q||K&&ee||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=$i(n.gutters,n.lineNumbers),ca(i),r.init(i)}Kr.prototype.signal=function(e,t){Ie(e,t)&&this.events.push(arguments)},Kr.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Q.apply(null,this.events[e])};var Zr=0,on=null;function da(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function $s(e){var t=da(e);return t.x*=on,t.y*=on,t}function ha(e,t){var r=da(t),n=r.x,i=r.y,o=on;0===t.deltaMode&&(n=t.deltaX,i=t.deltaY,o=1);var a=e.display,s=a.scroller,l=s.scrollHeight>s.clientHeight;if(n&&s.scrollWidth>s.clientWidth||i&&l){if(i&&ne&&q)e:for(var h=t.target,f=a.view;h!=s;h=h.parentNode)for(var b=0;b<f.length;b++)if(f[b].node==h){e.display.currentWheelTarget=h;break e}if(n&&!K&&!V&&null!=o)return i&&l&&ur(e,Math.max(0,s.scrollTop+i*o)),An(e,Math.max(0,s.scrollLeft+n*o)),(!i||i&&l)&&Be(t),void(a.wheelStartX=null);if(i&&null!=o){var g=i*o,L=e.doc.scrollTop,N=L+a.wrapper.clientHeight;g<0?L=Math.max(0,L+g-50):N=Math.min(e.doc.height,N+g+50),ji(e,{top:L,bottom:N})}Zr<20&&0!==t.deltaMode&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=n,a.wheelDY=i,setTimeout(function(){if(null!=a.wheelStartX){var T=s.scrollLeft-a.wheelStartX,P=s.scrollTop-a.wheelStartY,X=P&&a.wheelDY&&P/a.wheelDY||T&&a.wheelDX&&T/a.wheelDX;a.wheelStartX=a.wheelStartY=null,X&&(on=(on*Zr+X)/(Zr+1),++Zr)}},200)):(a.wheelDX+=n,a.wheelDY+=i))}}w?on=-.53:K?on=15:fe?on=-.7:me&&(on=-1/3);var jt=function(e,t){this.ranges=e,this.primIndex=t};jt.prototype.primary=function(){return this.ranges[this.primIndex]},jt.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!mi(r.anchor,n.anchor)||!mi(r.head,n.head))return!1}return!0},jt.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new it(gi(this.ranges[t].anchor),gi(this.ranges[t].head));return new jt(e,this.primIndex)},jt.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},jt.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(He(t,n.from())>=0&&He(e,n.to())<=0)return r}return-1};var it=function(e,t){this.anchor=e,this.head=t};function Gt(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort(function(b,g){return He(b.from(),g.from())}),r=ve(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],u=He(s.to(),a.from());if(n&&!a.empty()?u>0:u>=0){var l=Nr(s.from(),a.from()),h=Br(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=r&&--r,t.splice(--o,2,new it(f?h:l,f?l:h))}}return new jt(t,r)}function hn(e,t){return new jt([new it(e,t||e)],0)}function fn(e){return e.text?ue(e.from.line+e.text.length-1,Me(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function fa(e,t){if(He(e,t.from)<0)return e;if(He(e,t.to)<=0)return fn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=fn(t).ch-t.to.ch),ue(r,n)}function Gi(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new it(fa(i.anchor,t),fa(i.head,t)))}return Gt(e.cm,r,e.sel.primIndex)}function pa(e,t,r){return e.line==t.line?ue(r.line,e.ch-t.ch+r.ch):ue(r.line+(e.line-t.line),e.ch)}function Vi(e){e.doc.mode=Jn(e.options,e.doc.modeOption),pr(e)}function pr(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,hr(e,100),e.state.modeGen++,e.curOp&&It(e)}function ma(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Me(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Xi(e,t,r,n){function i(X){return r?r[X]:null}function o(X,$,le){(function(ae,ce,Ne,ye){ae.text=ce,ae.stateAfter&&(ae.stateAfter=null),ae.styles&&(ae.styles=null),null!=ae.order&&(ae.order=null),Co(ae),ko(ae,Ne);var qe=ye?ye(ae):1;qe!=ae.height&&Kt(ae,qe)})(X,$,le,n),yt(X,"change",X,t)}function a(X,$){for(var le=[],ae=X;ae<$;++ae)le.push(new Bn(l[ae],i(ae),n));return le}var s=t.from,u=t.to,l=t.text,h=Ae(e,s.line),f=Ae(e,u.line),b=Me(l),g=i(l.length-1),L=u.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(ma(e,t)){var N=a(0,l.length-1);o(f,f.text,g),L&&e.remove(s.line,L),N.length&&e.insert(s.line,N)}else if(h==f)if(1==l.length)o(h,h.text.slice(0,s.ch)+b+h.text.slice(u.ch),g);else{var T=a(1,l.length-1);T.push(new Bn(b+h.text.slice(u.ch),g,n)),o(h,h.text.slice(0,s.ch)+l[0],i(0)),e.insert(s.line+1,T)}else if(1==l.length)o(h,h.text.slice(0,s.ch)+l[0]+f.text.slice(u.ch),i(0)),e.remove(s.line+1,L);else{o(h,h.text.slice(0,s.ch)+l[0],i(0)),o(f,b+f.text.slice(u.ch),g);var P=a(1,l.length-1);L>1&&e.remove(s.line+1,L-1),e.insert(s.line+1,P)}yt(e,"change",e,t)}function pn(e,t,r){!function n(i,o,a){if(i.linked)for(var s=0;s<i.linked.length;++s){var u=i.linked[s];if(u.doc!=o){var l=a&&u.sharedHist;r&&!l||(t(u.doc,l),n(u.doc,i,l))}}}(e,null,!0)}function ga(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Oi(e),Vi(e),va(e),e.options.direction=t.direction,e.options.lineWrapping||Ci(e),e.options.mode=t.modeOption,It(e)}function va(e){("rtl"==e.doc.direction?S:ze)(e.display.lineDiv,"CodeMirror-rtl")}function Yr(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Ki(e,t){var r={from:gi(t.from),to:fn(t),text:Dn(e,t.from,t.to)};return ba(e,r,t.from.line,t.to.line+1),pn(e,function(n){return ba(n,r,t.from.line,t.to.line+1)},!0),r}function xa(e){for(;e.length&&Me(e).ranges;)e.pop()}function ya(e,t,r,n){var i=e.history;i.undone.length=0;var o,a,l,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(l=i,o=i.lastOp==n?(xa(l.done),Me(l.done)):l.done.length&&!Me(l.done).ranges?Me(l.done):l.done.length>1&&!l.done[l.done.length-2].ranges?(l.done.pop(),Me(l.done)):void 0))a=Me(o.changes),0==He(t.from,t.to)&&0==He(t.from,a.to)?a.to=fn(t):o.changes.push(Ki(e,t));else{var u=Me(i.done);for(u&&u.ranges||Qr(e.sel,i.done),o={changes:[Ki(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||Q(e,"historyAdded")}function Qr(e,t){var r=Me(t);r&&r.ranges&&r.equals(e)||t.push(e)}function ba(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(a){a.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=a.markedSpans),++o})}function Vs(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Da(e,t){var r=function(h,f){var b=f["spans_"+h.id];if(!b)return null;for(var g=[],L=0;L<f.text.length;++L)g.push(Vs(b[L]));return g}(e,t),n=yi(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else a&&(r[i]=a)}return r}function _n(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?jt.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];n.push({changes:s});for(var u=0;u<a.length;++u){var l=a[u],h=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),t)for(var f in l)(h=f.match(/^spans_(\d+)$/))&&ve(t,Number(h[1]))>-1&&(Me(s)[f]=l[f],delete l[f])}}}return n}function Zi(e,t,r,n){if(n){var i=e.anchor;if(r){var o=He(t,i)<0;o!=He(r,i)<0?(i=t,t=r):o!=He(t,r)<0&&(t=r)}return new it(i,t)}return new it(r||t,t)}function Jr(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),At(e,new jt([Zi(e.sel.primary(),t,r,i)],0),n)}function wa(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Zi(e.sel.ranges[o],t[o],null,i);At(e,Gt(e.cm,n,e.sel.primIndex),r)}function Yi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,At(e,Gt(e.cm,i,e.sel.primIndex),n)}function Ca(e,t,r,n){At(e,hn(t,r),n)}function ka(e,t,r){var n=e.history.done,i=Me(n);i&&i.ranges?(n[n.length-1]=t,ei(e,t,r)):At(e,t,r)}function At(e,t,r){ei(e,t,r),function(e,t,r,n){var a,s,u,l,h,i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||(a=e,s=o,u=Me(i.done),l=t,"*"==(h=s.charAt(0))||"+"==h&&u.ranges.length==l.ranges.length&&u.somethingSelected()==l.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)))?i.done[i.done.length-1]=t:Qr(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&xa(i.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function ei(e,t,r){var i,o,a,s;(Ie(e,"beforeSelectionChange")||e.cm&&Ie(e.cm,"beforeSelectionChange"))&&(Q(i=e,"beforeSelectionChange",i,s={ranges:(o=t).ranges,update:function(u){this.ranges=[];for(var l=0;l<u.length;l++)this.ranges[l]=new it(Pe(i,u[l].anchor),Pe(i,u[l].head))},origin:(a=r)&&a.origin}),i.cm&&Q(i.cm,"beforeSelectionChange",i.cm,s),t=s.ranges!=o.ranges?Gt(i.cm,s.ranges,s.ranges.length-1):o);var n=r&&r.bias||(He(t.primary().head,e.sel.primary().head)<0?-1:1);Sa(e,Aa(e,t,n,!0)),r&&!1===r.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||Hn(e.cm)}function Sa(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,_e(e.cm)),yt(e,"cursorActivity",e))}function Fa(e){Sa(e,Aa(e,e.sel,null,!1))}function Aa(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=ti(e,a.anchor,s&&s.anchor,r,n),l=ti(e,a.head,s&&s.head,r,n);(i||u!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new it(u,l))}return i?Gt(e.cm,i,t.primIndex):t}function Wn(e,t,r,n,i){var o=Ae(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],u=s.marker,l="selectLeft"in u?!u.selectLeft:u.inclusiveLeft,h="selectRight"in u?!u.selectRight:u.inclusiveRight;if((null==s.from||(l?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(h?s.to>=t.ch:s.to>t.ch))){if(i&&(Q(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(r){var f=u.find(n<0?1:-1),b=void 0;if((n<0?h:l)&&(f=Ea(e,f,-n,f&&f.line==t.line?o:null)),f&&f.line==t.line&&(b=He(f,r))&&(n<0?b<0:b>0))return Wn(e,f,t,n,i)}var g=u.find(n<0?-1:1);return(n<0?l:h)&&(g=Ea(e,g,n,g.line==t.line?o:null)),g?Wn(e,g,t,n,i):null}}return t}function ti(e,t,r,n,i){var o=n||1;return Wn(e,t,r,o,i)||!i&&Wn(e,t,r,o,!0)||Wn(e,t,r,-o,i)||!i&&Wn(e,t,r,-o,!0)||(e.cantEdit=!0,ue(e.first,0))}function Ea(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?Pe(e,ue(t.line-1)):null:r>0&&t.ch==(n||Ae(e,t.line)).text.length?t.line<e.first+e.size-1?ue(t.line+1,0):null:new ue(t.line,t.ch+r)}function Ta(e){e.setSelection(ue(e.firstLine(),0),ue(e.lastLine()),Ve)}function La(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(i,o,a,s){i&&(n.from=Pe(e,i)),o&&(n.to=Pe(e,o)),a&&(n.text=a),void 0!==s&&(n.origin=s)}),Q(e,"beforeChange",e,n),e.cm&&Q(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function jn(e,t,r){if(e.cm){if(!e.cm.curOp)return bt(e.cm,jn)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Ie(e,"beforeChange")||e.cm&&Ie(e.cm,"beforeChange"))||(t=La(e,t,!0))){var n=Do&&!r&&function(o,a,s){var u=null;if(o.iter(a.line,s.line+1,function(X){if(X.markedSpans)for(var $=0;$<X.markedSpans.length;++$){var le=X.markedSpans[$].marker;!le.readOnly||u&&-1!=ve(u,le)||(u||(u=[])).push(le)}}),!u)return null;for(var l=[{from:a,to:s}],h=0;h<u.length;++h)for(var f=u[h],b=f.find(0),g=0;g<l.length;++g){var L=l[g];if(!(He(L.to,b.from)<0||He(L.from,b.to)>0)){var N=[g,1],T=He(L.from,b.from),P=He(L.to,b.to);(T<0||!f.inclusiveLeft&&!T)&&N.push({from:L.from,to:b.from}),(P>0||!f.inclusiveRight&&!P)&&N.push({from:b.to,to:L.to}),l.splice.apply(l,N),g+=N.length-3}}return l}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Ma(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else Ma(e,t)}}function Ma(e,t){if(1!=t.text.length||""!=t.text[0]||0!=He(t.from,t.to)){var r=Gi(e,t);ya(e,t,r,e.cm?e.cm.curOp.id:NaN),mr(e,t,r,yi(e,t));var n=[];pn(e,function(i,o){o||-1!=ve(n,i.history)||(Ia(i.history,t),n.push(i.history)),mr(i,t,null,yi(i,t))})}}function ni(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,u="undo"==t?o.undone:o.done,l=0;l<s.length&&(i=s[l],r?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(Qr(i,u),r&&!i.equals(e.sel))return void At(e,i,{clearRedo:!1});a=i}var h=[];Qr(a,u),u.push({changes:h,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=Ie(e,"beforeChange")||e.cm&&Ie(e.cm,"beforeChange"),b=function(N){var T=i.changes[N];if(T.origin=t,f&&!La(e,T,!1))return s.length=0,{};h.push(Ki(e,T));var P=N?Gi(e,T):Me(s);mr(e,T,P,Da(e,T)),!N&&e.cm&&e.cm.scrollIntoView({from:T.from,to:fn(T)});var X=[];pn(e,function($,le){le||-1!=ve(X,$.history)||(Ia($.history,T),X.push($.history)),mr($,T,null,Da($,T))})},g=i.changes.length-1;g>=0;--g){var L=b(g);if(L)return L.v}}}}function Ba(e,t){if(0!=t&&(e.first+=t,e.sel=new jt(te(e.sel.ranges,function(i){return new it(ue(i.anchor.line+t,i.anchor.ch),ue(i.head.line+t,i.head.ch))}),e.sel.primIndex),e.cm)){It(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)cn(e.cm,n,"gutter")}}function mr(e,t,r,n){if(e.cm&&!e.cm.curOp)return bt(e.cm,mr)(e,t,r,n);if(t.to.line<e.first)Ba(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Ba(e,i),t={from:ue(e.first,0),to:ue(t.to.line+i,t.to.ch),text:[Me(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ue(o,Ae(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Dn(e,t.from,t.to),r||(r=Gi(e,t)),e.cm?function(a,s,u){var l=a.doc,h=a.display,f=s.from,b=s.to,g=!1,L=f.line;a.options.lineWrapping||(L=lt(Yt(Ae(l,f.line))),l.iter(L,b.line+1,function($){if($==h.maxLine)return g=!0,!0})),l.sel.contains(s.from,s.to)>-1&&_e(a),Xi(l,s,u,Yo(a)),a.options.lineWrapping||(l.iter(L,f.line+s.text.length,function($){var le=Pr($);le>h.maxLineLength&&(h.maxLine=$,h.maxLineLength=le,h.maxLineChanged=!0,g=!1)}),g&&(a.curOp.updateMaxLine=!0)),function($,le){if($.modeFrontier=Math.min($.modeFrontier,le),!($.highlightFrontier<le-10)){for(var ae=$.first,ce=le-1;ce>ae;ce--){var Ne=Ae($,ce).stateAfter;if(Ne&&(!(Ne instanceof Or)||ce+Ne.lookAhead<le)){ae=ce+1;break}}$.highlightFrontier=Math.min($.highlightFrontier,ae)}}(l,f.line),hr(a,400);var N=s.text.length-(b.line-f.line)-1;s.full?It(a):f.line!=b.line||1!=s.text.length||ma(a.doc,s)?It(a,f.line,b.line+1,N):cn(a,f.line,"text");var T=Ie(a,"changes"),P=Ie(a,"change");if(P||T){var X={from:f,to:b,text:s.text,removed:s.removed,origin:s.origin};P&&yt(a,"change",a,X),T&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(X)}a.display.selForContextMenu=null}(e.cm,t,n):Xi(e,t,n),ei(e,r,Ve),e.cantEdit&&ti(e,ue(e.firstLine(),0))&&(e.cantEdit=!1)}}function qn(e,t,r,n,i){var o;n||(n=r),He(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),jn(e,{from:r,to:n,text:t,origin:i})}function Na(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Oa(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)Na(o.ranges[s].anchor,t,r,n),Na(o.ranges[s].head,t,r,n)}else{for(var u=0;u<o.changes.length;++u){var l=o.changes[u];if(r<l.from.line)l.from=ue(l.from.line+n,l.from.ch),l.to=ue(l.to.line+n,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Ia(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Oa(e.done,r,n,i),Oa(e.undone,r,n,i)}function gr(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Ae(e,ho(e,t)):i=lt(t),null==i?null:(n(o,i)&&e.cm&&cn(e.cm,i,r),o)}function vr(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function xr(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}it.prototype.from=function(){return Nr(this.anchor,this.head)},it.prototype.to=function(){return Br(this.anchor,this.head)},it.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},vr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,bs(i),yt(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},xr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof vr))){var s=[];this.collapse(s),this.children=[new vr(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var u=new vr(i.lines.slice(s,s+=25));i.height-=u.height,this.children.splice(++n,0,u),u.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new xr(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=ve(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new xr(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var yr=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function za(e,t,r){nn(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&_i(e,r)}yr.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=lt(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=or(this);Kt(r,Math.max(0,r.height-o)),e&&(Ht(e,function(){za(e,r,-o),cn(e,n,"widget")}),yt(e,"lineWidgetCleared",e,this,n))}},yr.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=or(this)-t;i&&(un(this.doc,n)||Kt(n,n.height+i),r&&Ht(r,function(){r.curOp.forceUpdate=!0,za(r,n,i),yt(r,"lineWidgetChanged",r,e,lt(n))}))},xe(yr);var Ra=0,mn=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ra};function Un(e,t,r,n,i){if(n&&n.shared)return function(f,b,g,L,N){(L=nt(L)).shared=!1;var T=[Un(f,b,g,L,N)],P=T[0],X=L.widgetNode;return pn(f,function($){X&&(L.widgetNode=X.cloneNode(!0)),T.push(Un($,Pe($,b),Pe($,g),L,N));for(var le=0;le<$.linked.length;++le)if($.linked[le].isParent)return;P=Me(T)}),new br(T,P)}(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return bt(e.cm,Un)(e,t,r,n,i);var o=new mn(e,i),a=He(t,r);if(n&&nt(n,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=he("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Ao(e,t.line,t,r,o)||t.line!=r.line&&Ao(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");tn=!0}o.addToHistory&&ya(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,u=t.line,l=e.cm;if(e.iter(u,r.line+1,function(f){var b,g,L,N;l&&o.collapsed&&!l.options.lineWrapping&&Yt(f)==l.display.maxLine&&(s=!0),o.collapsed&&u!=t.line&&Kt(f,0),b=f,g=new Ir(o,u==t.line?t.ch:null,u==r.line?r.ch:null),(N=(L=e.cm&&e.cm.curOp)&&window.WeakSet&&(L.markedSpans||(L.markedSpans=new WeakSet)))&&N.has(b.markedSpans)?b.markedSpans.push(g):(b.markedSpans=b.markedSpans?b.markedSpans.concat([g]):[g],N&&N.add(b.markedSpans)),g.marker.attachLine(b),++u}),o.collapsed&&e.iter(t.line,r.line+1,function(f){un(e,f)&&Kt(f,0)}),o.clearOnEnter&&E(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Do=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Ra,o.atomic=!0),l){if(s&&(l.curOp.updateMaxLine=!0),o.collapsed)It(l,t.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var h=t.line;h<=r.line;h++)cn(l,h,"text");o.atomic&&Fa(l.doc),yt(l,"markerAdded",l,o)}return o}mn.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Tn(e),Ie(this,"clear")){var r=this.find();r&&yt(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=nr(a.markedSpans,this);e&&!this.collapsed?cn(e,lt(a),"text"):e&&(null!=s.to&&(i=lt(a)),null!=s.from&&(n=lt(a))),a.markedSpans=xs(a.markedSpans,s),null==s.from&&this.collapsed&&!un(this.doc,a)&&e&&Kt(a,In(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var l=Yt(this.lines[u]),h=Pr(l);h>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=h,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&It(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Fa(e.doc)),e&&yt(e,"markerCleared",e,this,n,i),t&&Ln(e),this.parent&&this.parent.clear()}},mn.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=nr(o.markedSpans,this);if(null!=a.from&&(r=ue(t?o:lt(o),a.from),-1==e))return r;if(null!=a.to&&(n=ue(t?o:lt(o),a.to),1==e))return n}return r&&{from:r,to:n}},mn.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Ht(n,function(){var i=t.line,o=lt(t.line),a=Ai(n,o);if(a&&(qo(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!un(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var u=or(r)-s;u&&Kt(i,i.height+u)}yt(n,"markerChanged",n,e)})},mn.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=ve(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},mn.prototype.detachLine=function(e){if(this.lines.splice(ve(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},xe(mn);var br=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function Ha(e){return e.findMarks(ue(e.first,0),e.clipPos(ue(e.lastLine())),function(t){return t.parent})}function Xs(e){for(var t=function(n){var i=e[n],o=[i.primary.doc];pn(i.primary.doc,function(u){return o.push(u)});for(var a=0;a<i.markers.length;a++){var s=i.markers[a];-1==ve(o,s.doc)&&(s.parent=null,i.markers.splice(a--,1))}},r=0;r<e.length;r++)t(r)}br.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();yt(this,"clear")}},br.prototype.find=function(e,t){return this.primary.find(e,t)},xe(br);var Ks=0,zt=function(e,t,r,n,i){if(!(this instanceof zt))return new zt(e,t,r,n,i);null==r&&(r=0),xr.call(this,[new vr([new Bn("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=ue(r,0);this.sel=hn(o),this.history=new Yr(null),this.id=++Ks,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Xi(this,{from:o,to:o,text:e}),At(this,hn(o),Ve)};zt.prototype=y(xr.prototype,{constructor:zt,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=fi(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Dt(function(e){var t=ue(this.first,0),r=this.first+this.size-1;jn(this,{from:t,to:ue(r,Ae(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&lr(this.cm,0,0),At(this,hn(t),Ve)}),replaceRange:function(e,t,r,n){qn(this,e,t=Pe(this,t),r=r?Pe(this,r):t,n)},getRange:function(e,t,r){var n=Dn(this,Pe(this,e),Pe(this,t));return!1===r?n:n.join(""===r?"":r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(er(this,e))return Ae(this,e)},getLineNumber:function(e){return lt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ae(this,e)),Yt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Pe(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Dt(function(e,t,r){Ca(this,Pe(this,"number"==typeof e?ue(e,t||0):e),null,r)}),setSelection:Dt(function(e,t,r){Ca(this,Pe(this,e),Pe(this,t||e),r)}),extendSelection:Dt(function(e,t,r){Jr(this,Pe(this,e),t&&Pe(this,t),r)}),extendSelections:Dt(function(e,t){wa(this,fo(this,e),t)}),extendSelectionsBy:Dt(function(e,t){wa(this,fo(this,te(this.sel.ranges,e)),t)}),setSelections:Dt(function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new it(Pe(this,e[i].anchor),Pe(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),At(this,Gt(this.cm,n,t),r)}}),addSelection:Dt(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new it(Pe(this,e),Pe(this,t||e))),At(this,Gt(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Dn(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Dn(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Dt(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&function(l,h,f){for(var b=[],g=ue(l.first,0),L=g,N=0;N<h.length;N++){var T=h[N],P=pa(T.from,g,L),X=pa(fn(T),g,L);if(g=T.to,L=X,"around"==f){var $=l.sel.ranges[N],le=He($.head,$.anchor)<0;b[N]=new it(le?X:P,le?P:X)}else b[N]=new it(P,P)}return new jt(b,l.sel.primIndex)}(this,n,t),u=n.length-1;u>=0;u--)jn(this,n[u]);s?ka(this,s):this.cm&&Hn(this.cm)}),undo:Dt(function(){ni(this,"undo")}),redo:Dt(function(){ni(this,"redo")}),undoSelection:Dt(function(){ni(this,"undo",!0)}),redoSelection:Dt(function(){ni(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Yr(this.history),pn(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:_n(this.history.done),undone:_n(this.history.undone)}},setHistory:function(e){var t=this.history=new Yr(this.history);t.done=_n(e.done.slice(0),null,!0),t.undone=_n(e.undone.slice(0),null,!0)},setGutterMarker:Dt(function(e,t,r){return gr(this,e,"gutter",function(n){var i=n.gutterMarkers||(n.gutterMarkers={});return i[t]=r,!r&&H(i)&&(n.gutterMarkers=null),!0})}),clearGutter:Dt(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&gr(t,r,"gutter",function(){return r.gutterMarkers[e]=null,H(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!(er(this,e)&&(t=e,e=Ae(this,e))))return null}else if(null==(t=lt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Dt(function(e,t,r){return gr(this,e,"gutter"==t?"gutter":"class",function(n){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(n[i]){if(Ee(r).test(n[i]))return!1;n[i]+=" "+r}else n[i]=r;return!0})}),removeLineClass:Dt(function(e,t,r){return gr(this,e,"gutter"==t?"gutter":"class",function(n){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=n[i];if(!o)return!1;if(null==r)n[i]=null;else{var a=o.match(Ee(r));if(!a)return!1;var s=a.index+a[0].length;n[i]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:Dt(function(e,t,r){return i=e,s=new yr(n=this,t,r),(u=n.cm)&&s.noHScroll&&(u.display.alignWidgets=!0),gr(n,i,"widget",function(l){var h=l.widgets||(l.widgets=[]);if(null==s.insertAt?h.push(s):h.splice(Math.min(h.length,Math.max(0,s.insertAt)),0,s),s.line=l,u&&!un(n,l)){var f=nn(l)<n.scrollTop;Kt(l,l.height+or(s)),f&&_i(u,s.height),u.curOp.forceUpdate=!0}return!0}),u&&yt(u,"lineWidgetAdded",u,s,"number"==typeof i?i:lt(i)),s;var n,i,s,u}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Un(this,Pe(this,e),Pe(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Un(this,e=Pe(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Ae(this,(e=Pe(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=Pe(this,e),t=Pe(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||r&&!r(u.marker)||n.push(u.marker.parent||u.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r}),Pe(this,ue(r,t))},indexFromPos:function(e){var t=(e=Pe(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+r}),t},copy:function(e){var t=new zt(fi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new zt(fi(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(i,o){for(var a=0;a<o.length;a++){var s=o[a],u=s.find(),l=i.clipPos(u.from),h=i.clipPos(u.to);if(He(l,h)){var f=Un(i,l,h,s.primary,s.primary.type);s.markers.push(f),f.parent=s}}}(n,Ha(this)),n},unlinkDoc:function(e){if(e instanceof ft&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Xs(Ha(this));break}if(e.history==this.history){var r=[e.id];pn(e,function(n){return r.push(n.id)},!0),e.history=new Yr(null),e.history.done=_n(this.history.done,r),e.history.undone=_n(this.history.undone,r)}},iterLinkedDocs:function(e){pn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Qn(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Dt(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(r){return r.order=null}),this.cm&&Ht(t=this.cm,function(){va(t),It(t)}))})}),zt.prototype.eachLine=zt.prototype.iter;var Pa=0;function Zs(e){var t=this;if(_a(t),!ge(t,e)&&!rn(t.display,e)){Be(e),w&&(Pa=+new Date);var r=Sn(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),a=0,s=function(){++a==i&&bt(t,function(){var g={from:r=Pe(t.doc,r),to:r,text:t.doc.splitLines(o.filter(function(L){return null!=L}).join(t.doc.lineSeparator())),origin:"paste"};jn(t.doc,g),ka(t.doc,hn(Pe(t.doc,r),Pe(t.doc,fn(g))))})()},u=function(g,L){if(t.options.allowDropFileTypes&&-1==ve(t.options.allowDropFileTypes,g.type))s();else{var N=new FileReader;N.onerror=function(){return s()},N.onload=function(){var T=N.result;/[\x00-\x08\x0e-\x1f]{2}/.test(T)||(o[L]=T),s()},N.readAsText(g)}},l=0;l<n.length;l++)u(n[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var h=e.dataTransfer.getData("Text");if(h){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),ei(t.doc,hn(r,r)),f)for(var b=0;b<f.length;++b)qn(t.doc,"",f[b].anchor,f[b].head,"drag");t.replaceSelection(h,"around","paste"),t.display.input.focus()}}catch(g){}}}}function _a(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Wa(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation(function(){for(var o=0;o<r.length;o++)e(r[o])})}}var ja=!1;function Qs(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var gn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Dr=0;Dr<10;Dr++)gn[Dr+48]=gn[Dr+96]=String(Dr);for(var ri=65;ri<=90;ri++)gn[ri]=String.fromCharCode(ri);for(var wr=1;wr<=12;wr++)gn[wr+111]=gn[wr+63235]="F"+wr;var an={};function Js(e){var t,r,n,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function el(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=te(r.split(" "),Js),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=n):(s=i.slice(0,o+1).join(" "),a="...");var u=t[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[r]}for(var l in t)e[l]=t[l];return e}function $n(e,t,r,n){var i=(t=ii(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return $n(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var a=$n(e,t.fallthrough[o],r,n);if(a)return a}}}function qa(e){var t="string"==typeof e?e:gn[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ua(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(be?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(be?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function $a(e,t){if(V&&34==e.keyCode&&e.char)return!1;var r=gn[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Ua(r,e,t))}function ii(e){return"string"==typeof e?an[e]:e}function Gn(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&He(o.from,Me(n).to)<=0;){var a=n.pop();if(He(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}Ht(e,function(){for(var s=n.length-1;s>=0;s--)qn(e.doc,"",n[s].from,n[s].to,"+delete");Hn(e)})}function Qi(e,t,r){var n=Ce(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Ji(e,t,r){var n=Qi(e,t.ch,r);return null==n?null:new ue(t.line,n,r<0?"after":"before")}function eo(e,t,r,n,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=B(r,t.doc.direction);if(o){var a,s=i<0?Me(o):o[0],u=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var l=On(t,r),h=Jt(t,l,a=i<0?r.text.length-1:0).top;a=c(function(f){return Jt(t,l,f).top==h},i<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=Qi(r,a,1))}else a=i<0?s.to:s.from;return new ue(n,a,u)}}return new ue(n,i<0?r.text.length:0,i<0?"before":"after")}an.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},an.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},an.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},an.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},an.default=ne?an.macDefault:an.pcDefault;var Cr={selectAll:Ta,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ve)},killLine:function(e){return Gn(e,function(t){if(t.empty()){var r=Ae(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:ue(t.head.line+1,0)}:{from:t.head,to:ue(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Gn(e,function(t){return{from:ue(t.from().line,0),to:Pe(e.doc,ue(t.to().line+1,0))}})},delLineLeft:function(e){return Gn(e,function(t){return{from:ue(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Gn(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Gn(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ue(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ue(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ga(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Va(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return(o=function(a){for(var s;s=Hr(a);)a=s.find(1,!0).line;return a}(i=Ae((r=e).doc,n=t.head.line)))!=i&&(n=lt(o)),eo(!0,r,i,n,-1);var r,n,i,o},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},wt)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},wt)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Va(e,t.head):n},wt)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=Je(e.getLine(o.line),o.ch,n);t.push(xt(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ht(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=Ae(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ue(i.line,i.ch-1)),i.ch>0)i=new ue(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ue(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Ae(e.doc,i.line-1).text;a&&(i=new ue(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ue(i.line-1,a.length-1),i,"+transpose"))}r.push(new it(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return Ht(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Hn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ga(e,t){var r=Ae(e.doc,t),n=Yt(r);return n!=r&&(t=lt(n)),eo(!0,e,n,t,1)}function Va(e,t){var r=Ga(e,t.line),n=Ae(e.doc,r.line),i=B(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(r.ch,n.text.search(/\S/));return ue(r.line,t.line==r.line&&t.ch<=o&&t.ch?0:o,r.sticky)}return r}function oi(e,t,r){if("string"==typeof t&&!(t=Cr[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=mt}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var tl=new ct;function kr(e,t,r,n){var i=e.state.keySeq;if(i){if(qa(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:tl.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Xa(e,i+" "+t,r,n))return!0}return Xa(e,t,r,n)}function Xa(e,t,r,n){var i=function(o,a,s){for(var u=0;u<o.state.keyMaps.length;u++){var l=$n(a,o.state.keyMaps[u],s,o);if(l)return l}return o.options.extraKeys&&$n(a,o.options.extraKeys,s,o)||$n(a,o.options.keyMap,s,o)}(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&yt(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(Be(r),zi(e)),!!i}function Ka(e,t){var r=$a(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?kr(e,"Shift-"+r,t,function(n){return oi(e,n,!0)})||kr(e,r,t,function(n){if("string"==typeof n?/^go[A-Z]/.test(n):n.motion)return oi(e,n)}):kr(e,r,t,function(n){return oi(e,n)}))}var to=null;function Za(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=se(),ge(t,e)))){w&&re<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=Ka(t,e);V&&(to=n?r:null,n||88!=r||ln||!(ne?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),K&&!ne&&!n&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(i){var o=i.display.lineDiv;function a(s){18!=s.keyCode&&s.altKey||(ze(o,"CodeMirror-crosshair"),A(document,"keyup",a),A(document,"mouseover",a))}S(o,"CodeMirror-crosshair"),E(document,"keyup",a),E(document,"mouseover",a)}(t)}}function Ya(e){16==e.keyCode&&(this.doc.sel.shift=!1),ge(this,e)}function Qa(e){var o,t=this;if(!(e.target&&e.target!=t.display.input.getField()||rn(t.display,e)||ge(t,e)||e.ctrlKey&&!e.altKey||ne&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(V&&r==to)return to=null,void Be(e);if(!V||e.which&&!(e.which<10)||!Ka(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(kr(o=t,"'"+i+"'",e,function(u){return oi(o,u,!0)})||t.display.input.onKeyPress(e))}}}var Sr,Fr,no=function(e,t,r){this.time=e,this.pos=t,this.button=r};function Ja(e){var a,s,u,t=this,r=t.display;if(!(ge(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,rn(r,e))q||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!ro(t,e)){var n=Sn(t,e),i=Mt(e),o=n?(a=n,s=i,u=+new Date,Fr&&Fr.compare(u,a,s)?(Sr=Fr=null,"triple"):Sr&&Sr.compare(u,a,s)?(Fr=new no(u,a,s),Sr=null,"double"):(Sr=new no(u,a,s),Fr=null,"single")):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&function(a,s,u,l,h){var f="Click";return"double"==l?f="Double"+f:"triple"==l&&(f="Triple"+f),kr(a,Ua(f=(1==s?"Left":2==s?"Middle":"Right")+f,h),h,function(b){if("string"==typeof b&&(b=Cr[b]),!b)return!1;var g=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),g=b(a,u)!=mt}finally{a.state.suppressEdits=!1}return g})}(t,i,n,o,e)||(1==i?n?function(a,s,u,l){w?setTimeout(Se(ea,a),0):a.curOp.focus=se();var h,g,L,N,T,P,X,$,le,ae,f=function(g,L,N){var T=g.getOption("configureMouse"),P=T?T(g,L,N):{};return null==P.unit&&(P.unit=(de?N.shiftKey&&N.metaKey:N.altKey)?"rectangle":"single"==L?"char":"double"==L?"word":"line"),(null==P.extend||g.doc.extend)&&(P.extend=g.doc.extend||N.shiftKey),null==P.addNew&&(P.addNew=ne?N.metaKey:N.ctrlKey),null==P.moveOnDrag&&(P.moveOnDrag=!(ne?N.altKey:N.ctrlKey)),P}(a,u,l),b=a.doc.sel;a.options.dragDrop&&Lr&&!a.isReadOnly()&&"single"==u&&(h=b.contains(s))>-1&&(He((h=b.ranges[h]).from(),s)<0||s.xRel>0)&&(He(h.to(),s)>0||s.xRel<0)?(L=l,N=s,T=f,P=(g=a).display,X=!1,$=bt(g,function(ce){q&&(P.scroller.draggable=!1),g.state.draggingText=!1,g.state.delayingBlurEvent&&(g.hasFocus()?g.state.delayingBlurEvent=!1:Ri(g)),A(P.wrapper.ownerDocument,"mouseup",$),A(P.wrapper.ownerDocument,"mousemove",le),A(P.scroller,"dragstart",ae),A(P.scroller,"drop",$),X||(Be(ce),T.addNew||Jr(g.doc,N,null,null,T.extend),q&&!me||w&&9==re?setTimeout(function(){P.wrapper.ownerDocument.body.focus({preventScroll:!0}),P.input.focus()},20):P.input.focus())}),le=function(ce){X=X||Math.abs(L.clientX-ce.clientX)+Math.abs(L.clientY-ce.clientY)>=10},ae=function(){return X=!0},q&&(P.scroller.draggable=!0),g.state.draggingText=$,$.copy=!T.moveOnDrag,E(P.wrapper.ownerDocument,"mouseup",$),E(P.wrapper.ownerDocument,"mousemove",le),E(P.scroller,"dragstart",ae),E(P.scroller,"drop",$),g.state.delayingBlurEvent=!0,setTimeout(function(){return P.input.focus()},20),P.scroller.dragDrop&&P.scroller.dragDrop()):function(g,L,N,T){w&&Ri(g);var P=g.display,X=g.doc;Be(L);var $,le,ae=X.sel,ce=ae.ranges;if(T.addNew&&!T.extend?(le=X.sel.contains(N),$=le>-1?ce[le]:new it(N,N)):($=X.sel.primary(),le=X.sel.primIndex),"rectangle"==T.unit)T.addNew||($=new it(N,N)),N=Sn(g,L,!0,!0),le=-1;else{var Ne=es(g,N,T.unit);$=T.extend?Zi($,Ne.anchor,Ne.head,T.extend):Ne}T.addNew?-1==le?(le=ce.length,At(X,Gt(g,ce.concat([$]),le),{scroll:!1,origin:"*mouse"})):ce.length>1&&ce[le].empty()&&"char"==T.unit&&!T.extend?(At(X,Gt(g,ce.slice(0,le).concat(ce.slice(le+1)),0),{scroll:!1,origin:"*mouse"}),ae=X.sel):Yi(X,le,$,Lt):(le=0,At(X,new jt([$],0),Lt),ae=X.sel);var ye=N,Te=P.wrapper.getBoundingClientRect(),Ke=0;function ot(We){var at=++Ke,Re=Sn(g,We,!0,"rectangle"==T.unit);if(Re)if(0!=He(Re,ye)){g.curOp.focus=se(),function(We){if(0!=He(ye,We))if(ye=We,"rectangle"==T.unit){for(var at=[],Re=g.options.tabSize,Xe=Je(Ae(X,N.line).text,N.ch,Re),je=Je(Ae(X,We.line).text,We.ch,Re),et=Math.min(Xe,je),Nt=Math.max(Xe,je),st=Math.min(N.line,We.line),Et=Math.min(g.lastLine(),Math.max(N.line,We.line));st<=Et;st++){var Tt=Ae(X,st).text,ht=pt(Tt,et,Re);et==Nt?at.push(new it(ue(st,ht),ue(st,ht))):Tt.length>ht&&at.push(new it(ue(st,ht),ue(st,pt(Tt,Nt,Re))))}at.length||at.push(new it(N,N)),At(X,Gt(g,ae.ranges.slice(0,le).concat(at),le),{origin:"*mouse",scroll:!1}),g.scrollIntoView(We)}else{var Ot,qt=$,St=es(g,We,T.unit),Xt=qt.anchor;He(St.anchor,Xt)>0?(Ot=St.head,Xt=Nr(qt.from(),St.anchor)):(Ot=St.anchor,Xt=Br(qt.to(),St.head));var ci=ae.ranges.slice(0);ci[le]=function(hs,Mn){var Pt=Mn.anchor,vn=Mn.head,al=Ae(hs.doc,Pt.line);if(0==He(Pt,vn)&&Pt.sticky==vn.sticky)return Mn;var Kn=B(al);if(!Kn)return Mn;var so=D(Kn,Pt.ch,Pt.sticky),Er=Kn[so];if(Er.from!=Pt.ch&&Er.to!=Pt.ch)return Mn;var di,Tr=so+(Er.from==Pt.ch==(1!=Er.level)?0:1);if(0==Tr||Tr==Kn.length)return Mn;if(vn.line!=Pt.line)di=(vn.line-Pt.line)*("ltr"==hs.doc.direction?1:-1)>0;else{var lo=D(Kn,vn.ch,vn.sticky),fs=lo-so||(vn.ch-Pt.ch)*(1==Er.level?-1:1);di=lo==Tr-1||lo==Tr?fs<0:fs>0}var uo=Kn[Tr+(di?-1:0)],ps=di==(1==uo.level),ms=ps?uo.from:uo.to,gs=ps?"after":"before";return Pt.ch==ms&&Pt.sticky==gs?Mn:new it(new ue(Pt.line,ms,gs),vn)}(g,new it(Pe(X,Xt),Ot)),At(X,Gt(g,ci,le),Lt)}}(Re);var Xe=Vr(P,X);(Re.line>=Xe.to||Re.line<Xe.from)&&setTimeout(bt(g,function(){Ke==at&&ot(We)}),150)}else{var je=We.clientY<Te.top?-20:We.clientY>Te.bottom?20:0;je&&setTimeout(bt(g,function(){Ke==at&&(P.scroller.scrollTop+=je,ot(We))}),50)}}function Ze(We){g.state.selectingText=!1,Ke=1/0,We&&(Be(We),P.input.focus()),A(P.wrapper.ownerDocument,"mousemove",$e),A(P.wrapper.ownerDocument,"mouseup",Ye),X.history.lastSelOrigin=null}var $e=bt(g,function(We){0!==We.buttons&&Mt(We)?ot(We):Ze(We)}),Ye=bt(g,Ze);g.state.selectingText=Ye,E(P.wrapper.ownerDocument,"mousemove",$e),E(P.wrapper.ownerDocument,"mouseup",Ye)}(a,l,s,f)}(t,n,o,e):Ft(e)==r.scroller&&Be(e):2==i?(n&&Jr(t.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(we?t.display.input.onContextMenu(e):Ri(t)))}}function es(e,t,r){if("char"==r)return new it(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new it(ue(t.line,0),Pe(e.doc,ue(t.line+1,0)));var n=r(e,t);return new it(n.from,n.to)}function ts(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(h){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Be(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Ie(e,r))return tt(t);o-=s.top-a.viewOffset;for(var u=0;u<e.display.gutterSpecs.length;++u){var l=a.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i)return Q(e,r,e,wn(e.doc,o),e.display.gutterSpecs[u].className,t),tt(t)}}function ro(e,t){return ts(e,t,"gutterClick",!0)}function ns(e,t){var r,n;rn(e.display,t)||(n=t,Ie(r=e,"gutterContextMenu")&&ts(r,n,"gutterContextMenu",!1))||ge(e,t,"contextmenu")||we||e.display.input.onContextMenu(t)}function rs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ar(e)}no.prototype.compare=function(e,t,r){return this.time+400>e&&0==He(t,this.pos)&&r==this.button};var Vn={toString:function(){return"CodeMirror.Init"}},is={},ai={};function nl(e,t,r){if(!t!=!(r&&r!=Vn)){var n=e.display.dragFunctions,i=t?E:A;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function rl(e){e.options.lineWrapping?(S(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(ze(e.display.wrapper,"CodeMirror-wrap"),Ci(e)),Oi(e),It(e),ar(e),setTimeout(function(){return Pn(e)},100)}function ft(e,t){var r=this;if(!(this instanceof ft))return new ft(e,t);this.options=t=t?nt(t):{},nt(is,t,!1);var n=t.value;"string"==typeof n?n=new zt(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new ft.inputStyles[t.inputStyle](this),o=this.display=new Us(e,n,i,t);for(var a in o.wrapper.CodeMirror=this,rs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),aa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ct,keySeq:null,specialChars:null},t.autofocus&&!ee&&o.input.focus(),w&&re<11&&setTimeout(function(){return r.display.input.reset(!0)},20),function(u){var l=u.display;E(l.scroller,"mousedown",bt(u,Ja)),E(l.scroller,"dblclick",w&&re<11?bt(u,function(T){if(!ge(u,T)){var P=Sn(u,T);if(P&&!ro(u,T)&&!rn(u.display,T)){Be(T);var X=u.findWordAt(P);Jr(u.doc,X.anchor,X.head)}}}):function(T){return ge(u,T)||Be(T)}),E(l.scroller,"contextmenu",function(T){return ns(u,T)}),E(l.input.getField(),"contextmenu",function(T){l.scroller.contains(T.target)||ns(u,T)});var h,f={end:0};function b(){l.activeTouch&&(h=setTimeout(function(){return l.activeTouch=null},1e3),(f=l.activeTouch).end=+new Date)}function L(T,P){if(null==P.left)return!0;var X=P.left-T.left,$=P.top-T.top;return X*X+$*$>400}E(l.scroller,"touchstart",function(T){if(!ge(u,T)&&!function(T){if(1!=T.touches.length)return!1;var P=T.touches[0];return P.radiusX<=1&&P.radiusY<=1}(T)&&!ro(u,T)){l.input.ensurePolled(),clearTimeout(h);var P=+new Date;l.activeTouch={start:P,moved:!1,prev:P-f.end<=300?f:null},1==T.touches.length&&(l.activeTouch.left=T.touches[0].pageX,l.activeTouch.top=T.touches[0].pageY)}}),E(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),E(l.scroller,"touchend",function(T){var P=l.activeTouch;if(P&&!rn(l,T)&&null!=P.left&&!P.moved&&new Date-P.start<300){var X,$=u.coordsChar(l.activeTouch,"page");X=!P.prev||L(P,P.prev)?new it($,$):!P.prev.prev||L(P,P.prev.prev)?u.findWordAt($):new it(ue($.line,0),Pe(u.doc,ue($.line+1,0))),u.setSelection(X.anchor,X.head),u.focus(),Be(T)}b()}),E(l.scroller,"touchcancel",b),E(l.scroller,"scroll",function(){l.scroller.clientHeight&&(ur(u,l.scroller.scrollTop),An(u,l.scroller.scrollLeft,!0),Q(u,"scroll",u))}),E(l.scroller,"mousewheel",function(T){return ha(u,T)}),E(l.scroller,"DOMMouseScroll",function(T){return ha(u,T)}),E(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(T){ge(u,T)||dt(T)},over:function(T){ge(u,T)||(function(P,X){var $=Sn(P,X);if($){var le=document.createDocumentFragment();Ii(P,$,le),P.display.dragCursor||(P.display.dragCursor=Z("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),P.display.lineSpace.insertBefore(P.display.dragCursor,P.display.cursorDiv)),W(P.display.dragCursor,le)}}(u,T),dt(T))},start:function(T){return function(P,X){if(w&&(!P.state.draggingText||+new Date-Pa<100))dt(X);else if(!ge(P,X)&&!rn(P.display,X)&&(X.dataTransfer.setData("Text",P.getSelection()),X.dataTransfer.effectAllowed="copyMove",X.dataTransfer.setDragImage&&!me)){var $=Z("img",null,null,"position: fixed; left: 0; top: 0;");$.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",V&&($.width=$.height=1,P.display.wrapper.appendChild($),$._top=$.offsetTop),X.dataTransfer.setDragImage($,0,0),V&&$.parentNode.removeChild($)}}(u,T)},drop:bt(u,Zs),leave:function(T){ge(u,T)||_a(u)}};var N=l.input.getField();E(N,"keyup",function(T){return Ya.call(u,T)}),E(N,"keydown",bt(u,Za)),E(N,"keypress",bt(u,Qa)),E(N,"focus",function(T){return Hi(u,T)}),E(N,"blur",function(T){return Rn(u,T)})}(this),function(){var e;ja||(E(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Wa(Qs)},100))}),E(window,"blur",function(){return Wa(Rn)}),ja=!0)}(),Tn(this),this.curOp.forceUpdate=!0,ga(this,n),t.autofocus&&!ee||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&Hi(r)},20):Rn(this),ai)ai.hasOwnProperty(a)&&ai[a](this,t[a],Vn);ua(this),t.finishInit&&t.finishInit(this);for(var s=0;s<io.length;++s)io[s](this);Ln(this),q&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}ft.defaults=is,ft.optionHandlers=ai;var io=[];function Ar(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=tr(e,t).state:r="prev");var a=e.options.tabSize,s=Ae(o,t),u=Je(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,h=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((l=o.mode.indent(i,s.text.slice(h.length),s.text))==mt||l>150)){if(!n)return;r="prev"}}else l=0,r="not";"prev"==r?l=t>o.first?Je(Ae(o,t-1).text,null,a):0:"add"==r?l=u+e.options.indentUnit:"subtract"==r?l=u-e.options.indentUnit:"number"==typeof r&&(l=u+r),l=Math.max(0,l);var f="",b=0;if(e.options.indentWithTabs)for(var g=Math.floor(l/a);g;--g)b+=a,f+="\t";if(b<l&&(f+=xt(l-b)),f!=h)return qn(o,f,ue(t,0),ue(t,h.length),"+input"),s.stateAfter=null,!0;for(var L=0;L<o.sel.ranges.length;L++){var N=o.sel.ranges[L];if(N.head.line==t&&N.head.ch<h.length){var T=ue(t,h.length);Yi(o,L,new it(T,T));break}}}ft.defineInitHook=function(e){return io.push(e)};var Vt=null;function si(e){Vt=e}function oo(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,u=Qn(t),l=null;if(s&&n.ranges.length>1)if(Vt&&Vt.text.join("\n")==t){if(n.ranges.length%Vt.text.length==0){l=[];for(var h=0;h<Vt.text.length;h++)l.push(o.splitLines(Vt.text[h]))}}else u.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(l=te(u,function(P){return[P]}));for(var f=e.curOp.updateInput,b=n.ranges.length-1;b>=0;b--){var g=n.ranges[b],L=g.from(),N=g.to();g.empty()&&(r&&r>0?L=ue(L.line,L.ch-r):e.state.overwrite&&!s?N=ue(N.line,Math.min(Ae(o,N.line).text.length,N.ch+Me(u).length)):s&&Vt&&Vt.lineWise&&Vt.text.join("\n")==u.join("\n")&&(L=N=ue(L.line,0)));var T={from:L,to:N,text:l?l[b%l.length]:u,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};jn(e.doc,T),yt(e,"inputRead",e,T)}t&&!s&&as(e,t),Hn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function os(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Ht(t,function(){return oo(t,r,0,null,"paste")}),!0}function as(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Ar(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ae(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Ar(e,i.head.line,"smart"));a&&yt(e,"electricInput",e,i.head.line)}}}function ss(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:ue(i,0),head:ue(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function ls(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function us(){var e=Z("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=Z("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return q?e.style.width="1000px":e.setAttribute("wrap","off"),j&&(e.style.border="1px solid black"),ls(e),t}function ao(e,t,r,n,i){var o=t,a=r,s=Ae(e,t.line),u=i&&"rtl"==e.direction?-r:r;function l(P){var X,$;if("codepoint"==n){var le=s.text.charCodeAt(t.ch+(r>0?0:-1));X=isNaN(le)?null:new ue(t.line,Math.max(0,Math.min(s.text.length,t.ch+r*((r>0?le>=55296&&le<56320:le>=56320&&le<57343)?2:1))),-r)}else X=i?function(ce,Ne,ye,qe){var Te=B(Ne,ce.doc.direction);if(!Te)return Ji(Ne,ye,qe);ye.ch>=Ne.text.length?(ye.ch=Ne.text.length,ye.sticky="before"):ye.ch<=0&&(ye.ch=0,ye.sticky="after");var Ke=D(Te,ye.ch,ye.sticky),ot=Te[Ke];if("ltr"==ce.doc.direction&&ot.level%2==0&&(qe>0?ot.to>ye.ch:ot.from<ye.ch))return Ji(Ne,ye,qe);var Ze,$e=function(st,Et){return Qi(Ne,st instanceof ue?st.ch:st,Et)},Ye=function(st){return ce.options.lineWrapping?(Ze=Ze||On(ce,Ne),Zo(ce,Ne,Ze,st)):{begin:0,end:Ne.text.length}},We=Ye("before"==ye.sticky?$e(ye,-1):ye.ch);if("rtl"==ce.doc.direction||1==ot.level){var at=1==ot.level==qe<0,Re=$e(ye,at?1:-1);if(null!=Re&&(at?Re<=ot.to&&Re<=We.end:Re>=ot.from&&Re>=We.begin))return new ue(ye.line,Re,at?"before":"after")}var je=function(st,Et,Tt){for(;st>=0&&st<Te.length;st+=Et){var Ot=Te[st],qt=Et>0==(1!=Ot.level),St=qt?Tt.begin:$e(Tt.end,-1);if(Ot.from<=St&&St<Ot.to||(St=qt?Ot.from:$e(Ot.to,-1),Tt.begin<=St&&St<Tt.end))return Xt=St,qt?new ue(ye.line,$e(Xt,1),"before"):new ue(ye.line,Xt,"after")}var Xt},et=je(Ke+qe,qe,We);if(et)return et;var Nt=qe>0?We.end:$e(We.begin,-1);return null==Nt||qe>0&&Nt==Ne.text.length||!(et=je(qe>0?0:Te.length-1,qe,Ye(Nt)))?null:et}(e.cm,s,t,r):Ji(s,t,r);if(null==X){if(P||($=t.line+u)<e.first||$>=e.first+e.size||(t=new ue($,t.ch,t.sticky),!(s=Ae(e,$))))return!1;t=eo(i,e.cm,s,t.line,u)}else t=X;return!0}if("char"==n||"codepoint"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var h=null,f="group"==n,b=e.cm&&e.cm.getHelper(t,"wordChars"),g=!0;!(r<0)||l(!g);g=!1){var L=s.text.charAt(t.ch)||"\n",N=p(L,b)?"w":f&&"\n"==L?"n":!f||/\s/.test(L)?null:"p";if(!f||g||N||(N="s"),h&&h!=N){r<0&&(r=1,l(),t.sticky="after");break}if(N&&(h=N),r>0&&!l(!g))break}var T=ti(e,t,o,a,!0);return mi(o,T)&&(T.hitSide=!0),T}function cs(e,t,r,n){var i,o,a=e.doc,s=t.left;if("page"==n){var u=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(u-.5*In(e.display),3);i=(r>0?t.bottom:t.top)+r*l}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(o=Li(e,s,i)).outside;){if(r<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*r}return o}var ut=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ct,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function ds(e,t){var r=Ai(e,t.line);if(!r||r.hidden)return null;var n=Ae(e.doc,t.line),i=Po(r,n,t.line),o=B(n,e.doc.direction),a="left";o&&(a=D(o,t.ch)%2?"right":"left");var s=jo(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Xn(e,t){return t&&(e.bad=!0),e}function li(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return Xn(e.clipPos(ue(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return il(o,t,r)}}function il(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!oe(n,t))return Xn(ue(lt(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?Me(e.rest):e.line;return Xn(ue(lt(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var u=e.measure,l=u.maps;function h(T,P,X){for(var $=-1;$<(l?l.length:0);$++)for(var le=$<0?u.map:l[$],ae=0;ae<le.length;ae+=3){var ce=le[ae+2];if(ce==T||ce==P){var Ne=lt($<0?e.line:e.rest[$]),ye=le[ae]+X;return(X<0||ce!=T)&&(ye=le[ae+(X?1:0)]),ue(Ne,ye)}}}var f=h(a,s,r);if(f)return Xn(f,i);for(var b=s.nextSibling,g=a?a.nodeValue.length-r:0;b;b=b.nextSibling){if(f=h(b,b.firstChild,0))return Xn(ue(f.line,f.ch-g),i);g+=b.textContent.length}for(var L=s.previousSibling,N=r;L;L=L.previousSibling){if(f=h(L,L.firstChild,-1))return Xn(ue(f.line,f.ch+N),i);N+=L.textContent.length}}ut.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function o(s){for(var u=s.target;u;u=u.parentNode){if(u==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(u.className))break}return!1}function a(s){if(o(s)&&!ge(n,s)){if(n.somethingSelected())si({lineWise:!1,text:n.getSelections()}),"cut"==s.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var u=ss(n);si({lineWise:!0,text:u.text}),"cut"==s.type&&n.operation(function(){n.setSelections(u.ranges,0,Ve),n.replaceSelection("",null,"cut")})}if(s.clipboardData){s.clipboardData.clearData();var l=Vt.text.join("\n");if(s.clipboardData.setData("Text",l),s.clipboardData.getData("Text")==l)return void s.preventDefault()}var h=us(),f=h.firstChild;n.display.lineSpace.insertBefore(h,n.display.lineSpace.firstChild),f.value=Vt.text.join("\n");var b=se();ke(f),setTimeout(function(){n.display.lineSpace.removeChild(h),b.focus(),b==i&&r.showPrimarySelection()},50)}}i.contentEditable=!0,ls(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),E(i,"paste",function(s){!o(s)||ge(n,s)||os(s,n)||re<=11&&setTimeout(bt(n,function(){return t.updateFromDOM()}),20)}),E(i,"compositionstart",function(s){t.composing={data:s.data,done:!1}}),E(i,"compositionupdate",function(s){t.composing||(t.composing={data:s.data,done:!1})}),E(i,"compositionend",function(s){t.composing&&(s.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),E(i,"touchstart",function(){return r.forceCompositionEnd()}),E(i,"input",function(){t.composing||t.readFromDOMSoon()}),E(i,"copy",a),E(i,"cut",a)},ut.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},ut.prototype.prepareSelection=function(){var e=Jo(this.cm,!1);return e.focus=se()==this.div,e},ut.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},ut.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ut.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var o=li(t,e.anchorNode,e.anchorOffset),a=li(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=He(Nr(o,a),n)||0!=He(Br(o,a),i)){var s=t.display.view,u=n.line>=t.display.viewFrom&&ds(t,n)||{node:s[0].measure.map[2],offset:0},l=i.line<t.display.viewTo&&ds(t,i);if(!l){var h=s[s.length-1].measure,f=h.maps?h.maps[h.maps.length-1]:h.map;l={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(u&&l){var b,g=e.rangeCount&&e.getRangeAt(0);try{b=Oe(u.node,u.offset,l.offset,l.node)}catch(L){}b&&(!K&&t.state.focused?(e.collapse(u.node,u.offset),b.collapsed||(e.removeAllRanges(),e.addRange(b))):(e.removeAllRanges(),e.addRange(b)),g&&null==e.anchorNode?e.addRange(g):K&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},ut.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},ut.prototype.showMultipleSelections=function(e){W(this.cm.display.cursorDiv,e.cursors),W(this.cm.display.selectionDiv,e.selection)},ut.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},ut.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return oe(this.div,t)},ut.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&se()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},ut.prototype.blur=function(){this.div.blur()},ut.prototype.getField=function(){return this.div},ut.prototype.supportsTouch=function(){return!0},ut.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Ht(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function r(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,r))})},ut.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},ut.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(_&&fe&&this.cm.display.gutterSpecs.length&&function(i){for(var o=i;o;o=o.parentNode)if(/CodeMirror-gutter-wrapper/.test(o.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=li(t,e.anchorNode,e.anchorOffset),n=li(t,e.focusNode,e.focusOffset);r&&n&&Ht(t,function(){At(t.doc,hn(r,n),Ve),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},ut.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>n.firstLine()&&(a=ue(a.line-1,Ae(n.doc,a.line-1).length)),s.ch==Ae(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=ue(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=Fn(n,a.line))?(t=lt(i.view[0].line),r=i.view[0].node):(t=lt(i.view[e].line),r=i.view[e-1].node.nextSibling);var u,l,h=Fn(n,s.line);if(h==i.view.length-1?(u=i.viewTo-1,l=i.lineDiv.lastChild):(u=lt(i.view[h+1].line)-1,l=i.view[h+1].node.previousSibling),!r)return!1;for(var f=n.doc.splitLines(function(Ne,ye,qe,Te,Ke){var ot="",Ze=!1,$e=Ne.doc.lineSeparator(),Ye=!1;function at(){Ze&&(ot+=$e,Ye&&(ot+=$e),Ze=Ye=!1)}function Re(je){je&&(at(),ot+=je)}function Xe(je){if(1==je.nodeType){var et=je.getAttribute("cm-text");if(et)return void Re(et);var Nt,st=je.getAttribute("cm-marker");if(st){var Et=Ne.findMarks(ue(Te,0),ue(Ke+1,0),function(je){return function(et){return et.id==je}}(+st));return void(Et.length&&(Nt=Et[0].find(0))&&Re(Dn(Ne.doc,Nt.from,Nt.to).join($e)))}if("false"==je.getAttribute("contenteditable"))return;var Tt=/^(pre|div|p|li|table|br)$/i.test(je.nodeName);if(!/^br$/i.test(je.nodeName)&&0==je.textContent.length)return;Tt&&at();for(var ht=0;ht<je.childNodes.length;ht++)Xe(je.childNodes[ht]);/^(pre|p)$/i.test(je.nodeName)&&(Ye=!0),Tt&&(Ze=!0)}else 3==je.nodeType&&Re(je.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Xe(ye),ye!=qe;)ye=ye.nextSibling,Ye=!1;return ot}(n,r,l,t,u)),b=Dn(n.doc,ue(t,0),ue(u,Ae(n.doc,u).text.length));f.length>1&&b.length>1;)if(Me(f)==Me(b))f.pop(),b.pop(),u--;else{if(f[0]!=b[0])break;f.shift(),b.shift(),t++}for(var g=0,L=0,N=f[0],T=b[0],P=Math.min(N.length,T.length);g<P&&N.charCodeAt(g)==T.charCodeAt(g);)++g;for(var X=Me(f),$=Me(b),le=Math.min(X.length-(1==f.length?g:0),$.length-(1==b.length?g:0));L<le&&X.charCodeAt(X.length-L-1)==$.charCodeAt($.length-L-1);)++L;if(1==f.length&&1==b.length&&t==a.line)for(;g&&g>a.ch&&X.charCodeAt(X.length-L-1)==$.charCodeAt($.length-L-1);)g--,L++;f[f.length-1]=X.slice(0,X.length-L).replace(/^\u200b+/,""),f[0]=f[0].slice(g).replace(/\u200b+$/,"");var ae=ue(t,g),ce=ue(u,b.length?Me(b).length-L:0);return f.length>1||f[0]||He(ae,ce)?(qn(n.doc,f,ae,ce,"+input"),!0):void 0},ut.prototype.ensurePolled=function(){this.forceCompositionEnd()},ut.prototype.reset=function(){this.forceCompositionEnd()},ut.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ut.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},ut.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ht(this.cm,function(){return It(e.cm)})},ut.prototype.setUneditable=function(e){e.contentEditable="false"},ut.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||bt(this.cm,oo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},ut.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},ut.prototype.onContextMenu=function(){},ut.prototype.resetPosition=function(){},ut.prototype.needsContentAttribute=!0;var e,t,r,gt=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ct,this.hasSelection=!1,this.composing=null};gt.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function o(a){if(!ge(n,a)){if(n.somethingSelected())si({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var s=ss(n);si({lineWise:!0,text:s.text}),"cut"==a.type?n.setSelections(s.ranges,null,Ve):(r.prevInput="",i.value=s.text.join("\n"),ke(i))}"cut"==a.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),j&&(i.style.width="0px"),E(i,"input",function(){w&&re>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),E(i,"paste",function(a){ge(n,a)||os(a,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())}),E(i,"cut",o),E(i,"copy",o),E(e.scroller,"paste",function(a){if(!rn(e,a)&&!ge(n,a)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var s=new Event("paste");s.clipboardData=a.clipboardData,i.dispatchEvent(s)}}),E(e.lineSpace,"selectstart",function(a){rn(e,a)||Be(a)}),E(i,"compositionstart",function(){var a=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:a,range:n.markText(a,n.getCursor("to"),{className:"CodeMirror-composing"})}}),E(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},gt.prototype.createField=function(e){this.wrapper=us(),this.textarea=this.wrapper.firstChild},gt.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},gt.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Jo(e);if(e.options.moveInputWithCursor){var i=$t(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},gt.prototype.showSelection=function(e){var t=this.cm.display;W(t.cursorDiv,e.cursors),W(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},gt.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&ke(this.textarea),w&&re>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",w&&re>=9&&(this.hasSelection=null))}},gt.prototype.getField=function(){return this.textarea},gt.prototype.supportsTouch=function(){return!1},gt.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!ee||se()!=this.textarea))try{this.textarea.focus()}catch(e){}},gt.prototype.blur=function(){this.textarea.blur()},gt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},gt.prototype.receivedFocus=function(){this.slowPoll()},gt.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},gt.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))})},gt.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||kt(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(w&&re>=9&&this.hasSelection===i||ne&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(n.length,i.length);a<s&&n.charCodeAt(a)==i.charCodeAt(a);)++a;return Ht(t,function(){oo(t,i.slice(a),n.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},gt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},gt.prototype.onKeyPress=function(){w&&re>=9&&(this.hasSelection=null),this.fastPoll()},gt.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Sn(r,e),a=n.scroller.scrollTop;if(o&&!V){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&bt(r,At)(r.doc,hn(o),Ve);var s,u=i.style.cssText,l=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(w?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",q&&(s=window.scrollY),n.input.focus(),q&&window.scrollTo(null,s),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=g,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),w&&re>=9&&b(),we){dt(e);var f=function(){A(window,"mouseup",f),setTimeout(g,20)};E(window,"mouseup",f)}else setTimeout(g,50)}function b(){if(null!=i.selectionStart){var L=r.somethingSelected(),N="\u200b"+(L?i.value:"");i.value="\u21da",i.value=N,t.prevInput=L?"":"\u200b",i.selectionStart=1,i.selectionEnd=N.length,n.selForContextMenu=r.doc.sel}}function g(){if(t.contextMenuPending==g&&(t.contextMenuPending=!1,t.wrapper.style.cssText=l,i.style.cssText=u,w&&re<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=a),null!=i.selectionStart)){(!w||w&&re<9)&&b();var L=0,N=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?bt(r,Ta)(r):L++<10?n.detectingSelectAll=setTimeout(N,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(N,200)}}},gt.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},gt.prototype.setUneditable=function(){},gt.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(n,i,o,a){e.defaults[n]=i,o&&(t[n]=a?function(s,u,l){l!=Vn&&o(s,u,l)}:o)}e.defineOption=r,e.Init=Vn,r("value","",function(n,i){return n.setValue(i)},!0),r("mode",null,function(n,i){n.doc.modeOption=i,Vi(n)},!0),r("indentUnit",2,Vi,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){pr(n),ar(n),It(n)},!0),r("lineSeparator",null,function(n,i){if(n.doc.lineSep=i,i){var o=[],a=n.doc.first;n.doc.iter(function(u){for(var l=0;;){var h=u.text.indexOf(i,l);if(-1==h)break;l=h+i.length,o.push(ue(a,h))}a++});for(var s=o.length-1;s>=0;s--)qn(n.doc,i,o[s],ue(o[s].line,o[s].ch+i.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(n,i,o){n.state.specialChars=new RegExp(i.source+(i.test("\t")?"":"|\t"),"g"),o!=Vn&&n.refresh()}),r("specialCharPlaceholder",Cs,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",ee?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,i){return n.getInputField().spellcheck=i},!0),r("autocorrect",!1,function(n,i){return n.getInputField().autocorrect=i},!0),r("autocapitalize",!1,function(n,i){return n.getInputField().autocapitalize=i},!0),r("rtlMoveVisually",!ie),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){rs(n),fr(n)},!0),r("keyMap","default",function(n,i,o){var a=ii(i),s=o!=Vn&&ii(o);s&&s.detach&&s.detach(n,a),a.attach&&a.attach(n,s||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,rl,!0),r("gutters",[],function(n,i){n.display.gutterSpecs=$i(i,n.options.lineNumbers),fr(n)},!0),r("fixedGutter",!0,function(n,i){n.display.gutters.style.left=i?Ni(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return Pn(n)},!0),r("scrollbarStyle","native",function(n){aa(n),Pn(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,i){n.display.gutterSpecs=$i(n.options.gutters,i),fr(n)},!0),r("firstLineNumber",1,fr,!0),r("lineNumberFormatter",function(n){return n},fr,!0),r("showCursorWhenSelecting",!1,sr,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,i){"nocursor"==i&&(Rn(n),n.display.input.blur()),n.display.input.readOnlyChanged(i)}),r("screenReaderLabel",null,function(n,i){n.display.input.screenReaderLabelChanged(i=""===i?null:i)}),r("disableInput",!1,function(n,i){i||n.display.input.reset()},!0),r("dragDrop",!0,nl),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,sr,!0),r("singleCursorHeightPerLine",!0,sr,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,pr,!0),r("addModeClass",!1,pr,!0),r("pollInterval",100),r("undoDepth",200,function(n,i){return n.doc.history.undoDepth=i}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,pr,!0),r("moveInputWithCursor",!0,function(n,i){i||n.display.input.resetPosition()}),r("tabindex",null,function(n,i){return n.display.input.getField().tabIndex=i||""}),r("autofocus",null),r("direction","ltr",function(n,i){return n.doc.setDirection(i)},!0),r("phrases",null)}(ft),t=(e=ft).optionHandlers,r=e.helpers={},e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,i){var o=this.options,a=o[n];o[n]==i&&"mode"!=n||(o[n]=i,t.hasOwnProperty(n)&&bt(this,t[n])(this,i,a),Q(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,i){this.state.keyMaps[i?"push":"unshift"](ii(n))},removeKeyMap:function(n){for(var i=this.state.keyMaps,o=0;o<i.length;++o)if(i[o]==n||i[o].name==n)return i.splice(o,1),!0},addOverlay:Bt(function(n,i){var o=n.token?n:e.getMode(this.options,n);if(o.startState)throw new Error("Overlays may not be stateful.");(function(a,s,u){for(var l=0,h=u(s);l<a.length&&u(a[l])<=h;)l++;a.splice(l,0,s)})(this.state.overlays,{mode:o,modeSpec:n,opaque:i&&i.opaque,priority:i&&i.priority||0},function(a){return a.priority}),this.state.modeGen++,It(this)}),removeOverlay:Bt(function(n){for(var i=this.state.overlays,o=0;o<i.length;++o){var a=i[o].modeSpec;if(a==n||"string"==typeof n&&a.name==n)return i.splice(o,1),this.state.modeGen++,void It(this)}}),indentLine:Bt(function(n,i,o){"string"!=typeof i&&"number"!=typeof i&&(i=null==i?this.options.smartIndent?"smart":"prev":i?"add":"subtract"),er(this.doc,n)&&Ar(this,n,i,o)}),indentSelection:Bt(function(n){for(var i=this.doc.sel.ranges,o=-1,a=0;a<i.length;a++){var s=i[a];if(s.empty())s.head.line>o&&(Ar(this,s.head.line,n,!0),o=s.head.line,a==this.doc.sel.primIndex&&Hn(this));else{var u=s.from(),l=s.to(),h=Math.max(o,u.line);o=Math.min(this.lastLine(),l.line-(l.ch?0:1))+1;for(var f=h;f<o;++f)Ar(this,f,n);var b=this.doc.sel.ranges;0==u.ch&&i.length==b.length&&b[a].from().ch>0&&Yi(this.doc,a,new it(u,b[a].to()),Ve)}}}),getTokenAt:function(n,i){return xo(this,n,i)},getLineTokens:function(n,i){return xo(this,ue(n),i,!0)},getTokenTypeAt:function(n){n=Pe(this.doc,n);var i,o=mo(this,Ae(this.doc,n.line)),a=0,s=(o.length-1)/2,u=n.ch;if(0==u)i=o[2];else for(;;){var l=a+s>>1;if((l?o[2*l-1]:0)>=u)s=l;else{if(!(o[2*l+1]<u)){i=o[2*l+2];break}a=l+1}}var h=i?i.indexOf("overlay "):-1;return h<0?i:0==h?null:i.slice(0,h-1)},getModeAt:function(n){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(n).state).mode:i},getHelper:function(n,i){return this.getHelpers(n,i)[0]},getHelpers:function(n,i){var o=[];if(!r.hasOwnProperty(i))return o;var a=r[i],s=this.getModeAt(n);if("string"==typeof s[i])a[s[i]]&&o.push(a[s[i]]);else if(s[i])for(var u=0;u<s[i].length;u++){var l=a[s[i][u]];l&&o.push(l)}else s.helperType&&a[s.helperType]?o.push(a[s.helperType]):a[s.name]&&o.push(a[s.name]);for(var h=0;h<a._global.length;h++){var f=a._global[h];f.pred(s,this)&&-1==ve(o,f.val)&&o.push(f.val)}return o},getStateAfter:function(n,i){var o=this.doc;return tr(this,(n=ho(o,null==n?o.first+o.size-1:n))+1,i).state},cursorCoords:function(n,i){var o=this.doc.sel.primary();return $t(this,null==n?o.head:"object"==typeof n?Pe(this.doc,n):n?o.from():o.to(),i||"page")},charCoords:function(n,i){return qr(this,Pe(this.doc,n),i||"page")},coordsChar:function(n,i){return Li(this,(n=Vo(this,n,i||"page")).left,n.top)},lineAtHeight:function(n,i){return n=Vo(this,{top:n,left:0},i||"page").top,wn(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,i,o){var a,s=!1;if("number"==typeof n){var u=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>u&&(n=u,s=!0),a=Ae(this.doc,n)}else a=n;return jr(this,a,{top:0,left:0},i||"page",o||s).top+(s?this.doc.height-nn(a):0)},defaultTextHeight:function(){return In(this.display)},defaultCharWidth:function(){return zn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,i,o,a,s){var h,f=this.display,b=(n=$t(this,Pe(this.doc,n))).bottom,g=n.left;if(i.style.position="absolute",i.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(i),f.sizer.appendChild(i),"over"==a)b=n.top;else if("above"==a||"near"==a){var L=Math.max(f.wrapper.clientHeight,this.doc.height),N=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==a||n.bottom+i.offsetHeight>L)&&n.top>i.offsetHeight?b=n.top-i.offsetHeight:n.bottom+i.offsetHeight<=L&&(b=n.bottom),g+i.offsetWidth>N&&(g=N-i.offsetWidth)}i.style.top=b+"px",i.style.left=i.style.right="","right"==s?(g=f.sizer.clientWidth-i.offsetWidth,i.style.right="0px"):("left"==s?g=0:"middle"==s&&(g=(f.sizer.clientWidth-i.offsetWidth)/2),i.style.left=g+"px"),o&&(null!=(h=Pi(this,{left:g,top:b,right:g+i.offsetWidth,bottom:b+i.offsetHeight})).scrollTop&&ur(this,h.scrollTop),null!=h.scrollLeft&&An(this,h.scrollLeft))},triggerOnKeyDown:Bt(Za),triggerOnKeyPress:Bt(Qa),triggerOnKeyUp:Ya,triggerOnMouseDown:Bt(Ja),execCommand:function(n){if(Cr.hasOwnProperty(n))return Cr[n].call(null,this)},triggerElectric:Bt(function(n){as(this,n)}),findPosH:function(n,i,o,a){var s=1;i<0&&(s=-1,i=-i);for(var u=Pe(this.doc,n),l=0;l<i&&!(u=ao(this.doc,u,s,o,a)).hitSide;++l);return u},moveH:Bt(function(n,i){var o=this;this.extendSelectionsBy(function(a){return o.display.shift||o.doc.extend||a.empty()?ao(o.doc,a.head,n,i,o.options.rtlMoveVisually):n<0?a.from():a.to()},wt)}),deleteH:Bt(function(n,i){var a=this.doc;this.doc.sel.somethingSelected()?a.replaceSelection("",null,"+delete"):Gn(this,function(s){var u=ao(a,s.head,n,i,!1);return n<0?{from:u,to:s.head}:{from:s.head,to:u}})}),findPosV:function(n,i,o,a){var s=1,u=a;i<0&&(s=-1,i=-i);for(var l=Pe(this.doc,n),h=0;h<i;++h){var f=$t(this,l,"div");if(null==u?u=f.left:f.left=u,(l=cs(this,f,s,o)).hitSide)break}return l},moveV:Bt(function(n,i){var o=this,a=this.doc,s=[],u=!this.display.shift&&!a.extend&&a.sel.somethingSelected();if(a.extendSelectionsBy(function(h){if(u)return n<0?h.from():h.to();var f=$t(o,h.head,"div");null!=h.goalColumn&&(f.left=h.goalColumn),s.push(f.left);var b=cs(o,f,n,i);return"page"==i&&h==a.sel.primary()&&_i(o,qr(o,b,"div").top-f.top),b},wt),s.length)for(var l=0;l<a.sel.ranges.length;l++)a.sel.ranges[l].goalColumn=s[l]}),findWordAt:function(n){var i=Ae(this.doc,n.line).text,o=n.ch,a=n.ch;if(i){var s=this.getHelper(n,"wordChars");"before"!=n.sticky&&a!=i.length||!o?++a:--o;for(var u=i.charAt(o),l=p(u,s)?function(h){return p(h,s)}:/\s/.test(u)?function(h){return/\s/.test(h)}:function(h){return!/\s/.test(h)&&!p(h)};o>0&&l(i.charAt(o-1));)--o;for(;a<i.length&&l(i.charAt(a));)++a}return new it(ue(n.line,o),ue(n.line,a))},toggleOverwrite:function(n){null!=n&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?S(this.display.cursorDiv,"CodeMirror-overwrite"):ze(this.display.cursorDiv,"CodeMirror-overwrite"),Q(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==se()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Bt(function(n,i){lr(this,n,i)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-Qt(this)-this.display.barHeight,width:n.scrollWidth-Qt(this)-this.display.barWidth,clientHeight:Fi(this),clientWidth:Cn(this)}},scrollIntoView:Bt(function(n,i){var a;null==n?(n={from:this.doc.sel.primary().head,to:null},null==i&&(i=this.options.cursorScrollMargin)):"number"==typeof n?n={from:ue(n,0),to:null}:null==n.from&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=i||0,null!=n.from.line?(a=n,Xr(this),this.curOp.scrollToPos=a):na(this,n.from,n.to,n.margin)}),setSize:Bt(function(n,i){var o=this,a=function(u){return"number"==typeof u||/^\d+$/.test(String(u))?u+"px":u};null!=n&&(this.display.wrapper.style.width=a(n)),null!=i&&(this.display.wrapper.style.height=a(i)),this.options.lineWrapping&&Uo(this);var s=this.display.viewFrom;this.doc.iter(s,this.display.viewTo,function(u){if(u.widgets)for(var l=0;l<u.widgets.length;l++)if(u.widgets[l].noHScroll){cn(o,s,"widget");break}++s}),this.curOp.forceUpdate=!0,Q(this,"refresh",this)}),operation:function(n){return Ht(this,n)},startOperation:function(){return Tn(this)},endOperation:function(){return Ln(this)},refresh:Bt(function(){var n=this.display.cachedTextHeight;It(this),this.curOp.forceUpdate=!0,ar(this),lr(this,this.doc.scrollLeft,this.doc.scrollTop),qi(this.display),(null==n||Math.abs(n-In(this.display))>.5||this.options.lineWrapping)&&Oi(this),Q(this,"refresh",this)}),swapDoc:Bt(function(n){var i=this.doc;return i.cm=null,this.state.selectingText&&this.state.selectingText(),ga(this,n),ar(this),this.display.input.reset(),lr(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,yt(this,"swapDoc",this,i),i}),phrase:function(n){var i=this.options.phrases;return i&&Object.prototype.hasOwnProperty.call(i,n)?i[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xe(e),e.registerHelper=function(n,i,o){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][i]=o},e.registerGlobalHelper=function(n,i,o,a){e.registerHelper(n,i,a),r[n]._global.push({pred:o,val:a})};var ol="iter insert remove copy getEditor constructor".split(" ");for(var ui in zt.prototype)zt.prototype.hasOwnProperty(ui)&&ve(ol,ui)<0&&(ft.prototype[ui]=function(e){return function(){return e.apply(this.doc,arguments)}}(zt.prototype[ui]));return xe(zt),ft.inputStyles={textarea:gt,contenteditable:ut},ft.defineMode=function(e){ft.defaults.mode||"null"==e||(ft.defaults.mode=e),xn.apply(this,arguments)},ft.defineMIME=function(e,t){Rt[e]=t},ft.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),ft.defineMIME("text/plain","null"),ft.defineExtension=function(e,t){ft.prototype[e]=t},ft.defineDocExtension=function(e,t){zt.prototype[e]=t},ft.fromTextArea=function(e,t){if((t=t?nt(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=se();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var i;if(e.form&&(E(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(u){}}t.finishInit=function(u){u.save=n,u.getTextArea=function(){return e},u.toTextArea=function(){u.toTextArea=isNaN,n(),e.parentNode.removeChild(u.getWrapperElement()),e.style.display="",e.form&&(A(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=ft(function(u){return e.parentNode.insertBefore(u,e.nextSibling)},t);return s},function(e){e.off=A,e.on=E,e.wheelEventPixels=$s,e.Doc=zt,e.splitLines=Qn,e.countColumn=Je,e.findColumn=pt,e.isWordChar=C,e.Pass=mt,e.signal=Q,e.Line=Bn,e.changeEnd=fn,e.scrollbarModel=oa,e.Pos=ue,e.cmpPos=He,e.modes=Wt,e.mimeModes=Rt,e.resolveMode=yn,e.getMode=Jn,e.modeExtensions=en,e.extendMode=vs,e.copyState=bn,e.startState=co,e.innerMode=hi,e.commands=Cr,e.keyMap=an,e.keyName=$a,e.isModifierKey=qa,e.lookupKey=$n,e.normalizeKeyMap=el,e.StringStream=vt,e.SharedTextMarker=br,e.TextMarker=mn,e.LineWidget=yr,e.e_preventDefault=Be,e.e_stopPropagation=rt,e.e_stop=dt,e.addClass=S,e.contains=oe,e.rmClass=ze,e.keyNames=gn}(ft),ft.version="5.65.0",ft},"object"==typeof Qe&&void 0!==Ge?Ge.exports=J():(U=U||self).CodeMirror=J()},{}],11:[function(Le,Ge,Qe){var U;U=function(J){"use strict";var K=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/i;J.defineMode("gfm",function(F,R){var M=0,w={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(G){return{code:G.code,codeBlock:G.codeBlock,ateSpace:G.ateSpace}},token:function(G,fe){if(fe.combineTokens=null,fe.codeBlock)return G.match(/^```+/)?(fe.codeBlock=!1,null):(G.skipToEnd(),null);if(G.sol()&&(fe.code=!1),G.sol()&&G.match(/^```+/))return G.skipToEnd(),fe.codeBlock=!0,null;if("`"===G.peek()){G.next();var V=G.pos;G.eatWhile("`");var me=1+G.pos-V;return fe.code?me===M&&(fe.code=!1):(M=me,fe.code=!0),null}return fe.code?(G.next(),null):G.eatSpace()?(fe.ateSpace=!0,null):(G.sol()||fe.ateSpace)&&(fe.ateSpace=!1,!1!==R.gitHubSpice)&&(G.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)||G.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))||G.match(K)&&"]("!=G.string.slice(G.start-2,G.start)&&(0==G.start||/\W/.test(G.string.charAt(G.start-1)))?(fe.combineTokens=!0,"link"):(G.next(),null)},blankLine:function(G){return G.code=!1,null}},re={taskLists:!0,strikethrough:!0,emoji:!0};for(var q in R)re[q]=R[q];return re.name="markdown",J.overlayMode(J.getMode(F,re),w)},"markdown"),J.defineMIME("text/x-gfm","gfm")},"object"==typeof Qe&&"object"==typeof Ge?U(Le("../../lib/codemirror"),Le("../markdown/markdown"),Le("../../addon/mode/overlay")):U(CodeMirror)},{"../../addon/mode/overlay":7,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(Le,Ge,Qe){var U;U=function(J){"use strict";J.defineMode("markdown",function(K,F){var R=J.getMode(K,"text/html"),M="null"==R.name;void 0===F.highlightFormatting&&(F.highlightFormatting=!1),void 0===F.maxBlockquoteDepth&&(F.maxBlockquoteDepth=0),void 0===F.taskLists&&(F.taskLists=!1),void 0===F.strikethrough&&(F.strikethrough=!1),void 0===F.emoji&&(F.emoji=!1),void 0===F.fencedCodeBlockHighlighting&&(F.fencedCodeBlockHighlighting=!0),void 0===F.fencedCodeBlockDefaultMode&&(F.fencedCodeBlockDefaultMode="text/plain"),void 0===F.xml&&(F.xml=!0),void 0===F.tokenTypeOverrides&&(F.tokenTypeOverrides={});var w={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var re in w)w.hasOwnProperty(re)&&F.tokenTypeOverrides[re]&&(w[re]=F.tokenTypeOverrides[re]);var q=/^([*\-_])(?:\s*\1){2,}\s*$/,G=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,fe=/^\[(x| )\](?=\s)/i,V=F.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,me=/^ {0,3}(?:\={1,}|-{2,})\s*$/,Fe=/^[^#!\[\]*_\\<>` "'(~:]+/,De=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,j=/^\s*\[[^\]]+?\]:.*$/,_=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function ee(S,d,ke){return d.f=d.inline=ke,ke(S,d)}function ne(S,d,ke){return d.f=d.block=ke,ke(S,d)}function de(S){if(S.linkTitle=!1,S.linkHref=!1,S.linkText=!1,S.em=!1,S.strong=!1,S.strikethrough=!1,S.quote=0,S.indentedCode=!1,S.f==pe){var d=M;if(!d){var ke=J.innerMode(R,S.htmlState);d="xml"==ke.mode.name&&null===ke.state.tagStart&&!ke.state.context&&ke.state.tokenize.isInText}d&&(S.f=Oe,S.block=ie,S.htmlState=null)}return S.trailingSpace=0,S.trailingSpaceNewLine=!1,S.prevLine=S.thisLine,S.thisLine={stream:null},null}function ie(S,d){var ke,Se=S.column()===d.indentation,nt=!(ke=d.prevLine.stream)||!/\S/.test(ke.string),Je=d.indentedCode,ct=d.prevLine.hr,ve=!1!==d.list,mt=(d.listStack[d.listStack.length-1]||0)+3;d.indentedCode=!1;var Ve=d.indentation;if(null===d.indentationDiff&&(d.indentationDiff=d.indentation,ve)){for(d.list=null;Ve<d.listStack[d.listStack.length-1];)d.listStack.pop(),d.listStack.length?d.indentation=d.listStack[d.listStack.length-1]:d.list=!1;!1!==d.list&&(d.indentationDiff=Ve-d.listStack[d.listStack.length-1])}var Lt=!(nt||ct||d.prevLine.header||ve&&Je||d.prevLine.fencedCodeEnd),wt=(!1===d.list||ct||nt)&&d.indentation<=mt&&S.match(q),pt=null;if(d.indentationDiff>=4&&(Je||d.prevLine.fencedCodeEnd||d.prevLine.header||nt))return S.skipToEnd(),d.indentedCode=!0,w.code;if(S.eatSpace())return null;if(Se&&d.indentation<=mt&&(pt=S.match(V))&&pt[1].length<=6)return d.quote=0,d.header=pt[1].length,d.thisLine.header=!0,F.highlightFormatting&&(d.formatting="header"),d.f=d.inline,we(d);if(d.indentation<=mt&&S.eat(">"))return d.quote=Se?1:d.quote+1,F.highlightFormatting&&(d.formatting="quote"),S.eatSpace(),we(d);if(!wt&&!d.setext&&Se&&d.indentation<=mt&&(pt=S.match(G))){var Ct=pt[1]?"ol":"ul";return d.indentation=Ve+S.current().length,d.list=!0,d.quote=0,d.listStack.push(d.indentation),d.em=!1,d.strong=!1,d.code=!1,d.strikethrough=!1,F.taskLists&&S.match(fe,!1)&&(d.taskList=!0),d.f=d.inline,F.highlightFormatting&&(d.formatting=["list","list-"+Ct]),we(d)}return Se&&d.indentation<=mt&&(pt=S.match(De,!0))?(d.quote=0,d.fencedEndRE=new RegExp(pt[1]+"+ *$"),d.localMode=F.fencedCodeBlockHighlighting&&function(xt){if(J.findModeByName){var Me=J.findModeByName(xt);Me&&(xt=Me.mime||Me.mimes[0])}var te=J.getMode(K,xt);return"null"==te.name?null:te}(pt[2]||F.fencedCodeBlockDefaultMode),d.localMode&&(d.localState=J.startState(d.localMode)),d.f=d.block=be,F.highlightFormatting&&(d.formatting="code-block"),d.code=-1,we(d)):d.setext||!(Lt&&ve||d.quote||!1!==d.list||d.code||wt||j.test(S.string))&&(pt=S.lookAhead(1))&&(pt=pt.match(me))?(d.setext?(d.header=d.setext,d.setext=0,S.skipToEnd(),F.highlightFormatting&&(d.formatting="header")):(d.header="="==pt[0].charAt(0)?1:2,d.setext=d.header),d.thisLine.header=!0,d.f=d.inline,we(d)):wt?(S.skipToEnd(),d.hr=!0,d.thisLine.hr=!0,w.hr):"["===S.peek()?ee(S,d,Z):ee(S,d,d.inline)}function pe(S,d){var ke=R.token(S,d.htmlState);if(!M){var Se=J.innerMode(R,d.htmlState);("xml"==Se.mode.name&&null===Se.state.tagStart&&!Se.state.context&&Se.state.tokenize.isInText||d.md_inside&&S.current().indexOf(">")>-1)&&(d.f=Oe,d.block=ie,d.htmlState=null)}return ke}function be(S,d){var ke,Se=d.listStack[d.listStack.length-1]||0,nt=d.indentation<Se;return d.fencedEndRE&&d.indentation<=Se+3&&(nt||S.match(d.fencedEndRE))?(F.highlightFormatting&&(d.formatting="code-block"),nt||(ke=we(d)),d.localMode=d.localState=null,d.block=ie,d.f=Oe,d.fencedEndRE=null,d.code=0,d.thisLine.fencedCodeEnd=!0,nt?ne(S,d,d.block):ke):d.localMode?d.localMode.token(S,d.localState):(S.skipToEnd(),w.code)}function we(S){var d=[];if(S.formatting){d.push(w.formatting),"string"==typeof S.formatting&&(S.formatting=[S.formatting]);for(var ke=0;ke<S.formatting.length;ke++)d.push(w.formatting+"-"+S.formatting[ke]),"header"===S.formatting[ke]&&d.push(w.formatting+"-"+S.formatting[ke]+"-"+S.header),"quote"===S.formatting[ke]&&d.push(!F.maxBlockquoteDepth||F.maxBlockquoteDepth>=S.quote?w.formatting+"-"+S.formatting[ke]+"-"+S.quote:"error")}if(S.taskOpen)return d.push("meta"),d.length?d.join(" "):null;if(S.taskClosed)return d.push("property"),d.length?d.join(" "):null;if(S.linkHref?d.push(w.linkHref,"url"):(S.strong&&d.push(w.strong),S.em&&d.push(w.em),S.strikethrough&&d.push(w.strikethrough),S.emoji&&d.push(w.emoji),S.linkText&&d.push(w.linkText),S.code&&d.push(w.code),S.image&&d.push(w.image),S.imageAltText&&d.push(w.imageAltText,"link"),S.imageMarker&&d.push(w.imageMarker)),S.header&&d.push(w.header,w.header+"-"+S.header),S.quote&&(d.push(w.quote),d.push(!F.maxBlockquoteDepth||F.maxBlockquoteDepth>=S.quote?w.quote+"-"+S.quote:w.quote+"-"+F.maxBlockquoteDepth)),!1!==S.list){var Se=(S.listStack.length-1)%3;d.push(Se?1===Se?w.list2:w.list3:w.list1)}return S.trailingSpaceNewLine?d.push("trailing-space-new-line"):S.trailingSpace&&d.push("trailing-space-"+(S.trailingSpace%2?"a":"b")),d.length?d.join(" "):null}function Ee(S,d){if(S.match(Fe,!0))return we(d)}function Oe(S,d){var ke=d.text(S,d);if(void 0!==ke)return ke;if(d.list)return d.list=null,we(d);if(d.taskList)return" "===S.match(fe,!0)[1]?d.taskOpen=!0:d.taskClosed=!0,F.highlightFormatting&&(d.formatting="task"),d.taskList=!1,we(d);if(d.taskOpen=!1,d.taskClosed=!1,d.header&&S.match(/^#+$/,!0))return F.highlightFormatting&&(d.formatting="header"),we(d);var Se=S.next();if(d.linkTitle){d.linkTitle=!1;var nt=Se;"("===Se&&(nt=")");var Je="^\\s*(?:[^"+(nt=(nt+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+nt;if(S.match(new RegExp(Je),!0))return w.linkHref}if("`"===Se){var ct=d.formatting;F.highlightFormatting&&(d.formatting="code"),S.eatWhile("`");var ve=S.current().length;if(0!=d.code||d.quote&&1!=ve){if(ve==d.code){var mt=we(d);return d.code=0,mt}return d.formatting=ct,we(d)}return d.code=ve,we(d)}if(d.code)return we(d);if("\\"===Se&&(S.next(),F.highlightFormatting)){var Ve=we(d),Lt=w.formatting+"-escape";return Ve?Ve+" "+Lt:Lt}if("!"===Se&&S.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return d.imageMarker=!0,d.image=!0,F.highlightFormatting&&(d.formatting="image"),we(d);if("["===Se&&d.imageMarker&&S.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return d.imageMarker=!1,d.imageAltText=!0,F.highlightFormatting&&(d.formatting="image"),we(d);if("]"===Se&&d.imageAltText)return F.highlightFormatting&&(d.formatting="image"),Ve=we(d),d.imageAltText=!1,d.image=!1,d.inline=d.f=Ue,Ve;if("["===Se&&!d.image)return d.linkText&&S.match(/^.*?\]/)||(d.linkText=!0,F.highlightFormatting&&(d.formatting="link")),we(d);if("]"===Se&&d.linkText)return F.highlightFormatting&&(d.formatting="link"),Ve=we(d),d.linkText=!1,d.inline=d.f=S.match(/\(.*?\)| ?\[.*?\]/,!1)?Ue:Oe,Ve;if("<"===Se&&S.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return d.f=d.inline=ze,F.highlightFormatting&&(d.formatting="link"),(Ve=we(d))?Ve+=" ":Ve="",Ve+w.linkInline;if("<"===Se&&S.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return d.f=d.inline=ze,F.highlightFormatting&&(d.formatting="link"),(Ve=we(d))?Ve+=" ":Ve="",Ve+w.linkEmail;if(F.xml&&"<"===Se&&S.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var wt=S.string.indexOf(">",S.pos);if(-1!=wt){var pt=S.string.substring(S.start,wt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(pt)&&(d.md_inside=!0)}return S.backUp(1),d.htmlState=J.startState(R),ne(S,d,pe)}if(F.xml&&"<"===Se&&S.match(/^\/\w*?>/))return d.md_inside=!1,"tag";if("*"===Se||"_"===Se){for(var Ct=1,xt=1==S.pos?" ":S.string.charAt(S.pos-2);Ct<3&&S.eat(Se);)Ct++;var Me=S.peek()||" ",te=!/\s/.test(Me)&&(!_.test(Me)||/\s/.test(xt)||_.test(xt)),O=!/\s/.test(xt)&&(!_.test(xt)||/\s/.test(Me)||_.test(Me)),y=null,v=null;if(Ct%2&&(d.em||!te||"*"!==Se&&O&&!_.test(xt)?d.em!=Se||!O||"*"!==Se&&te&&!_.test(Me)||(y=!1):y=!0),Ct>1&&(d.strong||!te||"*"!==Se&&O&&!_.test(xt)?d.strong!=Se||!O||"*"!==Se&&te&&!_.test(Me)||(v=!1):v=!0),null!=v||null!=y)return F.highlightFormatting&&(d.formatting=null==y?"strong":null==v?"em":"strong em"),!0===y&&(d.em=Se),!0===v&&(d.strong=Se),mt=we(d),!1===y&&(d.em=!1),!1===v&&(d.strong=!1),mt}else if(" "===Se&&(S.eat("*")||S.eat("_"))){if(" "===S.peek())return we(d);S.backUp(1)}if(F.strikethrough)if("~"===Se&&S.eatWhile(Se)){if(d.strikethrough)return F.highlightFormatting&&(d.formatting="strikethrough"),mt=we(d),d.strikethrough=!1,mt;if(S.match(/^[^\s]/,!1))return d.strikethrough=!0,F.highlightFormatting&&(d.formatting="strikethrough"),we(d)}else if(" "===Se&&S.match("~~",!0)){if(" "===S.peek())return we(d);S.backUp(2)}if(F.emoji&&":"===Se&&S.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){d.emoji=!0,F.highlightFormatting&&(d.formatting="emoji");var C=we(d);return d.emoji=!1,C}return" "===Se&&(S.match(/^ +$/,!1)?d.trailingSpace++:d.trailingSpace&&(d.trailingSpaceNewLine=!0)),we(d)}function ze(S,d){if(">"===S.next()){d.f=d.inline=Oe,F.highlightFormatting&&(d.formatting="link");var ke=we(d);return ke?ke+=" ":ke="",ke+w.linkInline}return S.match(/^[^>]+/,!0),w.linkInline}function Ue(S,d){if(S.eatSpace())return null;var ke,Se=S.next();return"("===Se||"["===Se?(d.f=d.inline=(ke="("===Se?")":"]",function(nt,Je){if(nt.next()===ke){Je.f=Je.inline=Oe,F.highlightFormatting&&(Je.formatting="link-string");var ct=we(Je);return Je.linkHref=!1,ct}return nt.match(W[ke]),Je.linkHref=!0,we(Je)}),F.highlightFormatting&&(d.formatting="link-string"),d.linkHref=!0,we(d)):"error"}var W={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Z(S,d){return S.match(/^([^\]\\]|\\.)*\]:/,!1)?(d.f=he,S.next(),F.highlightFormatting&&(d.formatting="link"),d.linkText=!0,we(d)):ee(S,d,Oe)}function he(S,d){if(S.match("]:",!0)){d.f=d.inline=oe,F.highlightFormatting&&(d.formatting="link");var ke=we(d);return d.linkText=!1,ke}return S.match(/^([^\]\\]|\\.)+/,!0),w.linkText}function oe(S,d){return S.eatSpace()?null:(S.match(/^[^\s]+/,!0),void 0===S.peek()?d.linkTitle=!0:S.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),d.f=d.inline=Oe,w.linkHref+" url")}var se={startState:function(){return{f:ie,prevLine:{stream:null},thisLine:{stream:null},block:ie,htmlState:null,indentation:0,inline:Oe,text:Ee,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(S){return{f:S.f,prevLine:S.prevLine,thisLine:S.thisLine,block:S.block,htmlState:S.htmlState&&J.copyState(R,S.htmlState),indentation:S.indentation,localMode:S.localMode,localState:S.localMode?J.copyState(S.localMode,S.localState):null,inline:S.inline,text:S.text,formatting:!1,linkText:S.linkText,linkTitle:S.linkTitle,linkHref:S.linkHref,code:S.code,em:S.em,strong:S.strong,strikethrough:S.strikethrough,emoji:S.emoji,header:S.header,setext:S.setext,hr:S.hr,taskList:S.taskList,list:S.list,listStack:S.listStack.slice(0),quote:S.quote,indentedCode:S.indentedCode,trailingSpace:S.trailingSpace,trailingSpaceNewLine:S.trailingSpaceNewLine,md_inside:S.md_inside,fencedEndRE:S.fencedEndRE}},token:function(S,d){if(d.formatting=!1,S!=d.thisLine.stream){if(d.header=0,d.hr=!1,S.match(/^\s*$/,!0))return de(d),null;if(d.prevLine=d.thisLine,d.thisLine={stream:S},d.taskList=!1,d.trailingSpace=0,d.trailingSpaceNewLine=!1,!d.localState&&(d.f=d.block,d.f!=pe)){var ke=S.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(d.indentation=ke,d.indentationDiff=null,ke>0)return null}}return d.f(S,d)},innerMode:function(S){return S.block==pe?{state:S.htmlState,mode:R}:S.localState?{state:S.localState,mode:S.localMode}:{state:S,mode:se}},indent:function(S,d,ke){return S.block==pe&&R.indent?R.indent(S.htmlState,d,ke):S.localState&&S.localMode.indent?S.localMode.indent(S.localState,d,ke):J.Pass},blankLine:de,getType:we,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return se},"xml"),J.defineMIME("text/markdown","markdown"),J.defineMIME("text/x-markdown","markdown")},"object"==typeof Qe&&"object"==typeof Ge?U(Le("../../lib/codemirror"),Le("../xml/xml"),Le("../meta")):U(CodeMirror)},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(Le,Ge,Qe){!function(U){"use strict";U.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var J=0;J<U.modeInfo.length;J++){var K=U.modeInfo[J];K.mimes&&(K.mime=K.mimes[0])}U.findModeByMIME=function(F){F=F.toLowerCase();for(var R=0;R<U.modeInfo.length;R++){var M=U.modeInfo[R];if(M.mime==F)return M;if(M.mimes)for(var w=0;w<M.mimes.length;w++)if(M.mimes[w]==F)return M}return/\+xml$/.test(F)?U.findModeByMIME("application/xml"):/\+json$/.test(F)?U.findModeByMIME("application/json"):void 0},U.findModeByExtension=function(F){F=F.toLowerCase();for(var R=0;R<U.modeInfo.length;R++){var M=U.modeInfo[R];if(M.ext)for(var w=0;w<M.ext.length;w++)if(M.ext[w]==F)return M}},U.findModeByFileName=function(F){for(var R=0;R<U.modeInfo.length;R++){var M=U.modeInfo[R];if(M.file&&M.file.test(F))return M}var w=F.lastIndexOf("."),re=w>-1&&F.substring(w+1,F.length);if(re)return U.findModeByExtension(re)},U.findModeByName=function(F){F=F.toLowerCase();for(var R=0;R<U.modeInfo.length;R++){var M=U.modeInfo[R];if(M.name.toLowerCase()==F)return M;if(M.alias)for(var w=0;w<M.alias.length;w++)if(M.alias[w].toLowerCase()==F)return M}}}("object"==typeof Qe&&"object"==typeof Ge?Le("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":10}],14:[function(Le,Ge,Qe){!function(U){"use strict";var J={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},K={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};U.defineMode("xml",function(F,R){var M,w,re=F.indentUnit,q={},G=R.htmlMode?J:K;for(var fe in G)q[fe]=G[fe];for(var fe in R)q[fe]=R[fe];function V(W,Z){function he(se){return Z.tokenize=se,se(W,Z)}var oe=W.next();return"<"==oe?W.eat("!")?W.eat("[")?W.match("CDATA[")?he(Fe("atom","]]>")):null:W.match("--")?he(Fe("comment","--\x3e")):W.match("DOCTYPE",!0,!0)?(W.eatWhile(/[\w\._\-]/),he(De(1))):null:W.eat("?")?(W.eatWhile(/[\w\._\-]/),Z.tokenize=Fe("meta","?>"),"meta"):(M=W.eat("/")?"closeTag":"openTag",Z.tokenize=me,"tag bracket"):"&"==oe?(W.eat("#")?W.eat("x")?W.eatWhile(/[a-fA-F\d]/)&&W.eat(";"):W.eatWhile(/[\d]/)&&W.eat(";"):W.eatWhile(/[\w\.\-:]/)&&W.eat(";"))?"atom":"error":(W.eatWhile(/[^&<]/),null)}function me(W,Z){var he,oe,se=W.next();if(">"==se||"/"==se&&W.eat(">"))return Z.tokenize=V,M=">"==se?"endTag":"selfcloseTag","tag bracket";if("="==se)return M="equals",null;if("<"==se){Z.tokenize=V,Z.state=de,Z.tagName=Z.tagStart=null;var S=Z.tokenize(W,Z);return S?S+" tag error":"tag error"}return/[\'\"]/.test(se)?(Z.tokenize=(he=se,(oe=function(d,ke){for(;!d.eol();)if(d.next()==he){ke.tokenize=me;break}return"string"}).isInAttribute=!0,oe),Z.stringStartCol=W.column(),Z.tokenize(W,Z)):(W.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function Fe(W,Z){return function(he,oe){for(;!he.eol();){if(he.match(Z)){oe.tokenize=V;break}he.next()}return W}}function De(W){return function(Z,he){for(var oe;null!=(oe=Z.next());){if("<"==oe)return he.tokenize=De(W+1),he.tokenize(Z,he);if(">"==oe){if(1==W){he.tokenize=V;break}return he.tokenize=De(W-1),he.tokenize(Z,he)}}return"meta"}}function j(W){return W&&W.toLowerCase()}function _(W,Z,he){this.prev=W.context,this.tagName=Z||"",this.indent=W.indented,this.startOfLine=he,(q.doNotIndent.hasOwnProperty(Z)||W.context&&W.context.noIndent)&&(this.noIndent=!0)}function ee(W){W.context&&(W.context=W.context.prev)}function ne(W,Z){for(var he;;){if(!W.context||!q.contextGrabbers.hasOwnProperty(j(he=W.context.tagName))||!q.contextGrabbers[j(he)].hasOwnProperty(j(Z)))return;ee(W)}}function de(W,Z,he){return"openTag"==W?(he.tagStart=Z.column(),ie):"closeTag"==W?pe:de}function ie(W,Z,he){return"word"==W?(he.tagName=Z.current(),w="tag",Ee):q.allowMissingTagName&&"endTag"==W?(w="tag bracket",Ee(W,0,he)):(w="error",ie)}function pe(W,Z,he){if("word"==W){var oe=Z.current();return he.context&&he.context.tagName!=oe&&q.implicitlyClosed.hasOwnProperty(j(he.context.tagName))&&ee(he),he.context&&he.context.tagName==oe||!1===q.matchClosing?(w="tag",be):(w="tag error",we)}return q.allowMissingTagName&&"endTag"==W?(w="tag bracket",be(W,0,he)):(w="error",we)}function be(W,Z,he){return"endTag"!=W?(w="error",be):(ee(he),de)}function we(W,Z,he){return w="error",be(W,0,he)}function Ee(W,Z,he){if("word"==W)return w="attribute",Oe;if("endTag"==W||"selfcloseTag"==W){var oe=he.tagName,se=he.tagStart;return he.tagName=he.tagStart=null,"selfcloseTag"==W||q.autoSelfClosers.hasOwnProperty(j(oe))?ne(he,oe):(ne(he,oe),he.context=new _(he,oe,se==he.indented)),de}return w="error",Ee}function Oe(W,Z,he){return"equals"==W?ze:(q.allowMissing||(w="error"),Ee(W,0,he))}function ze(W,Z,he){return"string"==W?Ue:"word"==W&&q.allowUnquoted?(w="string",Ee):(w="error",Ee(W,0,he))}function Ue(W,Z,he){return"string"==W?Ue:Ee(W,0,he)}return V.isInText=!0,{startState:function(W){var Z={tokenize:V,state:de,indented:W||0,tagName:null,tagStart:null,context:null};return null!=W&&(Z.baseIndent=W),Z},token:function(W,Z){if(!Z.tagName&&W.sol()&&(Z.indented=W.indentation()),W.eatSpace())return null;M=null;var he=Z.tokenize(W,Z);return(he||M)&&"comment"!=he&&(w=null,Z.state=Z.state(M||he,W,Z),w&&(he="error"==w?he+" error":w)),he},indent:function(W,Z,he){var oe=W.context;if(W.tokenize.isInAttribute)return W.tagStart==W.indented?W.stringStartCol+1:W.indented+re;if(oe&&oe.noIndent)return U.Pass;if(W.tokenize!=me&&W.tokenize!=V)return he?he.match(/^(\s*)/)[0].length:0;if(W.tagName)return!1!==q.multilineTagIndentPastTag?W.tagStart+W.tagName.length+2:W.tagStart+re*(q.multilineTagIndentFactor||1);if(q.alignCDATA&&/<!\[CDATA\[/.test(Z))return 0;var se=Z&&/^<(\/)?([\w_:\.-]*)/.exec(Z);if(se&&se[1])for(;oe;){if(oe.tagName==se[2]){oe=oe.prev;break}if(!q.implicitlyClosed.hasOwnProperty(j(oe.tagName)))break;oe=oe.prev}else if(se)for(;oe;){var S=q.contextGrabbers[j(oe.tagName)];if(!S||!S.hasOwnProperty(j(se[2])))break;oe=oe.prev}for(;oe&&oe.prev&&!oe.startOfLine;)oe=oe.prev;return oe?oe.indent+re:W.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:q.htmlMode?"html":"xml",helperType:q.htmlMode?"html":"xml",skipAttribute:function(W){W.state==ze&&(W.state=Ee)},xmlCurrentTag:function(W){return W.tagName?{name:W.tagName,close:"closeTag"==W.type}:null},xmlCurrentContext:function(W){for(var Z=[],he=W.context;he;he=he.prev)Z.push(he.tagName);return Z.reverse()}}}),U.defineMIME("text/xml","xml"),U.defineMIME("application/xml","xml"),U.mimeModes.hasOwnProperty("text/html")||U.defineMIME("text/html",{name:"xml",htmlMode:!0})}("object"==typeof Qe&&"object"==typeof Ge?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],15:[function(Le,Ge,Qe){var U;U=this,function(U){"use strict";function J(te,O){for(var y=0;y<O.length;y++){var v=O[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(te,v.key,v)}}function K(te,O){(null==O||O>te.length)&&(O=te.length);for(var y=0,v=new Array(O);y<O;y++)v[y]=te[y];return v}function F(te,O){var y="undefined"!=typeof Symbol&&te[Symbol.iterator]||te["@@iterator"];if(y)return(y=y.call(te)).next.bind(y);if(Array.isArray(te)||(y=function(C,p){if(C){if("string"==typeof C)return K(C,p);var H=Object.prototype.toString.call(C).slice(8,-1);return"Object"===H&&C.constructor&&(H=C.constructor.name),"Map"===H||"Set"===H?Array.from(C):"Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?K(C,p):void 0}}(te))||O&&te&&"number"==typeof te.length){y&&(te=y);var v=0;return function(){return v>=te.length?{done:!0}:{done:!1,value:te[v++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}U.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var M=/[&<>"']/,w=/[&<>"']/g,re=/[<>"']|&(?!#?\w+;)/,q=/[<>"']|&(?!#?\w+;)/g,G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fe=function(te){return G[te]};function V(te,O){if(O){if(M.test(te))return te.replace(w,fe)}else if(re.test(te))return te.replace(q,fe);return te}var me=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Fe(te){return te.replace(me,function(O,y){return"colon"===(y=y.toLowerCase())?":":"#"===y.charAt(0)?"x"===y.charAt(1)?String.fromCharCode(parseInt(y.substring(2),16)):String.fromCharCode(+y.substring(1)):""})}var De=/(^|[^\[])\^/g;function j(te,O){te=te.source||te,O=O||"";var y={replace:function(v,C){return C=(C=C.source||C).replace(De,"$1"),te=te.replace(v,C),y},getRegex:function(){return new RegExp(te,O)}};return y}var _=/[^\w:]/g,ee=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ne(te,O,y){if(te){var v;try{v=decodeURIComponent(Fe(y)).replace(_,"").toLowerCase()}catch(C){return null}if(0===v.indexOf("javascript:")||0===v.indexOf("vbscript:")||0===v.indexOf("data:"))return null}O&&!ee.test(y)&&(y=function(C,p){de[" "+C]||(de[" "+C]=ie.test(C)?C+"/":ze(C,"/",!0));var H=-1===(C=de[" "+C]).indexOf(":");return"//"===p.substring(0,2)?H?p:C.replace(pe,"$1")+p:"/"===p.charAt(0)?H?p:C.replace(be,"$1")+p:C+p}(O,y));try{y=encodeURI(y).replace(/%25/g,"%")}catch(C){return null}return y}var de={},ie=/^[^:]+:\/*[^/]*$/,pe=/^([^:]+:)[\s\S]*$/,be=/^([^:]+:\/*[^/]*)[\s\S]*$/,we={exec:function(){}};function Ee(te){for(var O,y,v=1;v<arguments.length;v++)for(y in O=arguments[v])Object.prototype.hasOwnProperty.call(O,y)&&(te[y]=O[y]);return te}function Oe(te,O){var y=te.replace(/\|/g,function(C,p,H){for(var z=!1,k=p;--k>=0&&"\\"===H[k];)z=!z;return z?"|":" |"}).split(/ \|/),v=0;if(y[0].trim()||y.shift(),y[y.length-1].trim()||y.pop(),y.length>O)y.splice(O);else for(;y.length<O;)y.push("");for(;v<y.length;v++)y[v]=y[v].trim().replace(/\\\|/g,"|");return y}function ze(te,O,y){var v=te.length;if(0===v)return"";for(var C=0;C<v;){var p=te.charAt(v-C-1);if(p!==O||y){if(p===O||!y)break;C++}else C++}return te.substr(0,v-C)}function Ue(te){te&&te.sanitize&&!te.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function W(te,O){if(O<1)return"";for(var y="";O>1;)1&O&&(y+=te),O>>=1,te+=te;return y+te}function Z(te,O,y,v){var C=O.href,p=O.title?V(O.title):null,H=te[1].replace(/\\([\[\]])/g,"$1");if("!"!==te[0].charAt(0)){v.state.inLink=!0;var z={type:"link",raw:y,href:C,title:p,text:H,tokens:v.inlineTokens(H,[])};return v.state.inLink=!1,z}return{type:"image",raw:y,href:C,title:p,text:V(H)}}var he=function(){function te(y){this.options=y||U.defaults}var O=te.prototype;return O.space=function(y){var v=this.rules.block.newline.exec(y);if(v&&v[0].length>0)return{type:"space",raw:v[0]}},O.code=function(y){var v=this.rules.block.code.exec(y);if(v){var C=v[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:v[0],codeBlockStyle:"indented",text:this.options.pedantic?C:ze(C,"\n")}}},O.fences=function(y){var v=this.rules.block.fences.exec(y);if(v){var C=v[0],p=function(H,z){var k=H.match(/^(\s+)(?:```)/);if(null===k)return z;var Ce=k[1];return z.split("\n").map(function(c){var x=c.match(/^\s+/);return null===x?c:x[0].length>=Ce.length?c.slice(Ce.length):c}).join("\n")}(C,v[3]||"");return{type:"code",raw:C,lang:v[2]?v[2].trim():v[2],text:p}}},O.heading=function(y){var v=this.rules.block.heading.exec(y);if(v){var C=v[2].trim();if(/#$/.test(C)){var p=ze(C,"#");this.options.pedantic?C=p.trim():p&&!/ $/.test(p)||(C=p.trim())}var H={type:"heading",raw:v[0],depth:v[1].length,text:C,tokens:[]};return this.lexer.inline(H.text,H.tokens),H}},O.hr=function(y){var v=this.rules.block.hr.exec(y);if(v)return{type:"hr",raw:v[0]}},O.blockquote=function(y){var v=this.rules.block.blockquote.exec(y);if(v){var C=v[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:v[0],tokens:this.lexer.blockTokens(C,[]),text:C}}},O.list=function(y){var v=this.rules.block.list.exec(y);if(v){var C,p,H,z,k,Ce,c,x,D,m,B,I,E=v[1].trim(),Y=E.length>1,A={type:"list",raw:"",ordered:Y,start:Y?+E.slice(0,-1):"",loose:!1,items:[]};E=Y?"\\d{1,9}\\"+E.slice(-1):"\\"+E,this.options.pedantic&&(E=Y?E:"[*+-]");for(var Q=new RegExp("^( {0,3}"+E+")((?: [^\\n]*)?(?:\\n|$))");y&&(I=!1,v=Q.exec(y))&&!this.rules.block.hr.test(y);){if(y=y.substring((C=v[0]).length),x=v[2].split("\n",1)[0],D=y.split("\n",1)[0],this.options.pedantic?(z=2,B=x.trimLeft()):(z=(z=v[2].search(/[^ ]/))>4?1:z,B=x.slice(z),z+=v[1].length),Ce=!1,!x&&/^ *$/.test(D)&&(C+=D+"\n",y=y.substring(D.length+1),I=!0),!I)for(var ge=new RegExp("^ {0,"+Math.min(3,z-1)+"}(?:[*+-]|\\d{1,9}[.)])");y&&(x=m=y.split("\n",1)[0],this.options.pedantic&&(x=x.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!ge.test(x));){if(x.search(/[^ ]/)>=z||!x.trim())B+="\n"+x.slice(z);else{if(Ce)break;B+="\n"+x}Ce||x.trim()||(Ce=!0),C+=m+"\n",y=y.substring(m.length+1)}A.loose||(c?A.loose=!0:/\n *\n *$/.test(C)&&(c=!0)),this.options.gfm&&(p=/^\[[ xX]\] /.exec(B))&&(H="[ ] "!==p[0],B=B.replace(/^\[[ xX]\] +/,"")),A.items.push({type:"list_item",raw:C,task:!!p,checked:H,loose:!1,text:B}),A.raw+=C}A.items[A.items.length-1].raw=C.trimRight(),A.items[A.items.length-1].text=B.trimRight(),A.raw=A.raw.trimRight();var _e=A.items.length;for(k=0;k<_e;k++){this.lexer.state.top=!1,A.items[k].tokens=this.lexer.blockTokens(A.items[k].text,[]);var Ie=A.items[k].tokens.filter(function(Be){return"space"===Be.type}),xe=Ie.every(function(Be){for(var rt,tt=0,dt=F(Be.raw.split(""));!(rt=dt()).done;)if("\n"===rt.value&&(tt+=1),tt>1)return!0;return!1});!A.loose&&Ie.length&&xe&&(A.loose=!0,A.items[k].loose=!0)}return A}},O.html=function(y){var v=this.rules.block.html.exec(y);if(v){var C={type:"html",raw:v[0],pre:!this.options.sanitizer&&("pre"===v[1]||"script"===v[1]||"style"===v[1]),text:v[0]};return this.options.sanitize&&(C.type="paragraph",C.text=this.options.sanitizer?this.options.sanitizer(v[0]):V(v[0]),C.tokens=[],this.lexer.inline(C.text,C.tokens)),C}},O.def=function(y){var v=this.rules.block.def.exec(y);if(v)return v[3]&&(v[3]=v[3].substring(1,v[3].length-1)),{type:"def",tag:v[1].toLowerCase().replace(/\s+/g," "),raw:v[0],href:v[2],title:v[3]}},O.table=function(y){var v=this.rules.block.table.exec(y);if(v){var C={type:"table",header:Oe(v[1]).map(function(c){return{text:c}}),align:v[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:v[3]?v[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(C.header.length===C.align.length){C.raw=v[0];var p,H,z,k,Ce=C.align.length;for(p=0;p<Ce;p++)C.align[p]=/^ *-+: *$/.test(C.align[p])?"right":/^ *:-+: *$/.test(C.align[p])?"center":/^ *:-+ *$/.test(C.align[p])?"left":null;for(Ce=C.rows.length,p=0;p<Ce;p++)C.rows[p]=Oe(C.rows[p],C.header.length).map(function(c){return{text:c}});for(Ce=C.header.length,H=0;H<Ce;H++)C.header[H].tokens=[],this.lexer.inlineTokens(C.header[H].text,C.header[H].tokens);for(Ce=C.rows.length,H=0;H<Ce;H++)for(k=C.rows[H],z=0;z<k.length;z++)k[z].tokens=[],this.lexer.inlineTokens(k[z].text,k[z].tokens);return C}}},O.lheading=function(y){var v=this.rules.block.lheading.exec(y);if(v){var C={type:"heading",raw:v[0],depth:"="===v[2].charAt(0)?1:2,text:v[1],tokens:[]};return this.lexer.inline(C.text,C.tokens),C}},O.paragraph=function(y){var v=this.rules.block.paragraph.exec(y);if(v){var C={type:"paragraph",raw:v[0],text:"\n"===v[1].charAt(v[1].length-1)?v[1].slice(0,-1):v[1],tokens:[]};return this.lexer.inline(C.text,C.tokens),C}},O.text=function(y){var v=this.rules.block.text.exec(y);if(v){var C={type:"text",raw:v[0],text:v[0],tokens:[]};return this.lexer.inline(C.text,C.tokens),C}},O.escape=function(y){var v=this.rules.inline.escape.exec(y);if(v)return{type:"escape",raw:v[0],text:V(v[1])}},O.tag=function(y){var v=this.rules.inline.tag.exec(y);if(v)return!this.lexer.state.inLink&&/^<a /i.test(v[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(v[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(v[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(v[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:v[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(v[0]):V(v[0]):v[0]}},O.link=function(y){var v=this.rules.inline.link.exec(y);if(v){var C=v[2].trim();if(!this.options.pedantic&&/^</.test(C)){if(!/>$/.test(C))return;var p=ze(C.slice(0,-1),"\\");if((C.length-p.length)%2==0)return}else{var H=function(x,D){if(-1===x.indexOf(D[1]))return-1;for(var m=x.length,B=0,I=0;I<m;I++)if("\\"===x[I])I++;else if(x[I]===D[0])B++;else if(x[I]===D[1]&&--B<0)return I;return-1}(v[2],"()");if(H>-1){var z=(0===v[0].indexOf("!")?5:4)+v[1].length+H;v[2]=v[2].substring(0,H),v[0]=v[0].substring(0,z).trim(),v[3]=""}}var k=v[2],Ce="";if(this.options.pedantic){var c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(k);c&&(k=c[1],Ce=c[3])}else Ce=v[3]?v[3].slice(1,-1):"";return k=k.trim(),/^</.test(k)&&(k=this.options.pedantic&&!/>$/.test(C)?k.slice(1):k.slice(1,-1)),Z(v,{href:k&&k.replace(this.rules.inline._escapes,"$1"),title:Ce&&Ce.replace(this.rules.inline._escapes,"$1")},v[0],this.lexer)}},O.reflink=function(y,v){var C;if((C=this.rules.inline.reflink.exec(y))||(C=this.rules.inline.nolink.exec(y))){var p=(C[2]||C[1]).replace(/\s+/g," ");if(!(p=v[p.toLowerCase()])||!p.href){var H=C[0].charAt(0);return{type:"text",raw:H,text:H}}return Z(C,p,C[0],this.lexer)}},O.emStrong=function(y,v,C){void 0===C&&(C="");var p=this.rules.inline.emStrong.lDelim.exec(y);if(p&&(!p[3]||!C.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var H=p[1]||p[2]||"";if(!H||H&&(""===C||this.rules.inline.punctuation.exec(C))){var z,k,Ce=p[0].length-1,c=Ce,x=0,D="*"===p[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(D.lastIndex=0,v=v.slice(-1*y.length+Ce);null!=(p=D.exec(v));)if(z=p[1]||p[2]||p[3]||p[4]||p[5]||p[6])if(k=z.length,p[3]||p[4])c+=k;else if(!((p[5]||p[6])&&Ce%3)||(Ce+k)%3){if(!((c-=k)>0)){if(k=Math.min(k,k+c+x),Math.min(Ce,k)%2){var m=y.slice(1,Ce+p.index+k);return{type:"em",raw:y.slice(0,Ce+p.index+k+1),text:m,tokens:this.lexer.inlineTokens(m,[])}}var B=y.slice(2,Ce+p.index+k-1);return{type:"strong",raw:y.slice(0,Ce+p.index+k+1),text:B,tokens:this.lexer.inlineTokens(B,[])}}}else x+=k}}},O.codespan=function(y){var v=this.rules.inline.code.exec(y);if(v){var C=v[2].replace(/\n/g," "),p=/[^ ]/.test(C),H=/^ /.test(C)&&/ $/.test(C);return p&&H&&(C=C.substring(1,C.length-1)),C=V(C,!0),{type:"codespan",raw:v[0],text:C}}},O.br=function(y){var v=this.rules.inline.br.exec(y);if(v)return{type:"br",raw:v[0]}},O.del=function(y){var v=this.rules.inline.del.exec(y);if(v)return{type:"del",raw:v[0],text:v[2],tokens:this.lexer.inlineTokens(v[2],[])}},O.autolink=function(y,v){var C,p,H=this.rules.inline.autolink.exec(y);if(H)return p="@"===H[2]?"mailto:"+(C=V(this.options.mangle?v(H[1]):H[1])):C=V(H[1]),{type:"link",raw:H[0],text:C,href:p,tokens:[{type:"text",raw:C,text:C}]}},O.url=function(y,v){var C;if(C=this.rules.inline.url.exec(y)){var p,H;if("@"===C[2])H="mailto:"+(p=V(this.options.mangle?v(C[0]):C[0]));else{var z;do{z=C[0],C[0]=this.rules.inline._backpedal.exec(C[0])[0]}while(z!==C[0]);p=V(C[0]),H="www."===C[1]?"http://"+p:p}return{type:"link",raw:C[0],text:p,href:H,tokens:[{type:"text",raw:p,text:p}]}}},O.inlineText=function(y,v){var C,p=this.rules.inline.text.exec(y);if(p)return C=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(p[0]):V(p[0]):p[0]:V(this.options.smartypants?v(p[0]):p[0]),{type:"text",raw:p[0],text:C}},te}(),oe={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:we,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};oe.def=j(oe.def).replace("label",oe._label).replace("title",oe._title).getRegex(),oe.bullet=/(?:[*+-]|\d{1,9}[.)])/,oe.listItemStart=j(/^( *)(bull) */).replace("bull",oe.bullet).getRegex(),oe.list=j(oe.list).replace(/bull/g,oe.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+oe.def.source+")").getRegex(),oe._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",oe._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,oe.html=j(oe.html,"i").replace("comment",oe._comment).replace("tag",oe._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oe.paragraph=j(oe._paragraph).replace("hr",oe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe._tag).getRegex(),oe.blockquote=j(oe.blockquote).replace("paragraph",oe.paragraph).getRegex(),oe.normal=Ee({},oe),oe.gfm=Ee({},oe.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),oe.gfm.table=j(oe.gfm.table).replace("hr",oe.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe._tag).getRegex(),oe.gfm.paragraph=j(oe._paragraph).replace("hr",oe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",oe.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oe._tag).getRegex(),oe.pedantic=Ee({},oe.normal,{html:j("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",oe._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:we,paragraph:j(oe.normal._paragraph).replace("hr",oe.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",oe.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var se={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:we,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:we,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function S(te){return te.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function d(te){var O,y,v="",C=te.length;for(O=0;O<C;O++)y=te.charCodeAt(O),Math.random()>.5&&(y="x"+y.toString(16)),v+="&#"+y+";";return v}se._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",se.punctuation=j(se.punctuation).replace(/punctuation/g,se._punctuation).getRegex(),se.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,se.escapedEmSt=/\\\*|\\_/g,se._comment=j(oe._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),se.emStrong.lDelim=j(se.emStrong.lDelim).replace(/punct/g,se._punctuation).getRegex(),se.emStrong.rDelimAst=j(se.emStrong.rDelimAst,"g").replace(/punct/g,se._punctuation).getRegex(),se.emStrong.rDelimUnd=j(se.emStrong.rDelimUnd,"g").replace(/punct/g,se._punctuation).getRegex(),se._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,se._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,se._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,se.autolink=j(se.autolink).replace("scheme",se._scheme).replace("email",se._email).getRegex(),se._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,se.tag=j(se.tag).replace("comment",se._comment).replace("attribute",se._attribute).getRegex(),se._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,se._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,se._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,se.link=j(se.link).replace("label",se._label).replace("href",se._href).replace("title",se._title).getRegex(),se.reflink=j(se.reflink).replace("label",se._label).replace("ref",oe._label).getRegex(),se.nolink=j(se.nolink).replace("ref",oe._label).getRegex(),se.reflinkSearch=j(se.reflinkSearch,"g").replace("reflink",se.reflink).replace("nolink",se.nolink).getRegex(),se.normal=Ee({},se),se.pedantic=Ee({},se.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:j(/^!?\[(label)\]\((.*?)\)/).replace("label",se._label).getRegex(),reflink:j(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",se._label).getRegex()}),se.gfm=Ee({},se.normal,{escape:j(se.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),se.gfm.url=j(se.gfm.url,"i").replace("email",se.gfm._extended_email).getRegex(),se.breaks=Ee({},se.gfm,{br:j(se.br).replace("{2,}","*").getRegex(),text:j(se.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ke=function(){function te(p){this.tokens=[],this.tokens.links=Object.create(null),this.options=p||U.defaults,this.options.tokenizer=this.options.tokenizer||new he,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var H={block:oe.normal,inline:se.normal};this.options.pedantic?(H.block=oe.pedantic,H.inline=se.pedantic):this.options.gfm&&(H.block=oe.gfm,H.inline=this.options.breaks?se.breaks:se.gfm),this.tokenizer.rules=H}te.lex=function(p,H){return new te(H).lex(p)},te.lexInline=function(p,H){return new te(H).inlineTokens(p)};var O,v,C=te.prototype;return C.lex=function(p){var H;for(p=p.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(p,this.tokens);H=this.inlineQueue.shift();)this.inlineTokens(H.src,H.tokens);return this.tokens},C.blockTokens=function(p,H){var z,k,Ce,c,x=this;for(void 0===H&&(H=[]),this.options.pedantic&&(p=p.replace(/^ +$/gm,""));p;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(m){return!!(z=m.call({lexer:x},p,H))&&(p=p.substring(z.raw.length),H.push(z),!0)})))if(z=this.tokenizer.space(p))p=p.substring(z.raw.length),1===z.raw.length&&H.length>0?H[H.length-1].raw+="\n":H.push(z);else if(z=this.tokenizer.code(p))p=p.substring(z.raw.length),!(k=H[H.length-1])||"paragraph"!==k.type&&"text"!==k.type?H.push(z):(k.raw+="\n"+z.raw,k.text+="\n"+z.text,this.inlineQueue[this.inlineQueue.length-1].src=k.text);else if(z=this.tokenizer.fences(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.heading(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.hr(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.blockquote(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.list(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.html(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.def(p))p=p.substring(z.raw.length),!(k=H[H.length-1])||"paragraph"!==k.type&&"text"!==k.type?this.tokens.links[z.tag]||(this.tokens.links[z.tag]={href:z.href,title:z.title}):(k.raw+="\n"+z.raw,k.text+="\n"+z.raw,this.inlineQueue[this.inlineQueue.length-1].src=k.text);else if(z=this.tokenizer.table(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.lheading(p))p=p.substring(z.raw.length),H.push(z);else if(Ce=p,this.options.extensions&&this.options.extensions.startBlock&&function(){var m=1/0,B=p.slice(1),I=void 0;x.options.extensions.startBlock.forEach(function(E){"number"==typeof(I=E.call({lexer:this},B))&&I>=0&&(m=Math.min(m,I))}),m<1/0&&m>=0&&(Ce=p.substring(0,m+1))}(),this.state.top&&(z=this.tokenizer.paragraph(Ce)))k=H[H.length-1],c&&"paragraph"===k.type?(k.raw+="\n"+z.raw,k.text+="\n"+z.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=k.text):H.push(z),c=Ce.length!==p.length,p=p.substring(z.raw.length);else if(z=this.tokenizer.text(p))p=p.substring(z.raw.length),(k=H[H.length-1])&&"text"===k.type?(k.raw+="\n"+z.raw,k.text+="\n"+z.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=k.text):H.push(z);else if(p){var D="Infinite loop on byte: "+p.charCodeAt(0);if(this.options.silent){console.error(D);break}throw new Error(D)}return this.state.top=!0,H},C.inline=function(p,H){this.inlineQueue.push({src:p,tokens:H})},C.inlineTokens=function(p,H){var z,k,Ce,c=this;void 0===H&&(H=[]);var x,D,m,B=p;if(this.tokens.links){var I=Object.keys(this.tokens.links);if(I.length>0)for(;null!=(x=this.tokenizer.rules.inline.reflinkSearch.exec(B));)I.includes(x[0].slice(x[0].lastIndexOf("[")+1,-1))&&(B=B.slice(0,x.index)+"["+W("a",x[0].length-2)+"]"+B.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(x=this.tokenizer.rules.inline.blockSkip.exec(B));)B=B.slice(0,x.index)+"["+W("a",x[0].length-2)+"]"+B.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(x=this.tokenizer.rules.inline.escapedEmSt.exec(B));)B=B.slice(0,x.index)+"++"+B.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;p;)if(D||(m=""),D=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Y){return!!(z=Y.call({lexer:c},p,H))&&(p=p.substring(z.raw.length),H.push(z),!0)})))if(z=this.tokenizer.escape(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.tag(p))p=p.substring(z.raw.length),(k=H[H.length-1])&&"text"===z.type&&"text"===k.type?(k.raw+=z.raw,k.text+=z.text):H.push(z);else if(z=this.tokenizer.link(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.reflink(p,this.tokens.links))p=p.substring(z.raw.length),(k=H[H.length-1])&&"text"===z.type&&"text"===k.type?(k.raw+=z.raw,k.text+=z.text):H.push(z);else if(z=this.tokenizer.emStrong(p,B,m))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.codespan(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.br(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.del(p))p=p.substring(z.raw.length),H.push(z);else if(z=this.tokenizer.autolink(p,d))p=p.substring(z.raw.length),H.push(z);else if(this.state.inLink||!(z=this.tokenizer.url(p,d))){if(Ce=p,this.options.extensions&&this.options.extensions.startInline&&function(){var Y=1/0,A=p.slice(1),Q=void 0;c.options.extensions.startInline.forEach(function(ge){"number"==typeof(Q=ge.call({lexer:this},A))&&Q>=0&&(Y=Math.min(Y,Q))}),Y<1/0&&Y>=0&&(Ce=p.substring(0,Y+1))}(),z=this.tokenizer.inlineText(Ce,S))p=p.substring(z.raw.length),"_"!==z.raw.slice(-1)&&(m=z.raw.slice(-1)),D=!0,(k=H[H.length-1])&&"text"===k.type?(k.raw+=z.raw,k.text+=z.text):H.push(z);else if(p){var E="Infinite loop on byte: "+p.charCodeAt(0);if(this.options.silent){console.error(E);break}throw new Error(E)}}else p=p.substring(z.raw.length),H.push(z);return H},O=te,v=[{key:"rules",get:function(){return{block:oe,inline:se}}}],null&&J(O.prototype,null),v&&J(O,v),Object.defineProperty(O,"prototype",{writable:!1}),te}(),Se=function(){function te(y){this.options=y||U.defaults}var O=te.prototype;return O.code=function(y,v,C){var p=(v||"").match(/\S*/)[0];if(this.options.highlight){var H=this.options.highlight(y,p);null!=H&&H!==y&&(C=!0,y=H)}return y=y.replace(/\n$/,"")+"\n",p?'<pre><code class="'+this.options.langPrefix+V(p,!0)+'">'+(C?y:V(y,!0))+"</code></pre>\n":"<pre><code>"+(C?y:V(y,!0))+"</code></pre>\n"},O.blockquote=function(y){return"<blockquote>\n"+y+"</blockquote>\n"},O.html=function(y){return y},O.heading=function(y,v,C,p){return this.options.headerIds?"<h"+v+' id="'+this.options.headerPrefix+p.slug(C)+'">'+y+"</h"+v+">\n":"<h"+v+">"+y+"</h"+v+">\n"},O.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},O.list=function(y,v,C){var p=v?"ol":"ul";return"<"+p+(v&&1!==C?' start="'+C+'"':"")+">\n"+y+"</"+p+">\n"},O.listitem=function(y){return"<li>"+y+"</li>\n"},O.checkbox=function(y){return"<input "+(y?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},O.paragraph=function(y){return"<p>"+y+"</p>\n"},O.table=function(y,v){return v&&(v="<tbody>"+v+"</tbody>"),"<table>\n<thead>\n"+y+"</thead>\n"+v+"</table>\n"},O.tablerow=function(y){return"<tr>\n"+y+"</tr>\n"},O.tablecell=function(y,v){var C=v.header?"th":"td";return(v.align?"<"+C+' align="'+v.align+'">':"<"+C+">")+y+"</"+C+">\n"},O.strong=function(y){return"<strong>"+y+"</strong>"},O.em=function(y){return"<em>"+y+"</em>"},O.codespan=function(y){return"<code>"+y+"</code>"},O.br=function(){return this.options.xhtml?"<br/>":"<br>"},O.del=function(y){return"<del>"+y+"</del>"},O.link=function(y,v,C){if(null===(y=ne(this.options.sanitize,this.options.baseUrl,y)))return C;var p='<a href="'+V(y)+'"';return v&&(p+=' title="'+v+'"'),p+">"+C+"</a>"},O.image=function(y,v,C){if(null===(y=ne(this.options.sanitize,this.options.baseUrl,y)))return C;var p='<img src="'+y+'" alt="'+C+'"';return v&&(p+=' title="'+v+'"'),p+(this.options.xhtml?"/>":">")},O.text=function(y){return y},te}(),nt=function(){function te(){}var O=te.prototype;return O.strong=function(y){return y},O.em=function(y){return y},O.codespan=function(y){return y},O.del=function(y){return y},O.html=function(y){return y},O.text=function(y){return y},O.link=function(y,v,C){return""+C},O.image=function(y,v,C){return""+C},O.br=function(){return""},te}(),Je=function(){function te(){this.seen={}}var O=te.prototype;return O.serialize=function(y){return y.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},O.getNextSafeSlug=function(y,v){var C=y,p=0;if(this.seen.hasOwnProperty(C)){p=this.seen[y];do{C=y+"-"+ ++p}while(this.seen.hasOwnProperty(C))}return v||(this.seen[y]=p,this.seen[C]=0),C},O.slug=function(y,v){void 0===v&&(v={});var C=this.serialize(y);return this.getNextSafeSlug(C,v.dryrun)},te}(),ct=function(){function te(y){this.options=y||U.defaults,this.options.renderer=this.options.renderer||new Se,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new nt,this.slugger=new Je}te.parse=function(y,v){return new te(v).parse(y)},te.parseInline=function(y,v){return new te(v).parseInline(y)};var O=te.prototype;return O.parse=function(y,v){void 0===v&&(v=!0);var C,p,H,z,k,Ce,c,x,D,m,B,I,E,Y,A,Q,ge,_e,Ie,xe="",Be=y.length;for(C=0;C<Be;C++)if(m=y[C],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[m.type])||!1===(Ie=this.options.extensions.renderers[m.type].call({parser:this},m))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type))switch(m.type){case"space":continue;case"hr":xe+=this.renderer.hr();continue;case"heading":xe+=this.renderer.heading(this.parseInline(m.tokens),m.depth,Fe(this.parseInline(m.tokens,this.textRenderer)),this.slugger);continue;case"code":xe+=this.renderer.code(m.text,m.lang,m.escaped);continue;case"table":for(x="",c="",z=m.header.length,p=0;p<z;p++)c+=this.renderer.tablecell(this.parseInline(m.header[p].tokens),{header:!0,align:m.align[p]});for(x+=this.renderer.tablerow(c),D="",z=m.rows.length,p=0;p<z;p++){for(c="",k=(Ce=m.rows[p]).length,H=0;H<k;H++)c+=this.renderer.tablecell(this.parseInline(Ce[H].tokens),{header:!1,align:m.align[H]});D+=this.renderer.tablerow(c)}xe+=this.renderer.table(x,D);continue;case"blockquote":D=this.parse(m.tokens),xe+=this.renderer.blockquote(D);continue;case"list":for(B=m.ordered,I=m.start,E=m.loose,z=m.items.length,D="",p=0;p<z;p++)Q=(A=m.items[p]).checked,ge=A.task,Y="",A.task&&(_e=this.renderer.checkbox(Q),E?A.tokens.length>0&&"paragraph"===A.tokens[0].type?(A.tokens[0].text=_e+" "+A.tokens[0].text,A.tokens[0].tokens&&A.tokens[0].tokens.length>0&&"text"===A.tokens[0].tokens[0].type&&(A.tokens[0].tokens[0].text=_e+" "+A.tokens[0].tokens[0].text)):A.tokens.unshift({type:"text",text:_e}):Y+=_e),Y+=this.parse(A.tokens,E),D+=this.renderer.listitem(Y,ge,Q);xe+=this.renderer.list(D,B,I);continue;case"html":xe+=this.renderer.html(m.text);continue;case"paragraph":xe+=this.renderer.paragraph(this.parseInline(m.tokens));continue;case"text":for(D=m.tokens?this.parseInline(m.tokens):m.text;C+1<Be&&"text"===y[C+1].type;)D+="\n"+((m=y[++C]).tokens?this.parseInline(m.tokens):m.text);xe+=v?this.renderer.paragraph(D):D;continue;default:var rt='Token with "'+m.type+'" type was not found.';if(this.options.silent)return void console.error(rt);throw new Error(rt)}else xe+=Ie||"";return xe},O.parseInline=function(y,v){v=v||this.renderer;var C,p,H,z="",k=y.length;for(C=0;C<k;C++)if(p=y[C],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[p.type])||!1===(H=this.options.extensions.renderers[p.type].call({parser:this},p))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(p.type))switch(p.type){case"escape":case"text":z+=v.text(p.text);break;case"html":z+=v.html(p.text);break;case"link":z+=v.link(p.href,p.title,this.parseInline(p.tokens,v));break;case"image":z+=v.image(p.href,p.title,p.text);break;case"strong":z+=v.strong(this.parseInline(p.tokens,v));break;case"em":z+=v.em(this.parseInline(p.tokens,v));break;case"codespan":z+=v.codespan(p.text);break;case"br":z+=v.br();break;case"del":z+=v.del(this.parseInline(p.tokens,v));break;default:var Ce='Token with "'+p.type+'" type was not found.';if(this.options.silent)return void console.error(Ce);throw new Error(Ce)}else z+=H||"";return z},te}();function ve(te,O,y){if(null==te)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof te)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(te)+", string expected");if("function"==typeof O&&(y=O,O=null),Ue(O=Ee({},ve.defaults,O||{})),y){var v,C=O.highlight;try{v=ke.lex(te,O)}catch(k){return y(k)}var p=function(k){var Ce;if(!k)try{O.walkTokens&&ve.walkTokens(v,O.walkTokens),Ce=ct.parse(v,O)}catch(c){k=c}return O.highlight=C,k?y(k):y(null,Ce)};if(!C||C.length<3||(delete O.highlight,!v.length))return p();var H=0;return ve.walkTokens(v,function(k){"code"===k.type&&(H++,setTimeout(function(){C(k.text,k.lang,function(Ce,c){if(Ce)return p(Ce);null!=c&&c!==k.text&&(k.text=c,k.escaped=!0),0==--H&&p()})},0))}),void(0===H&&p())}try{var z=ke.lex(te,O);return O.walkTokens&&ve.walkTokens(z,O.walkTokens),ct.parse(z,O)}catch(k){if(k.message+="\nPlease report this to https://github.com/markedjs/marked.",O.silent)return"<p>An error occurred:</p><pre>"+V(k.message+"",!0)+"</pre>";throw k}}ve.options=ve.setOptions=function(te){return Ee(ve.defaults,te),U.defaults=ve.defaults,ve},ve.getDefaults=R,ve.defaults=U.defaults,ve.use=function(){for(var te=arguments.length,O=new Array(te),y=0;y<te;y++)O[y]=arguments[y];var v,C=Ee.apply(void 0,[{}].concat(O)),p=ve.defaults.extensions||{renderers:{},childTokens:{}};O.forEach(function(H){if(H.extensions&&(v=!0,H.extensions.forEach(function(k){if(!k.name)throw new Error("extension name required");if(k.renderer){var Ce=p.renderers?p.renderers[k.name]:null;p.renderers[k.name]=Ce?function(){for(var c=arguments.length,x=new Array(c),D=0;D<c;D++)x[D]=arguments[D];var m=k.renderer.apply(this,x);return!1===m&&(m=Ce.apply(this,x)),m}:k.renderer}if(k.tokenizer){if(!k.level||"block"!==k.level&&"inline"!==k.level)throw new Error("extension level must be 'block' or 'inline'");p[k.level]?p[k.level].unshift(k.tokenizer):p[k.level]=[k.tokenizer],k.start&&("block"===k.level?p.startBlock?p.startBlock.push(k.start):p.startBlock=[k.start]:"inline"===k.level&&(p.startInline?p.startInline.push(k.start):p.startInline=[k.start]))}k.childTokens&&(p.childTokens[k.name]=k.childTokens)})),H.renderer&&function(){var k=ve.defaults.renderer||new Se,Ce=function(x){var D=k[x];k[x]=function(){for(var m=arguments.length,B=new Array(m),I=0;I<m;I++)B[I]=arguments[I];var E=H.renderer[x].apply(k,B);return!1===E&&(E=D.apply(k,B)),E}};for(var c in H.renderer)Ce(c);C.renderer=k}(),H.tokenizer&&function(){var k=ve.defaults.tokenizer||new he,Ce=function(x){var D=k[x];k[x]=function(){for(var m=arguments.length,B=new Array(m),I=0;I<m;I++)B[I]=arguments[I];var E=H.tokenizer[x].apply(k,B);return!1===E&&(E=D.apply(k,B)),E}};for(var c in H.tokenizer)Ce(c);C.tokenizer=k}(),H.walkTokens){var z=ve.defaults.walkTokens;C.walkTokens=function(k){H.walkTokens.call(this,k),z&&z.call(this,k)}}v&&(C.extensions=p),ve.setOptions(C)})},ve.walkTokens=function(te,O){for(var y,v=function(){var p=y.value;switch(O.call(ve,p),p.type){case"table":for(var H,z=F(p.header);!(H=z()).done;)ve.walkTokens(H.value.tokens,O);for(var Ce,c=F(p.rows);!(Ce=c()).done;)for(var x,D=F(Ce.value);!(x=D()).done;)ve.walkTokens(x.value.tokens,O);break;case"list":ve.walkTokens(p.items,O);break;default:ve.defaults.extensions&&ve.defaults.extensions.childTokens&&ve.defaults.extensions.childTokens[p.type]?ve.defaults.extensions.childTokens[p.type].forEach(function(B){ve.walkTokens(p[B],O)}):p.tokens&&ve.walkTokens(p.tokens,O)}},C=F(te);!(y=C()).done;)v()},ve.parseInline=function(te,O){if(null==te)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof te)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(te)+", string expected");Ue(O=Ee({},ve.defaults,O||{}));try{var y=ke.lexInline(te,O);return O.walkTokens&&ve.walkTokens(y,O.walkTokens),ct.parseInline(y,O)}catch(v){if(v.message+="\nPlease report this to https://github.com/markedjs/marked.",O.silent)return"<p>An error occurred:</p><pre>"+V(v.message+"",!0)+"</pre>";throw v}},ve.Parser=ct,ve.parser=ct.parse,ve.Renderer=Se,ve.TextRenderer=nt,ve.Lexer=ke,ve.lexer=ke.lex,ve.Tokenizer=he,ve.Slugger=Je,ve.parse=ve;var mt=ve.options,Ve=ve.setOptions,Lt=ve.use,wt=ve.walkTokens,pt=ve.parseInline,Ct=ve,xt=ct.parse,Me=ke.lex;U.Lexer=ke,U.Parser=ct,U.Renderer=Se,U.Slugger=Je,U.TextRenderer=nt,U.Tokenizer=he,U.getDefaults=R,U.lexer=Me,U.marked=ve,U.options=mt,U.parse=Ct,U.parseInline=pt,U.parser=xt,U.setOptions=Ve,U.use=Lt,U.walkTokens=wt,Object.defineProperty(U,"__esModule",{value:!0})}("object"==typeof Qe&&void 0!==Ge?Qe:(U="undefined"!=typeof globalThis?globalThis:U||self).marked={})},{}],16:[function(Le,Ge,Qe){(function(U){(function(){var J;(function(){"use strict";(J=function(K,F,R,M){M=M||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=M.flags||{},this.memoized={},this.loaded=!1;var w,re,q,G,fe,V=this;function me(_,ee){var ne=V._readFile(_,null,M.asyncLoad);M.asyncLoad?ne.then(function(de){ee(de)}):ee(ne)}function Fe(_){F=_,R&&j()}function De(_){R=_,F&&j()}function j(){for(V.rules=V._parseAFF(F),V.compoundRuleCodes={},re=0,G=V.compoundRules.length;re<G;re++){var _=V.compoundRules[re];for(q=0,fe=_.length;q<fe;q++)V.compoundRuleCodes[_[q]]=[]}for(re in"ONLYINCOMPOUND"in V.flags&&(V.compoundRuleCodes[V.flags.ONLYINCOMPOUND]=[]),V.dictionaryTable=V._parseDIC(R),V.compoundRuleCodes)0===V.compoundRuleCodes[re].length&&delete V.compoundRuleCodes[re];for(re=0,G=V.compoundRules.length;re<G;re++){var ee=V.compoundRules[re],ne="";for(q=0,fe=ee.length;q<fe;q++){var de=ee[q];ne+=de in V.compoundRuleCodes?"("+V.compoundRuleCodes[de].join("|")+")":de}V.compoundRules[re]=new RegExp(ne,"i")}V.loaded=!0,M.asyncLoad&&M.loadedCallback&&M.loadedCallback(V)}return K&&(V.dictionary=K,F&&R?j():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(w=M.dictionaryPath?M.dictionaryPath:"typo/dictionaries",F||me(chrome.extension.getURL(w+"/"+K+"/"+K+".aff"),Fe),R||me(chrome.extension.getURL(w+"/"+K+"/"+K+".dic"),De)):(w=M.dictionaryPath?M.dictionaryPath:void 0!==U?U+"/dictionaries":"./dictionaries",F||me(w+"/"+K+"/"+K+".aff",Fe),R||me(w+"/"+K+"/"+K+".dic",De))),this}).prototype={load:function(K){for(var F in K)K.hasOwnProperty(F)&&(this[F]=K[F]);return this},_readFile:function(K,F,R){if(F=F||"utf8","undefined"!=typeof XMLHttpRequest){var M,w=new XMLHttpRequest;return w.open("GET",K,R),R&&(M=new Promise(function(q,G){w.onload=function(){200===w.status?q(w.responseText):G(w.statusText)},w.onerror=function(){G(w.statusText)}})),w.overrideMimeType&&w.overrideMimeType("text/plain; charset="+F),w.send(null),R?M:w.responseText}if(void 0!==Le){var re=Le("fs");try{if(re.existsSync(K))return re.readFileSync(K,F);console.log("Path "+K+" does not exist.")}catch(q){return console.log(q),""}}},_parseAFF:function(K){var F,R,M,w,re,q,G,fe={},V=K.split(/\r?\n/);for(w=0,q=V.length;w<q;w++)if(F=(F=this._removeAffixComments(V[w])).trim()){var me=F.split(/\s+/),Fe=me[0];if("PFX"==Fe||"SFX"==Fe){var De=me[1],j=me[2],_=[];for(re=w+1,G=w+1+(R=parseInt(me[3],10));re<G;re++){var ee=(M=V[re].split(/\s+/))[2],ne=M[3].split("/"),de=ne[0];"0"===de&&(de="");var ie=this.parseRuleCodes(ne[1]),pe=M[4],be={};be.add=de,ie.length>0&&(be.continuationClasses=ie),"."!==pe&&(be.match="SFX"===Fe?new RegExp(pe+"$"):new RegExp("^"+pe)),"0"!=ee&&(be.remove="SFX"===Fe?new RegExp(ee+"$"):ee),_.push(be)}fe[De]={type:Fe,combineable:"Y"==j,entries:_},w+=R}else if("COMPOUNDRULE"===Fe){for(re=w+1,G=w+1+(R=parseInt(me[1],10));re<G;re++)M=(F=V[re]).split(/\s+/),this.compoundRules.push(M[1]);w+=R}else"REP"===Fe?3===(M=F.split(/\s+/)).length&&this.replacementTable.push([M[1],M[2]]):this.flags[Fe]=me[1]}return fe},_removeAffixComments:function(K){return K.match(/^\s*#/,"")?"":K},_parseDIC:function(K){var F=(K=this._removeDicComments(K)).split(/\r?\n/),R={};function M(ze,Ue){R.hasOwnProperty(ze)||(R[ze]=null),Ue.length>0&&(null===R[ze]&&(R[ze]=[]),R[ze].push(Ue))}for(var w=1,re=F.length;w<re;w++){var q=F[w];if(q){var G=q.split("/",2),fe=G[0];if(G.length>1){var V=this.parseRuleCodes(G[1]);"NEEDAFFIX"in this.flags&&-1!=V.indexOf(this.flags.NEEDAFFIX)||M(fe,V);for(var me=0,Fe=V.length;me<Fe;me++){var De=V[me],j=this.rules[De];if(j)for(var _=this._applyRule(fe,j),ee=0,ne=_.length;ee<ne;ee++){var de=_[ee];if(M(de,[]),j.combineable)for(var ie=me+1;ie<Fe;ie++){var be=this.rules[V[ie]];if(be&&be.combineable&&j.type!=be.type)for(var we=this._applyRule(de,be),Ee=0,Oe=we.length;Ee<Oe;Ee++)M(we[Ee],[])}}De in this.compoundRuleCodes&&this.compoundRuleCodes[De].push(fe)}}else M(fe.trim(),[])}}return R},_removeDicComments:function(K){return K.replace(/^\t.*$/gm,"")},parseRuleCodes:function(K){if(!K)return[];if(!("FLAG"in this.flags))return K.split("");if("long"===this.flags.FLAG){for(var F=[],R=0,M=K.length;R<M;R+=2)F.push(K.substr(R,2));return F}return"num"===this.flags.FLAG?K.split(","):void 0},_applyRule:function(K,F){for(var R=F.entries,M=[],w=0,re=R.length;w<re;w++){var q=R[w];if(!q.match||K.match(q.match)){var G=K;if(q.remove&&(G=G.replace(q.remove,"")),"SFX"===F.type?G+=q.add:G=q.add+G,M.push(G),"continuationClasses"in q)for(var fe=0,V=q.continuationClasses.length;fe<V;fe++){var me=this.rules[q.continuationClasses[fe]];me&&(M=M.concat(this._applyRule(G,me)))}}}return M},check:function(K){if(!this.loaded)throw"Dictionary not loaded.";var F=K.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(F))return!0;if(F.toUpperCase()===F){var R=F[0]+F.substring(1).toLowerCase();if(this.hasFlag(R,"KEEPCASE"))return!1;if(this.checkExact(R)||this.checkExact(F.toLowerCase()))return!0}var M=F[0].toLowerCase()+F.substring(1);if(M!==F){if(this.hasFlag(M,"KEEPCASE"))return!1;if(this.checkExact(M))return!0}return!1},checkExact:function(K){if(!this.loaded)throw"Dictionary not loaded.";var F,R,M=this.dictionaryTable[K];if(void 0===M){if("COMPOUNDMIN"in this.flags&&K.length>=this.flags.COMPOUNDMIN)for(F=0,R=this.compoundRules.length;F<R;F++)if(K.match(this.compoundRules[F]))return!0}else{if(null===M)return!0;if("object"==typeof M)for(F=0,R=M.length;F<R;F++)if(!this.hasFlag(K,"ONLYINCOMPOUND",M[F]))return!0}return!1},hasFlag:function(K,F,R){if(!this.loaded)throw"Dictionary not loaded.";return!(!(F in this.flags)||(void 0===R&&(R=Array.prototype.concat.apply([],this.dictionaryTable[K])),!R||-1===R.indexOf(this.flags[F])))},alphabet:"",suggest:function(K,F){if(!this.loaded)throw"Dictionary not loaded.";if(F=F||5,this.memoized.hasOwnProperty(K)){var R=this.memoized[K].limit;if(F<=R||this.memoized[K].suggestions.length<R)return this.memoized[K].suggestions.slice(0,F)}if(this.check(K))return[];for(var M=0,w=this.replacementTable.length;M<w;M++){var re=this.replacementTable[M];if(-1!==K.indexOf(re[0])){var q=K.replace(re[0],re[1]);if(this.check(q))return[q]}}var G=this;function fe(V,me){var Fe,De,j,_,ee={},ne=G.alphabet.length;if("string"==typeof V){var de=V;(V={})[de]=!0}for(var de in V)for(Fe=0,j=de.length+1;Fe<j;Fe++){var ie=[de.substring(0,Fe),de.substring(Fe)];if(ie[1]&&(_=ie[0]+ie[1].substring(1),me&&!G.check(_)||(_ in ee?ee[_]+=1:ee[_]=1)),ie[1].length>1&&ie[1][1]!==ie[1][0]&&(_=ie[0]+ie[1][1]+ie[1][0]+ie[1].substring(2),me&&!G.check(_)||(_ in ee?ee[_]+=1:ee[_]=1)),ie[1]){var pe=ie[1].substring(0,1).toUpperCase()===ie[1].substring(0,1)?"uppercase":"lowercase";for(De=0;De<ne;De++){var be=G.alphabet[De];"uppercase"===pe&&(be=be.toUpperCase()),be!=ie[1].substring(0,1)&&(_=ie[0]+be+ie[1].substring(1),me&&!G.check(_)||(_ in ee?ee[_]+=1:ee[_]=1))}}if(ie[1])for(De=0;De<ne;De++)pe=ie[0].substring(-1).toUpperCase()===ie[0].substring(-1)&&ie[1].substring(0,1).toUpperCase()===ie[1].substring(0,1)?"uppercase":"lowercase",be=G.alphabet[De],"uppercase"===pe&&(be=be.toUpperCase()),_=ie[0]+be+ie[1],me&&!G.check(_)||(_ in ee?ee[_]+=1:ee[_]=1)}return ee}return G.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[K]={suggestions:function(V){var me,Fe=fe(V),De=fe(Fe,!0);for(var j in Fe)G.check(j)&&(j in De?De[j]+=Fe[j]:De[j]=Fe[j]);var _=[];for(me in De)De.hasOwnProperty(me)&&_.push([me,De[me]]);_.sort(function(ie,pe){var be=ie[1],we=pe[1];return be<we?-1:be>we?1:pe[0].localeCompare(ie[0])}).reverse();var ee=[],ne="lowercase";V.toUpperCase()===V?ne="uppercase":V.substr(0,1).toUpperCase()+V.substr(1).toLowerCase()===V&&(ne="capitalized");var de=F;for(me=0;me<Math.min(de,_.length);me++)"uppercase"===ne?_[me][0]=_[me][0].toUpperCase():"capitalized"===ne&&(_[me][0]=_[me][0].substr(0,1).toUpperCase()+_[me][0].substr(1)),G.hasFlag(_[me][0],"NOSUGGEST")||-1!=ee.indexOf(_[me][0])?de++:ee.push(_[me][0]);return ee}(K),limit:F},this.memoized[K].suggestions}}})(),void 0!==Ge&&(Ge.exports=J)}).call(this)}).call(this,"/node_modules/typo-js")},{fs:1}],17:[function(Le,Ge,Qe){var U=Le("codemirror");U.commands.tabAndIndentMarkdownList=function(J){var K=J.listSelections()[0].head;if(!1!==J.getStateAfter(K.line).list)J.execCommand("indentMore");else if(J.options.indentWithTabs)J.execCommand("insertTab");else{var F=Array(J.options.tabSize+1).join(" ");J.replaceSelection(F)}},U.commands.shiftTabAndUnindentMarkdownList=function(J){var K=J.listSelections()[0].head;if(!1!==J.getStateAfter(K.line).list)J.execCommand("indentLess");else if(J.options.indentWithTabs)J.execCommand("insertTab");else{var F=Array(J.options.tabSize+1).join(" ");J.replaceSelection(F)}}},{codemirror:10}],18:[function(Le,Ge,Qe){"use strict";var U=Le("codemirror");Le("codemirror/addon/edit/continuelist.js"),Le("./codemirror/tablist"),Le("codemirror/addon/display/fullscreen.js"),Le("codemirror/mode/markdown/markdown.js"),Le("codemirror/addon/mode/overlay.js"),Le("codemirror/addon/display/placeholder.js"),Le("codemirror/addon/display/autorefresh.js"),Le("codemirror/addon/selection/mark-selection.js"),Le("codemirror/addon/search/searchcursor.js"),Le("codemirror/mode/gfm/gfm.js"),Le("codemirror/mode/xml/xml.js");var J=Le("codemirror-spell-checker"),K=Le("marked").marked,F=/Mac/.test(navigator.platform),R=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),M={toggleBold:de,toggleItalic:ie,drawLink:se,toggleHeadingSmaller:Ee,toggleHeadingBigger:Oe,drawImage:S,toggleBlockquote:we,toggleOrderedList:he,toggleUnorderedList:Z,toggleCodeBlock:be,togglePreview:mt,toggleStrikethrough:pe,toggleHeading1:ze,toggleHeading2:Ue,toggleHeading3:W,cleanBlock:oe,drawTable:Se,drawHorizontalRule:nt,undo:Je,redo:ct,toggleSideBySide:ve,toggleFullScreen:ne},w={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},re=function(){var c,x=!1;return c=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(c.substr(0,4)))&&(x=!0),x};function q(c){return F?c.replace("Ctrl","Cmd"):c.replace("Cmd","Ctrl")}var G={};function fe(c){return G[c]||(G[c]=new RegExp("\\s*"+c+"(\\s*)","g"))}function V(c,x){if(c&&x){var D=fe(x);c.className.match(D)||(c.className+=" "+x)}}function me(c,x){if(c&&x){var D=fe(x);c.className.match(D)&&(c.className=c.className.replace(D,"$1"))}}function Fe(c,x,D,m){var B=De(c,!1,x,D,"button",m);B.className+=" easymde-dropdown",B.onclick=function(){B.focus()};var I=document.createElement("div");I.className="easymde-dropdown-content";for(var E=0;E<c.children.length;E++){var Y,A=c.children[E];(Y=De("string"==typeof A&&A in O?O[A]:A,!0,x,D,"button",m)).addEventListener("click",function(Q){Q.stopPropagation()},!1),I.appendChild(Y)}return B.appendChild(I),B}function De(c,x,D,m,B,I){c=c||{};var tt,dt,Ft,Mt,E=document.createElement(B);if(c.attributes)for(var Y in c.attributes)Object.prototype.hasOwnProperty.call(c.attributes,Y)&&E.setAttribute(Y,c.attributes[Y]);E.className=c.name,E.setAttribute("type",B),D=null==D||D,c.name&&c.name in m&&(M[c.name]=c.action),c.title&&D&&(E.title=(dt=m,Mt=c.title,(tt=c.action)&&dt[Ft=function(sn){for(var Ut in M)if(M[Ut]===sn)return Ut;return null}(tt)]&&(Mt+=" ("+q(dt[Ft])+")"),Mt),F&&(E.title=E.title.replace("Ctrl","\u2318"),E.title=E.title.replace("Alt","\u2325"))),c.noDisable&&E.classList.add("no-disable"),c.noMobile&&E.classList.add("no-mobile");var A=[];void 0!==c.className&&(A=c.className.split(" "));for(var Q=[],ge=0;ge<A.length;ge++){var _e=A[ge];_e.match(/^fa([srlb]|(-[\w-]*)|$)/)?Q.push(_e):E.classList.add(_e)}E.tabIndex=-1;for(var Ie=document.createElement("i"),xe=0;xe<Q.length;xe++)Ie.classList.add(Q[xe]);return E.appendChild(Ie),void 0!==c.icon&&(E.innerHTML=c.icon),c.action&&x&&("function"==typeof c.action?E.onclick=function(rt){rt.preventDefault(),c.action(I)}:"string"==typeof c.action&&(E.onclick=function(rt){rt.preventDefault(),window.open(c.action,"_blank")})),E}function j(){var c=document.createElement("i");return c.className="separator",c.innerHTML="|",c}function _(c,x){x=x||c.getCursor("start");var D=c.getTokenAt(x);if(!D.type)return{};for(var m,B,I=D.type.split(" "),E={},Y=0;Y<I.length;Y++)"strong"===(m=I[Y])?E.bold=!0:"variable-2"===m?(B=c.getLine(x.line),/^\s*\d+\.\s/.test(B)?E["ordered-list"]=!0:E["unordered-list"]=!0):"atom"===m?E.quote=!0:"em"===m?E.italic=!0:"quote"===m?E.quote=!0:"strikethrough"===m?E.strikethrough=!0:"comment"===m?E.code=!0:"link"===m?E.link=!0:"tag"===m?E.image=!0:m.match(/^header(-[1-6])?$/)&&(E[m.replace("header","heading")]=!0);return E}var ee="";function ne(c){var x=c.codemirror;x.setOption("fullScreen",!x.getOption("fullScreen")),x.getOption("fullScreen")?(ee=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=ee;var D=x.getWrapperElement(),m=D.nextSibling;if(/editor-preview-active-side/.test(m.className))if(!1===c.options.sideBySideFullscreen){var B=D.parentNode;x.getOption("fullScreen")?me(B,"sided--no-fullscreen"):V(B,"sided--no-fullscreen")}else ve(c);if(c.options.onToggleFullScreen&&c.options.onToggleFullScreen(x.getOption("fullScreen")||!1),void 0!==c.options.maxHeight&&(x.getOption("fullScreen")?(x.getScrollerElement().style.removeProperty("height"),m.style.removeProperty("height")):(x.getScrollerElement().style.height=c.options.maxHeight,c.setPreviewMaxHeight())),/fullscreen/.test(c.toolbar_div.className)?c.toolbar_div.className=c.toolbar_div.className.replace(/\s*fullscreen\b/,""):c.toolbar_div.className+=" fullscreen",c.toolbarElements&&c.toolbarElements.fullscreen){var I=c.toolbarElements.fullscreen;/active/.test(I.className)?I.className=I.className.replace(/\s*active\s*/g,""):I.className+=" active"}}function de(c){pt(c,"bold",c.options.blockStyles.bold)}function ie(c){pt(c,"italic",c.options.blockStyles.italic)}function pe(c){pt(c,"strikethrough","~~")}function be(c){var x=c.options.blockStyles.code;function D(kt){if("object"!=typeof kt)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof kt+": "+kt;return kt.styles&&kt.styles[2]&&-1!==kt.styles[2].indexOf("formatting-code-block")}function m(kt){return kt.state.base.base||kt.state.base}function B(kt,ln,_t,Wt,Rt){_t=_t||kt.getLineHandle(ln),Wt=Wt||kt.getTokenAt({line:ln,ch:1}),Rt=Rt||!!_t.text&&kt.getTokenAt({line:ln,ch:_t.text.length-1});var xn=Wt.type?Wt.type.split(" "):[];return Rt&&m(Rt).indentedCode?"indented":-1!==xn.indexOf("comment")&&(m(Wt).fencedChars||m(Rt).fencedChars||D(_t)?"fenced":"single")}var I,E,Y,kt,ln,_t,Wt,Rt,xn,yn,en,A=c.codemirror,Q=A.getCursor("start"),ge=A.getCursor("end"),_e=A.getTokenAt({line:Q.line,ch:Q.ch||1}),Ie=A.getLineHandle(Q.line),xe=B(A,Q.line,Ie,_e);if("single"===xe){var Be=Ie.text.slice(0,Q.ch).replace("`",""),rt=Ie.text.slice(Q.ch).replace("`","");A.replaceRange(Be+rt,{line:Q.line,ch:0},{line:Q.line,ch:99999999999999}),Q.ch--,Q!==ge&&ge.ch--,A.setSelection(Q,ge),A.focus()}else if("fenced"===xe)if(Q.line!==ge.line||Q.ch!==ge.ch){for(I=Q.line;I>=0&&!D(Ie=A.getLineHandle(I));I--);var tt,dt,Ft,Mt,sn=m(A.getTokenAt({line:I,ch:1})).fencedChars;D(A.getLineHandle(Q.line))?(tt="",dt=Q.line):D(A.getLineHandle(Q.line-1))?(tt="",dt=Q.line-1):(tt=sn+"\n",dt=Q.line),D(A.getLineHandle(ge.line))?(Ft="",Mt=ge.line,0===ge.ch&&(Mt+=1)):0!==ge.ch&&D(A.getLineHandle(ge.line+1))?(Ft="",Mt=ge.line+1):(Ft=sn+"\n",Mt=ge.line+1),0===ge.ch&&(Mt-=1),A.operation(function(){A.replaceRange(Ft,{line:Mt,ch:0},{line:Mt+(Ft?0:1),ch:0}),A.replaceRange(tt,{line:dt,ch:0},{line:dt+(tt?0:1),ch:0})}),A.setSelection({line:dt+(tt?1:0),ch:0},{line:Mt+(tt?1:-1),ch:0}),A.focus()}else{var Ut=Q.line;if(D(A.getLineHandle(Q.line))&&("fenced"===B(A,Q.line+1)?(I=Q.line,Ut=Q.line+1):(E=Q.line,Ut=Q.line-1)),void 0===I)for(I=Ut;I>=0&&!D(Ie=A.getLineHandle(I));I--);if(void 0===E)for(Y=A.lineCount(),E=Ut;E<Y&&!D(Ie=A.getLineHandle(E));E++);A.operation(function(){A.replaceRange("",{line:I,ch:0},{line:I+1,ch:0}),A.replaceRange("",{line:E-1,ch:0},{line:E,ch:0})}),A.focus()}else if("indented"===xe){if(Q.line!==ge.line||Q.ch!==ge.ch)I=Q.line,E=ge.line,0===ge.ch&&E--;else{for(I=Q.line;I>=0;I--)if(!(Ie=A.getLineHandle(I)).text.match(/^\s*$/)&&"indented"!==B(A,I,Ie)){I+=1;break}for(Y=A.lineCount(),E=Q.line;E<Y;E++)if(!(Ie=A.getLineHandle(E)).text.match(/^\s*$/)&&"indented"!==B(A,E,Ie)){E-=1;break}}var Lr=A.getLineHandle(E+1),Mr=Lr&&A.getTokenAt({line:E+1,ch:Lr.text.length-1});Mr&&m(Mr).indentedCode&&A.replaceRange("\n",{line:E+1,ch:0});for(var Zn=I;Zn<=E;Zn++)A.indentLine(Zn,"subtract");A.focus()}else Q.line===ge.line&&Q.ch===ge.ch&&0===Q.ch||Q.line!==ge.line?(Rt=(ln=Q).line+1,xn=(_t=ge).line+1,en="\n"+(Wt=x),(yn=ln.line!==_t.line)&&xn++,yn&&0===_t.ch&&(en=Wt+"\n",xn--),Ve(kt=A,!1,[Wt+"\n",en]),kt.setSelection({line:Rt,ch:0},{line:xn,ch:0})):Ve(A,!1,["`","`"])}function we(c){wt(c.codemirror,"quote")}function Ee(c){Lt(c.codemirror,"smaller")}function Oe(c){Lt(c.codemirror,"bigger")}function ze(c){Lt(c.codemirror,void 0,1)}function Ue(c){Lt(c.codemirror,void 0,2)}function W(c){Lt(c.codemirror,void 0,3)}function Z(c){var x=c.codemirror,D="*";["-","+","*"].includes(c.options.unorderedListStyle)&&(D=c.options.unorderedListStyle),wt(x,"unordered-list",D)}function he(c){wt(c.codemirror,"ordered-list")}function oe(c){!function(x){if(!/editor-preview-active/.test(x.getWrapperElement().lastChild.className))for(var D,m=x.getCursor("start"),B=x.getCursor("end"),I=m.line;I<=B.line;I++)D=(D=x.getLine(I)).replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),x.replaceRange(D,{line:I,ch:0},{line:I,ch:99999999999999})}(c.codemirror)}function se(c){var x=c.codemirror,D=_(x),m=c.options,B="https://";if(m.promptURLs&&!(B=prompt(m.promptTexts.link,"https://")))return!1;Ve(x,D.link,m.insertTexts.link,B)}function S(c){var x=c.codemirror,D=_(x),m=c.options,B="https://";if(m.promptURLs&&!(B=prompt(m.promptTexts.image,"https://")))return!1;Ve(x,D.image,m.insertTexts.image,B)}function d(c){c.openBrowseFileWindow()}function ke(c,x){var D=c.codemirror,m=_(D),B=c.options,I=x.substr(x.lastIndexOf("/")+1),E=I.substring(I.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg"].includes(E))Ve(D,m.image,B.insertTexts.uploadedImage,x);else{var Y=B.insertTexts.link;Y[0]="["+I,Ve(D,m.link,Y,x)}c.updateStatusBar("upload-image",c.options.imageTexts.sbOnUploaded.replace("#image_name#",I)),setTimeout(function(){c.updateStatusBar("upload-image",c.options.imageTexts.sbInit)},1e3)}function Se(c){var x=c.codemirror;Ve(x,_(x).table,c.options.insertTexts.table)}function nt(c){var x=c.codemirror;Ve(x,_(x).image,c.options.insertTexts.horizontalRule)}function Je(c){var x=c.codemirror;x.undo(),x.focus()}function ct(c){var x=c.codemirror;x.redo(),x.focus()}function ve(c){var x=c.codemirror,D=x.getWrapperElement(),m=D.nextSibling,B=c.toolbarElements&&c.toolbarElements["side-by-side"],I=!1,E=D.parentNode;/editor-preview-active-side/.test(m.className)?(!1===c.options.sideBySideFullscreen&&me(E,"sided--no-fullscreen"),m.className=m.className.replace(/\s*editor-preview-active-side\s*/g,""),B&&(B.className=B.className.replace(/\s*active\s*/g,"")),D.className=D.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){x.getOption("fullScreen")||(!1===c.options.sideBySideFullscreen?V(E,"sided--no-fullscreen"):ne(c)),m.className+=" editor-preview-active-side"},1),B&&(B.className+=" active"),D.className+=" CodeMirror-sided",I=!0);var Y=D.lastChild;if(/editor-preview-active/.test(Y.className)){Y.className=Y.className.replace(/\s*editor-preview-active\s*/g,"");var A=c.toolbarElements.preview,Q=c.toolbar_div;A.className=A.className.replace(/\s*active\s*/g,""),Q.className=Q.className.replace(/\s*disabled-for-preview*/g,"")}if(x.sideBySideRenderingFunction||(x.sideBySideRenderingFunction=function(){var _e=c.options.previewRender(c.value(),m);null!=_e&&(m.innerHTML=_e)}),I){var ge=c.options.previewRender(c.value(),m);null!=ge&&(m.innerHTML=ge),x.on("update",x.sideBySideRenderingFunction)}else x.off("update",x.sideBySideRenderingFunction);x.refresh()}function mt(c){var x=c.codemirror,D=x.getWrapperElement(),m=c.toolbar_div,B=!!c.options.toolbar&&c.toolbarElements.preview,I=D.lastChild,E=x.getWrapperElement().nextSibling;if(/editor-preview-active-side/.test(E.className)&&ve(c),!I||!/editor-preview-full/.test(I.className)){if((I=document.createElement("div")).className="editor-preview-full",c.options.previewClass)if(Array.isArray(c.options.previewClass))for(var Y=0;Y<c.options.previewClass.length;Y++)I.className+=" "+c.options.previewClass[Y];else"string"==typeof c.options.previewClass&&(I.className+=" "+c.options.previewClass);D.appendChild(I)}/editor-preview-active/.test(I.className)?(I.className=I.className.replace(/\s*editor-preview-active\s*/g,""),B&&(B.className=B.className.replace(/\s*active\s*/g,""),m.className=m.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){I.className+=" editor-preview-active"},1),B&&(B.className+=" active",m.className+=" disabled-for-preview")),I.innerHTML=c.options.previewRender(c.value(),I)}function Ve(c,x,D,m){if(!/editor-preview-active/.test(c.getWrapperElement().lastChild.className)){var B,I=D[0],E=D[1],Y={},A={};Object.assign(Y,c.getCursor("start")),Object.assign(A,c.getCursor("end")),m&&(I=I.replace("#url#",m),E=E.replace("#url#",m)),x?(I=(B=c.getLine(Y.line)).slice(0,Y.ch),E=B.slice(Y.ch),c.replaceRange(I+E,{line:Y.line,ch:0})):(B=c.getSelection(),c.replaceSelection(I+B+E),Y.ch+=I.length,Y!==A&&(A.ch+=I.length)),c.setSelection(Y,A),c.focus()}}function Lt(c,x,D){if(!/editor-preview-active/.test(c.getWrapperElement().lastChild.className)){for(var m=c.getCursor("start"),B=c.getCursor("end"),I=m.line;I<=B.line;I++)Y=void 0,void 0,A=(Y=c.getLine(E=I)).search(/[^#]/),Y=void 0!==x?A<=0?"bigger"==x?"###### "+Y:"# "+Y:6==A&&"smaller"==x?Y.substr(7):1==A&&"bigger"==x?Y.substr(2):"bigger"==x?Y.substr(1):"#"+Y:1==D?A<=0?"# "+Y:A==D?Y.substr(A+1):"# "+Y.substr(A+1):2==D?A<=0?"## "+Y:A==D?Y.substr(A+1):"## "+Y.substr(A+1):A<=0?"### "+Y:A==D?Y.substr(A+1):"### "+Y.substr(A+1),c.replaceRange(Y,{line:E,ch:0},{line:E,ch:99999999999999});c.focus()}var E,Y,A}function wt(c,x,D){if(!/editor-preview-active/.test(c.getWrapperElement().lastChild.className)){for(var m=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,B=/^\s*/,I=_(c),E=c.getCursor("start"),Y=c.getCursor("end"),A={quote:/^(\s*)>\s+/,"unordered-list":m,"ordered-list":m},Q=function(Ie,xe,Be){var Ft,Mt,rt=m.exec(xe),tt={quote:">","unordered-list":D,"ordered-list":"%%i."}[Ie].replace("%%i",ge);return null!==rt?(Ft=rt[2],Mt=new RegExp({quote:">","unordered-list":"\\"+D,"ordered-list":"\\d+."}[Ie]),Ft&&Mt.test(Ft)&&(tt=""),xe=rt[1]+tt+rt[3]+xe.replace(B,"").replace(A[Ie],"$1")):0==Be&&(xe=tt+" "+xe),xe},ge=1,_e=E.line;_e<=Y.line;_e++)xe=void 0,xe=c.getLine(Ie=_e),I[x]?xe=xe.replace(A[x],"$1"):("unordered-list"==x&&(xe=Q("ordered-list",xe,!0)),xe=Q(x,xe,!1),ge+=1),c.replaceRange(xe,{line:Ie,ch:0},{line:Ie,ch:99999999999999});c.focus()}var Ie,xe}function pt(c,x,D,m){if(!/editor-preview-active/.test(c.codemirror.getWrapperElement().lastChild.className)){m=void 0===m?D:m;var B,I=c.codemirror,E=_(I),Y=D,A=m,Q=I.getCursor("start"),ge=I.getCursor("end");E[x]?(Y=(B=I.getLine(Q.line)).slice(0,Q.ch),A=B.slice(Q.ch),"bold"==x?(Y=Y.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),A=A.replace(/(\*\*|__)/,"")):"italic"==x?(Y=Y.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),A=A.replace(/(\*|_)/,"")):"strikethrough"==x&&(Y=Y.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),A=A.replace(/(\*\*|~~)/,"")),I.replaceRange(Y+A,{line:Q.line,ch:0},{line:Q.line,ch:99999999999999}),"bold"==x||"strikethrough"==x?(Q.ch-=2,Q!==ge&&(ge.ch-=2)):"italic"==x&&(Q.ch-=1,Q!==ge&&(ge.ch-=1))):(B=I.getSelection(),"bold"==x?B=(B=B.split("**").join("")).split("__").join(""):"italic"==x?B=(B=B.split("*").join("")).split("_").join(""):"strikethrough"==x&&(B=B.split("~~").join("")),I.replaceSelection(Y+B+A),Q.ch+=D.length,ge.ch=Q.ch+B.length),I.setSelection(Q,ge),I.focus()}}function Ct(c,x){if(Math.abs(c)<1024)return""+c+x[0];var D=0;do{c/=1024,++D}while(Math.abs(c)>=1024&&D<x.length);return""+c.toFixed(1)+x[D]}function xt(c,x){for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&(c[D]=x[D]instanceof Array?x[D].concat(c[D]instanceof Array?c[D]:[]):null!==x[D]&&"object"==typeof x[D]&&x[D].constructor===Object?xt(c[D]||{},x[D]):x[D]);return c}function Me(c){for(var x=1;x<arguments.length;x++)c=xt(c,arguments[x]);return c}function te(c){var x=c.match(/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),D=0;if(null===x)return D;for(var m=0;m<x.length;m++)x[m].charCodeAt(0)>=19968?D+=x[m].length:D+=1;return D}var O={bold:{name:"bold",action:de,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:ie,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:pe,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:Ee,className:"fa fa-header fa-heading",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:Ee,className:"fa fa-header fa-heading header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Oe,className:"fa fa-header fa-heading header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:ze,className:"fa fa-header fa-heading header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:Ue,className:"fa fa-header fa-heading header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:W,className:"fa fa-header fa-heading header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:be,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:we,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:Z,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:he,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:oe,className:"fa fa-eraser",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:se,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:S,className:"fa fa-image",title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:d,className:"fa fa-image",title:"Import an image"},table:{name:"table",action:Se,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:nt,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:mt,className:"fa fa-eye",noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:ve,className:"fa fa-columns",noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:ne,className:"fa fa-arrows-alt",noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:"fa fa-question-circle",noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:Je,className:"fa fa-undo",noDisable:!0,title:"Undo"},redo:{name:"redo",action:ct,className:"fa fa-repeat fa-redo",noDisable:!0,title:"Redo"}},y={link:["[","](#url#)"],image:["![](","#url#)"],uploadedImage:["![](#url#)",""],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},v={link:"URL for the link:",image:"URL of the image:"},C={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},p={bold:"**",code:"```",italic:"*"},H={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},z={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:"Image #image_name# is too big (#image_size#).\nMaximum file size is #image_max_size#.",importError:"Something went wrong when uploading the image #image_name#."};function k(c){(c=c||{}).parent=this;var x=!0;if(!1===c.autoDownloadFontAwesome&&(x=!1),!0!==c.autoDownloadFontAwesome)for(var D=document.styleSheets,m=0;m<D.length;m++)D[m].href&&D[m].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(x=!1);if(x){var B=document.createElement("link");B.rel="stylesheet",B.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(B)}if(c.element)this.element=c.element;else if(null===c.element)return void console.log("EasyMDE: Error. No element was found.");if(void 0===c.toolbar)for(var I in c.toolbar=[],O)Object.prototype.hasOwnProperty.call(O,I)&&(-1!=I.indexOf("separator-")&&c.toolbar.push("|"),(!0===O[I].default||c.showIcons&&c.showIcons.constructor===Array&&-1!=c.showIcons.indexOf(I))&&c.toolbar.push(I));if(Object.prototype.hasOwnProperty.call(c,"previewClass")||(c.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(c,"status")||(c.status=["autosave","lines","words","cursor"],c.uploadImage&&c.status.unshift("upload-image")),c.previewRender||(c.previewRender=function(Y){return this.parent.markdown(Y)}),c.parsingConfig=Me({highlightFormatting:!0},c.parsingConfig||{}),c.insertTexts=Me({},y,c.insertTexts||{}),c.promptTexts=Me({},v,c.promptTexts||{}),c.blockStyles=Me({},p,c.blockStyles||{}),null!=c.autosave&&(c.autosave.timeFormat=Me({},C,c.autosave.timeFormat||{})),c.shortcuts=Me({},w,c.shortcuts||{}),c.maxHeight=c.maxHeight||void 0,c.direction=c.direction||"ltr",c.minHeight=void 0!==c.maxHeight?c.maxHeight:c.minHeight||"300px",c.errorCallback=c.errorCallback||function(Y){alert(Y)},c.uploadImage=c.uploadImage||!1,c.imageMaxSize=c.imageMaxSize||2097152,c.imageAccept=c.imageAccept||"image/png, image/jpeg",c.imageTexts=Me({},H,c.imageTexts||{}),c.errorMessages=Me({},z,c.errorMessages||{}),null!=c.autosave&&null!=c.autosave.unique_id&&""!=c.autosave.unique_id&&(c.autosave.uniqueId=c.autosave.unique_id),c.overlayMode&&void 0===c.overlayMode.combine&&(c.overlayMode.combine=!0),this.options=c,this.render(),!c.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(c.initialValue),c.uploadImage){var E=this;this.codemirror.on("dragenter",function(Y,A){E.updateStatusBar("upload-image",E.options.imageTexts.sbOnDragEnter),A.stopPropagation(),A.preventDefault()}),this.codemirror.on("dragend",function(Y,A){E.updateStatusBar("upload-image",E.options.imageTexts.sbInit),A.stopPropagation(),A.preventDefault()}),this.codemirror.on("dragleave",function(Y,A){E.updateStatusBar("upload-image",E.options.imageTexts.sbInit),A.stopPropagation(),A.preventDefault()}),this.codemirror.on("dragover",function(Y,A){E.updateStatusBar("upload-image",E.options.imageTexts.sbOnDragEnter),A.stopPropagation(),A.preventDefault()}),this.codemirror.on("drop",function(Y,A){A.stopPropagation(),A.preventDefault(),c.imageUploadFunction?E.uploadImagesUsingCustomFunction(c.imageUploadFunction,A.dataTransfer.files):E.uploadImages(A.dataTransfer.files)}),this.codemirror.on("paste",function(Y,A){c.imageUploadFunction?E.uploadImagesUsingCustomFunction(c.imageUploadFunction,A.clipboardData.files):E.uploadImages(A.clipboardData.files)})}}function Ce(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(c){return!1}return!0}k.prototype.uploadImages=function(c,x,D){if(0!==c.length){for(var m=[],B=0;B<c.length;B++)m.push(c[B].name),this.uploadImage(c[B],x,D);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",m.join(", ")))}},k.prototype.uploadImagesUsingCustomFunction=function(c,x){if(0!==x.length){for(var D=[],m=0;m<x.length;m++)D.push(x[m].name),this.uploadImageUsingCustomFunction(c,x[m]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",D.join(", ")))}},k.prototype.updateStatusBar=function(c,x){if(this.gui.statusbar){var D=this.gui.statusbar.getElementsByClassName(c);1===D.length?this.gui.statusbar.getElementsByClassName(c)[0].textContent=x:0===D.length?console.log("EasyMDE: status bar item "+c+" was not found."):console.log("EasyMDE: Several status bar items named "+c+" was found.")}},k.prototype.markdown=function(c){if(K){var x;if((x=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{}).breaks=!this.options||!this.options.renderingConfig||!1!==this.options.renderingConfig.singleLineBreaks,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting){var D=this.options.renderingConfig.hljs||window.hljs;D&&(x.highlight=function(B,I){return I&&D.getLanguage(I)?D.highlight(I,B).value:D.highlightAuto(B).value})}K.setOptions(x);var m=K.parse(c);return this.options.renderingConfig&&"function"==typeof this.options.renderingConfig.sanitizerFunction&&(m=this.options.renderingConfig.sanitizerFunction.call(this,m)),function(B){for(var I=(new DOMParser).parseFromString(B,"text/html"),E=I.getElementsByTagName("li"),Y=0;Y<E.length;Y++)for(var A=E[Y],Q=0;Q<A.children.length;Q++){var ge=A.children[Q];ge instanceof HTMLInputElement&&"checkbox"===ge.type&&(A.style.marginLeft="-1.5em",A.style.listStyleType="none")}return I.documentElement.innerHTML}(m=function(B){for(var I;null!==(I=R.exec(B));){var E=I[0];if(-1===E.indexOf("target=")){var Y=E.replace(/>$/,' target="_blank">');B=B.replace(E,Y)}}return B}(m))}},k.prototype.render=function(c){if(c||(c=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==c){this.element=c;var x,D,m=this.options,B=this,I={};for(var E in m.shortcuts)null!==m.shortcuts[E]&&null!==M[E]&&function(xe){I[q(m.shortcuts[xe])]=function(){var Be=M[xe];"function"==typeof Be?Be(B):"string"==typeof Be&&window.open(Be,"_blank")}}(E);if(I.Enter="newlineAndIndentContinueMarkdownList",I.Tab="tabAndIndentMarkdownList",I["Shift-Tab"]="shiftTabAndUnindentMarkdownList",I.Esc=function(xe){xe.getOption("fullScreen")&&ne(B)},this.documentOnKeyDown=function(xe){27==(xe=xe||window.event).keyCode&&B.codemirror.getOption("fullScreen")&&ne(B)},document.addEventListener("keydown",this.documentOnKeyDown,!1),m.overlayMode?(U.defineMode("overlay-mode",function(xe){return U.overlayMode(U.getMode(xe,!1!==m.spellChecker?"spell-checker":"gfm"),m.overlayMode.mode,m.overlayMode.combine)}),x="overlay-mode",(D=m.parsingConfig).gitHubSpice=!1):((x=m.parsingConfig).name="gfm",x.gitHubSpice=!1),!1!==m.spellChecker&&(x="spell-checker",(D=m.parsingConfig).name="gfm",D.gitHubSpice=!1,"function"==typeof m.spellChecker?m.spellChecker({codeMirrorInstance:U}):J({codeMirrorInstance:U})),this.codemirror=U.fromTextArea(c,{mode:x,backdrop:D,theme:null!=m.theme?m.theme:"easymde",tabSize:null!=m.tabSize?m.tabSize:2,indentUnit:null!=m.tabSize?m.tabSize:2,indentWithTabs:!1!==m.indentWithTabs,lineNumbers:!0===m.lineNumbers,autofocus:!0===m.autofocus,extraKeys:I,direction:m.direction,lineWrapping:!1!==m.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:m.placeholder||c.getAttribute("placeholder")||"",styleSelectedText:null!=m.styleSelectedText?m.styleSelectedText:!re(),scrollbarStyle:null!=m.scrollbarStyle?m.scrollbarStyle:"native",configureMouse:function(xe,Be,rt){return{addNew:!1}},inputStyle:null!=m.inputStyle?m.inputStyle:re()?"contenteditable":"textarea",spellcheck:null==m.nativeSpellcheck||m.nativeSpellcheck,autoRefresh:null!=m.autoRefresh&&m.autoRefresh}),this.codemirror.getScrollerElement().style.minHeight=m.minHeight,void 0!==m.maxHeight&&(this.codemirror.getScrollerElement().style.height=m.maxHeight),!0===m.forceSync){var Y=this.codemirror;Y.on("change",function(){Y.save()})}this.gui={};var A=document.createElement("div");A.classList.add("EasyMDEContainer");var Q=this.codemirror.getWrapperElement();Q.parentNode.insertBefore(A,Q),A.appendChild(Q),!1!==m.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==m.status&&(this.gui.statusbar=this.createStatusbar()),null!=m.autosave&&!0===m.autosave.enabled&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(B._autosave_timeout),B._autosave_timeout=setTimeout(function(){B.autosave()},B.options.autosave.submit_delay||B.options.autosave.delay||1e3)}));var ge=this;this.codemirror.on("update",function(){m.previewImagesInEditor&&A.querySelectorAll(".cm-image-marker").forEach(function(xe){var Be=xe.parentElement;if(Be.innerText.match(/^!\[.*?\]\(.*\)/g)&&!Be.hasAttribute("data-img-src")){var rt=Be.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),rt&&rt.length>=2){var tt=rt[1];if(window.EMDEimagesCache[tt])Ie(Be,window.EMDEimagesCache[tt]);else{var dt=document.createElement("img");dt.onload=function(){window.EMDEimagesCache[tt]={naturalWidth:dt.naturalWidth,naturalHeight:dt.naturalHeight,url:tt},Ie(Be,window.EMDEimagesCache[tt])},dt.src=tt}}}})}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var _e=this.codemirror;setTimeout(function(){_e.refresh()}.bind(_e),0)}function Ie(xe,Be){var rt,tt;xe.setAttribute("data-img-src",Be.url),xe.setAttribute("style","--bg-image:url("+Be.url+");--width:"+Be.naturalWidth+"px;--height:"+(tt=Be.naturalHeight,(rt=Be.naturalWidth)<window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","")?tt+"px":tt/rt*100+"%")),ge.codemirror.setSize()}},k.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)},k.prototype.autosave=function(){if(Ce()){var c=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to use the autosave feature");!0!==this.options.autosave.binded&&(null!=c.element.form&&null!=c.element.form&&c.element.form.addEventListener("submit",function(){clearTimeout(c.autosaveTimeoutId),c.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+c.options.autosave.uniqueId)}),this.options.autosave.binded=!0),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var x=c.value();""!==x?localStorage.setItem("smde_"+this.options.autosave.uniqueId,x):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var D=document.getElementById("autosaved");if(null!=D&&null!=D&&""!=D){var m=new Date,B=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(m);D.innerHTML=(null==this.options.autosave.text?"Autosaved: ":this.options.autosave.text)+B}}else console.log("EasyMDE: localStorage not available, cannot autosave")},k.prototype.clearAutosavedValue=function(){if(Ce()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},k.prototype.openBrowseFileWindow=function(c,x){var D=this,m=this.gui.toolbar.getElementsByClassName("imageInput")[0];m.click(),m.addEventListener("change",function B(I){D.options.imageUploadFunction?D.uploadImagesUsingCustomFunction(D.options.imageUploadFunction,I.target.files):D.uploadImages(I.target.files,c,x),m.removeEventListener("change",B)})},k.prototype.uploadImage=function(c,x,D){var m=this;function B(A){m.updateStatusBar("upload-image",A),setTimeout(function(){m.updateStatusBar("upload-image",m.options.imageTexts.sbInit)},1e4),D&&"function"==typeof D&&D(A),m.options.errorCallback(A)}function I(A){var Q=m.options.imageTexts.sizeUnits.split(",");return A.replace("#image_name#",c.name).replace("#image_size#",Ct(c.size,Q)).replace("#image_max_size#",Ct(m.options.imageMaxSize,Q))}if(x=x||function(A){ke(m,A)},c.size>this.options.imageMaxSize)B(I(this.options.errorMessages.fileTooLarge));else{var E=new FormData;E.append("image",c),m.options.imageCSRFToken&&E.append("csrfmiddlewaretoken",m.options.imageCSRFToken);var Y=new XMLHttpRequest;Y.upload.onprogress=function(A){if(A.lengthComputable){var Q=""+Math.round(100*A.loaded/A.total);m.updateStatusBar("upload-image",m.options.imageTexts.sbProgress.replace("#file_name#",c.name).replace("#progress#",Q))}},Y.open("POST",this.options.imageUploadEndpoint),Y.onload=function(){try{var A=JSON.parse(this.responseText)}catch(Q){return console.error("EasyMDE: The server did not return a valid json."),void B(I(m.options.errorMessages.importError))}200===this.status&&A&&!A.error&&A.data&&A.data.filePath?x((m.options.imagePathAbsolute?"":window.location.origin+"/")+A.data.filePath):A.error&&A.error in m.options.errorMessages?B(I(m.options.errorMessages[A.error])):A.error?B(I(A.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),B(I(m.options.errorMessages.importError)))},Y.onerror=function(A){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+A.target.status+" ("+A.target.statusText+")"),B(m.options.errorMessages.importError)},Y.send(E)}},k.prototype.uploadImageUsingCustomFunction=function(c,x){var D=this;c.apply(this,[x,function(m){ke(D,m)},function(m){var I,E,B=(I=m,E=D.options.imageTexts.sizeUnits.split(","),I.replace("#image_name#",x.name).replace("#image_size#",Ct(x.size,E)).replace("#image_max_size#",Ct(D.options.imageMaxSize,E)));D.updateStatusBar("upload-image",B),setTimeout(function(){D.updateStatusBar("upload-image",D.options.imageTexts.sbInit)},1e4),D.options.errorCallback(B)}])},k.prototype.setPreviewMaxHeight=function(){var c=this.codemirror.getWrapperElement(),x=c.nextSibling,D=parseInt(window.getComputedStyle(c).paddingTop),m=parseInt(window.getComputedStyle(c).borderTopWidth),B=(parseInt(this.options.maxHeight)+2*D+2*m).toString()+"px";x.style.height=B},k.prototype.createSideBySide=function(){var c=this.codemirror,x=c.getWrapperElement(),D=x.nextSibling;if(!D||!/editor-preview-side/.test(D.className)){if((D=document.createElement("div")).className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var m=0;m<this.options.previewClass.length;m++)D.className+=" "+this.options.previewClass[m];else"string"==typeof this.options.previewClass&&(D.className+=" "+this.options.previewClass);x.parentNode.insertBefore(D,x.nextSibling)}if(void 0!==this.options.maxHeight&&this.setPreviewMaxHeight(),!1===this.options.syncSideBySidePreviewScroll)return D;var B=!1,I=!1;return c.on("scroll",function(E){if(B)B=!1;else{I=!0;var Y=E.getScrollInfo().height-E.getScrollInfo().clientHeight,A=parseFloat(E.getScrollInfo().top)/Y;D.scrollTop=(D.scrollHeight-D.clientHeight)*A}}),D.onscroll=function(){if(I)I=!1;else{B=!0;var E=D.scrollHeight-D.clientHeight,Y=parseFloat(D.scrollTop)/E,A=(c.getScrollInfo().height-c.getScrollInfo().clientHeight)*Y;c.scrollTo(0,A)}},D},k.prototype.createToolbar=function(c){if((c=c||this.options.toolbar)&&0!==c.length){var x;for(x=0;x<c.length;x++)null!=O[c[x]]&&(c[x]=O[c[x]]);var D=document.createElement("div");D.className="editor-toolbar";var m=this,B={};for(m.toolbar=c,x=0;x<c.length;x++)if(("guide"!=c[x].name||!1!==m.options.toolbarGuideIcon)&&!(m.options.hideIcons&&-1!=m.options.hideIcons.indexOf(c[x].name)||("fullscreen"==c[x].name||"side-by-side"==c[x].name)&&re())){if("|"===c[x]){for(var I=!1,E=x+1;E<c.length;E++)"|"===c[E]||m.options.hideIcons&&-1!=m.options.hideIcons.indexOf(c[E].name)||(I=!0);if(!I)continue}!function(Q){var ge;if(ge="|"===Q?j():Q.children?Fe(Q,m.options.toolbarTips,m.options.shortcuts,m):De(Q,!0,m.options.toolbarTips,m.options.shortcuts,"button",m),B[Q.name||Q]=ge,D.appendChild(ge),"upload-image"===Q.name){var _e=document.createElement("input");_e.className="imageInput",_e.type="file",_e.multiple=!0,_e.name="image",_e.accept=m.options.imageAccept,_e.style.display="none",_e.style.opacity=0,D.appendChild(_e)}}(c[x])}m.toolbar_div=D,m.toolbarElements=B;var Y=this.codemirror;Y.on("cursorActivity",function(){var _e,Ie,Q=_(Y);for(var ge in B)Ie=void 0,Ie=B[_e=ge],Q[_e]?Ie.className+=" active":"fullscreen"!=_e&&"side-by-side"!=_e&&(Ie.className=Ie.className.replace(/\s*active\s*/g,""))});var A=Y.getWrapperElement();return A.parentNode.insertBefore(D,A),D}},k.prototype.createStatusbar=function(c){var x=this.options,D=this.codemirror;if((c=c||this.options.status)&&0!==c.length){var m,B,I,E,Y=[];for(m=0;m<c.length;m++)if(B=void 0,I=void 0,E=void 0,"object"==typeof c[m])Y.push({className:c[m].className,defaultValue:c[m].defaultValue,onUpdate:c[m].onUpdate,onActivity:c[m].onActivity});else{var A=c[m];"words"===A?(E=function(xe){xe.innerHTML=te(D.getValue())},B=function(xe){xe.innerHTML=te(D.getValue())}):"lines"===A?(E=function(xe){xe.innerHTML=D.lineCount()},B=function(xe){xe.innerHTML=D.lineCount()}):"cursor"===A?(E=function(xe){xe.innerHTML="1:1"},I=function(xe){var Be=D.getCursor();xe.innerHTML=Be.line+1+":"+(Be.ch+1)}):"autosave"===A?E=function(xe){null!=x.autosave&&!0===x.autosave.enabled&&xe.setAttribute("id","autosaved")}:"upload-image"===A&&(E=function(xe){xe.innerHTML=x.imageTexts.sbInit}),Y.push({className:A,defaultValue:E,onUpdate:B,onActivity:I})}var Q=document.createElement("div");for(Q.className="editor-statusbar",m=0;m<Y.length;m++){var ge=Y[m],_e=document.createElement("span");_e.className=ge.className,"function"==typeof ge.defaultValue&&ge.defaultValue(_e),"function"==typeof ge.onUpdate&&this.codemirror.on("update",function(xe,Be){return function(){Be.onUpdate(xe)}}(_e,ge)),"function"==typeof ge.onActivity&&this.codemirror.on("cursorActivity",function(xe,Be){return function(){Be.onActivity(xe)}}(_e,ge)),Q.appendChild(_e)}var Ie=this.codemirror.getWrapperElement();return Ie.parentNode.insertBefore(Q,Ie.nextSibling),Q}},k.prototype.value=function(c){var x=this.codemirror;if(void 0===c)return x.getValue();if(x.getDoc().setValue(c),this.isPreviewActive()){var D=x.getWrapperElement().lastChild;D.innerHTML=this.options.previewRender(c,D)}return this},k.toggleBold=de,k.toggleItalic=ie,k.toggleStrikethrough=pe,k.toggleBlockquote=we,k.toggleHeadingSmaller=Ee,k.toggleHeadingBigger=Oe,k.toggleHeading1=ze,k.toggleHeading2=Ue,k.toggleHeading3=W,k.toggleCodeBlock=be,k.toggleUnorderedList=Z,k.toggleOrderedList=he,k.cleanBlock=oe,k.drawLink=se,k.drawImage=S,k.drawUploadedImage=d,k.drawTable=Se,k.drawHorizontalRule=nt,k.undo=Je,k.redo=ct,k.togglePreview=mt,k.toggleSideBySide=ve,k.toggleFullScreen=ne,k.prototype.toggleBold=function(){de(this)},k.prototype.toggleItalic=function(){ie(this)},k.prototype.toggleStrikethrough=function(){pe(this)},k.prototype.toggleBlockquote=function(){we(this)},k.prototype.toggleHeadingSmaller=function(){Ee(this)},k.prototype.toggleHeadingBigger=function(){Oe(this)},k.prototype.toggleHeading1=function(){ze(this)},k.prototype.toggleHeading2=function(){Ue(this)},k.prototype.toggleHeading3=function(){W(this)},k.prototype.toggleCodeBlock=function(){be(this)},k.prototype.toggleUnorderedList=function(){Z(this)},k.prototype.toggleOrderedList=function(){he(this)},k.prototype.cleanBlock=function(){oe(this)},k.prototype.drawLink=function(){se(this)},k.prototype.drawImage=function(){S(this)},k.prototype.drawUploadedImage=function(){d(this)},k.prototype.drawTable=function(){Se(this)},k.prototype.drawHorizontalRule=function(){nt(this)},k.prototype.undo=function(){Je(this)},k.prototype.redo=function(){ct(this)},k.prototype.togglePreview=function(){mt(this)},k.prototype.toggleSideBySide=function(){ve(this)},k.prototype.toggleFullScreen=function(){ne(this)},k.prototype.isPreviewActive=function(){var c=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(c.className)},k.prototype.isSideBySideActive=function(){var c=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(c.className)},k.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},k.prototype.getState=function(){return _(this.codemirror)},k.prototype.toTextArea=function(){var c=this.codemirror,x=c.getWrapperElement(),D=x.parentNode;D&&(this.gui.toolbar&&D.removeChild(this.gui.toolbar),this.gui.statusbar&&D.removeChild(this.gui.statusbar),this.gui.sideBySide&&D.removeChild(this.gui.sideBySide)),D.parentNode.insertBefore(x,D),D.remove(),c.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},Ge.exports=k},{"./codemirror/tablist":17,codemirror:10,"codemirror-spell-checker":2,"codemirror/addon/display/autorefresh.js":3,"codemirror/addon/display/fullscreen.js":4,"codemirror/addon/display/placeholder.js":5,"codemirror/addon/edit/continuelist.js":6,"codemirror/addon/mode/overlay.js":7,"codemirror/addon/search/searchcursor.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:15}]},{},[18])(18)});