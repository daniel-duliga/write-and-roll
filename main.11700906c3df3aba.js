var yge=Object.defineProperty,bge=Object.defineProperties,Oge=Object.getOwnPropertyDescriptors,t5=Object.getOwnPropertySymbols,wge=Object.prototype.hasOwnProperty,Cge=Object.prototype.propertyIsEnumerable,n5=(He,X,K)=>X in He?yge(He,X,{enumerable:!0,configurable:!0,writable:!0,value:K}):He[X]=K,be=(He,X)=>{for(var K in X||(X={}))wge.call(X,K)&&n5(He,K,X[K]);if(t5)for(var K of t5(X))Cge.call(X,K)&&n5(He,K,X[K]);return He},jn=(He,X)=>bge(He,Oge(X));(self.webpackChunkwrite_and_roll=self.webpackChunkwrite_and_roll||[]).push([[179],{930:He=>{"use strict";He.exports=function(K){return function(){var fe=arguments.length;if(fe){for(var ye=[],H=-1;++H<fe;)ye[H]=arguments[H];return K.call(this,ye)}return K.call(this,[])}}},703:He=>{"use strict";var fe,X="object"==typeof Reflect?Reflect:null,K=X&&"function"==typeof X.apply?X.apply:function(M,E,Z){return Function.prototype.apply.call(M,E,Z)};fe=X&&"function"==typeof X.ownKeys?X.ownKeys:Object.getOwnPropertySymbols?function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:function(M){return Object.getOwnPropertyNames(M)};var H=Number.isNaN||function(M){return M!=M};function Y(){Y.init.call(this)}He.exports=Y,He.exports.once=function(g,M){return new Promise(function(E,Z){function Pe(et){g.removeListener(M,xt),Z(et)}function xt(){"function"==typeof g.removeListener&&g.removeListener("error",Pe),E([].slice.call(arguments))}_(g,M,xt,{once:!0}),"error"!==M&&function(g,M,E){"function"==typeof g.on&&_(g,"error",M,{once:!0})}(g,Pe)})},Y.EventEmitter=Y,Y.prototype._events=void 0,Y.prototype._eventsCount=0,Y.prototype._maxListeners=void 0;var z=10;function P(g){if("function"!=typeof g)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function Ce(g){return void 0===g._maxListeners?Y.defaultMaxListeners:g._maxListeners}function ue(g,M,E,Z){var Pe,xt,et;if(P(E),void 0===(xt=g._events)?(xt=g._events=Object.create(null),g._eventsCount=0):(void 0!==xt.newListener&&(g.emit("newListener",M,E.listener?E.listener:E),xt=g._events),et=xt[M]),void 0===et)et=xt[M]=E,++g._eventsCount;else if("function"==typeof et?et=xt[M]=Z?[E,et]:[et,E]:Z?et.unshift(E):et.push(E),(Pe=Ce(g))>0&&et.length>Pe&&!et.warned){et.warned=!0;var Ii=new Error("Possible EventEmitter memory leak detected. "+et.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ii.name="MaxListenersExceededWarning",Ii.emitter=g,Ii.type=M,Ii.count=et.length,function(g){console&&console.warn&&console.warn(g)}(Ii)}return g}function ne(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function $(g,M,E){var Z={fired:!1,wrapFn:void 0,target:g,type:M,listener:E},Pe=ne.bind(Z);return Pe.listener=E,Z.wrapFn=Pe,Pe}function ie(g,M,E){var Z=g._events;if(void 0===Z)return[];var Pe=Z[M];return void 0===Pe?[]:"function"==typeof Pe?E?[Pe.listener||Pe]:[Pe]:E?function(g){for(var M=new Array(g.length),E=0;E<M.length;++E)M[E]=g[E].listener||g[E];return M}(Pe):R(Pe,Pe.length)}function Re(g){var M=this._events;if(void 0!==M){var E=M[g];if("function"==typeof E)return 1;if(void 0!==E)return E.length}return 0}function R(g,M){for(var E=new Array(M),Z=0;Z<M;++Z)E[Z]=g[Z];return E}function _(g,M,E,Z){if("function"==typeof g.on)Z.once?g.once(M,E):g.on(M,E);else{if("function"!=typeof g.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g);g.addEventListener(M,function Pe(xt){Z.once&&g.removeEventListener(M,Pe),E(xt)})}}Object.defineProperty(Y,"defaultMaxListeners",{enumerable:!0,get:function(){return z},set:function(g){if("number"!=typeof g||g<0||H(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");z=g}}),Y.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Y.prototype.setMaxListeners=function(M){if("number"!=typeof M||M<0||H(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this},Y.prototype.getMaxListeners=function(){return Ce(this)},Y.prototype.emit=function(M){for(var E=[],Z=1;Z<arguments.length;Z++)E.push(arguments[Z]);var Pe="error"===M,xt=this._events;if(void 0!==xt)Pe=Pe&&void 0===xt.error;else if(!Pe)return!1;if(Pe){var et;if(E.length>0&&(et=E[0]),et instanceof Error)throw et;var Ii=new Error("Unhandled error."+(et?" ("+et.message+")":""));throw Ii.context=et,Ii}var Co=xt[M];if(void 0===Co)return!1;if("function"==typeof Co)K(Co,this,E);else{var Ie=Co.length,qh=R(Co,Ie);for(Z=0;Z<Ie;++Z)K(qh[Z],this,E)}return!0},Y.prototype.on=Y.prototype.addListener=function(M,E){return ue(this,M,E,!1)},Y.prototype.prependListener=function(M,E){return ue(this,M,E,!0)},Y.prototype.once=function(M,E){return P(E),this.on(M,$(this,M,E)),this},Y.prototype.prependOnceListener=function(M,E){return P(E),this.prependListener(M,$(this,M,E)),this},Y.prototype.off=Y.prototype.removeListener=function(M,E){var Z,Pe,xt,et,Ii;if(P(E),void 0===(Pe=this._events))return this;if(void 0===(Z=Pe[M]))return this;if(Z===E||Z.listener===E)0==--this._eventsCount?this._events=Object.create(null):(delete Pe[M],Pe.removeListener&&this.emit("removeListener",M,Z.listener||E));else if("function"!=typeof Z){for(xt=-1,et=Z.length-1;et>=0;et--)if(Z[et]===E||Z[et].listener===E){Ii=Z[et].listener,xt=et;break}if(xt<0)return this;0===xt?Z.shift():function(g,M){for(;M+1<g.length;M++)g[M]=g[M+1];g.pop()}(Z,xt),1===Z.length&&(Pe[M]=Z[0]),void 0!==Pe.removeListener&&this.emit("removeListener",M,Ii||E)}return this},Y.prototype.removeAllListeners=function(M){var E,Z,Pe;if(void 0===(Z=this._events))return this;if(void 0===Z.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Z[M]&&(0==--this._eventsCount?this._events=Object.create(null):delete Z[M]),this;if(0===arguments.length){var et,xt=Object.keys(Z);for(Pe=0;Pe<xt.length;++Pe)"removeListener"!==(et=xt[Pe])&&this.removeAllListeners(et);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(E=Z[M]))this.removeListener(M,E);else if(void 0!==E)for(Pe=E.length-1;Pe>=0;Pe--)this.removeListener(M,E[Pe]);return this},Y.prototype.listeners=function(M){return ie(this,M,!0)},Y.prototype.rawListeners=function(M){return ie(this,M,!1)},Y.listenerCount=function(g,M){return"function"==typeof g.listenerCount?g.listenerCount(M):Re.call(g,M)},Y.prototype.listenerCount=Re,Y.prototype.eventNames=function(){return this._eventsCount>0?fe(this._events):[]}},746:(He,X,K)=>{"use strict";var ye,H,fe=[K(525),K(318),K(359),K(467),K(696),K(798)],Y=-1,z=[],P=!1;function Ce(){!ye||!H||(ye=!1,H.length?z=H.concat(z):Y=-1,z.length&&ue())}function ue(){if(!ye){P=!1,ye=!0;for(var Q=z.length,D=setTimeout(Ce);Q;){for(H=z,z=[];H&&++Y<Q;)H[Y].run();Y=-1,Q=z.length}H=null,Y=-1,ye=!1,clearTimeout(D)}}for(var ne,$=-1,ie=fe.length;++$<ie;)if(fe[$]&&fe[$].test&&fe[$].test()){ne=fe[$].install(ue);break}function Re(Q,D){this.fun=Q,this.array=D}Re.prototype.run=function(){var Q=this.fun,D=this.array;switch(D.length){case 0:return Q();case 1:return Q(D[0]);case 2:return Q(D[0],D[1]);case 3:return Q(D[0],D[1],D[2]);default:return Q.apply(null,D)}},He.exports=function(Q){var D=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)D[w-1]=arguments[w];z.push(new Re(Q,D)),!P&&!ye&&(P=!0,ne())}},467:(He,X)=>{"use strict";X.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},X.install=function(K){var fe=new global.MessageChannel;return fe.port1.onmessage=K,function(){fe.port2.postMessage(0)}}},359:(He,X)=>{"use strict";var K=global.MutationObserver||global.WebKitMutationObserver;X.test=function(){return K},X.install=function(fe){var ye=0,H=new K(fe),Y=global.document.createTextNode("");return H.observe(Y,{characterData:!0}),function(){Y.data=ye=++ye%2}}},318:(He,X)=>{"use strict";X.test=function(){return"function"==typeof global.queueMicrotask},X.install=function(K){return function(){global.queueMicrotask(K)}}},696:(He,X)=>{"use strict";X.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},X.install=function(K){return function(){var fe=global.document.createElement("script");return fe.onreadystatechange=function(){K(),fe.onreadystatechange=null,fe.parentNode.removeChild(fe),fe=null},global.document.documentElement.appendChild(fe),K}}},798:(He,X)=>{"use strict";X.test=function(){return!0},X.install=function(K){return function(){setTimeout(K,0)}}},516:He=>{He.exports="function"==typeof Object.create?function(K,fe){fe&&(K.super_=fe,K.prototype=Object.create(fe.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}))}:function(K,fe){if(fe){K.super_=fe;var ye=function(){};ye.prototype=fe.prototype,K.prototype=new ye,K.prototype.constructor=K}}},521:(He,X)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;const K=[];for(let H=0;H<256;++H)K.push((H+256).toString(16).substr(1));X.default=function(H,Y){const z=Y||0;return(K[H[z+0]]+K[H[z+1]]+K[H[z+2]]+K[H[z+3]]+"-"+K[H[z+4]]+K[H[z+5]]+"-"+K[H[z+6]]+K[H[z+7]]+"-"+K[H[z+8]]+K[H[z+9]]+"-"+K[H[z+10]]+K[H[z+11]]+K[H[z+12]]+K[H[z+13]]+K[H[z+14]]+K[H[z+15]]).toLowerCase()}},527:(He,X,K)=>{"use strict";Object.defineProperty(X,"v1",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(X,"v3",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(X,"v4",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(X,"v5",{enumerable:!0,get:function(){return z.default}});var ye=P(K(600)),H=P(K(665)),Y=P(K(306)),z=P(K(799));function P(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}},685:(He,X)=>{"use strict";function ye(R){return 14+(R+64>>>9<<4)+1}function z(R,Q){const D=(65535&R)+(65535&Q);return(R>>16)+(Q>>16)+(D>>16)<<16|65535&D}function Ce(R,Q,D,w,y,_){return z(function(R,Q){return R<<Q|R>>>32-Q}(z(z(Q,R),z(w,_)),y),D)}function ue(R,Q,D,w,y,_,g){return Ce(Q&D|~Q&w,R,Q,y,_,g)}function ne(R,Q,D,w,y,_,g){return Ce(Q&w|D&~w,R,Q,y,_,g)}function $(R,Q,D,w,y,_,g){return Ce(Q^D^w,R,Q,y,_,g)}function ie(R,Q,D,w,y,_,g){return Ce(D^(Q|~w),R,Q,y,_,g)}Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0,X.default=function(R){if("string"==typeof R){const Q=unescape(encodeURIComponent(R));R=new Uint8Array(Q.length);for(let D=0;D<Q.length;++D)R[D]=Q.charCodeAt(D)}return function(R){const Q=[],D=32*R.length,w="0123456789abcdef";for(let y=0;y<D;y+=8){const _=R[y>>5]>>>y%32&255,g=parseInt(w.charAt(_>>>4&15)+w.charAt(15&_),16);Q.push(g)}return Q}(function(R,Q){R[Q>>5]|=128<<Q%32,R[ye(Q)-1]=Q;let D=1732584193,w=-271733879,y=-1732584194,_=271733878;for(let g=0;g<R.length;g+=16){const M=D,E=w,Z=y,Pe=_;D=ue(D,w,y,_,R[g],7,-680876936),_=ue(_,D,w,y,R[g+1],12,-389564586),y=ue(y,_,D,w,R[g+2],17,606105819),w=ue(w,y,_,D,R[g+3],22,-1044525330),D=ue(D,w,y,_,R[g+4],7,-176418897),_=ue(_,D,w,y,R[g+5],12,1200080426),y=ue(y,_,D,w,R[g+6],17,-1473231341),w=ue(w,y,_,D,R[g+7],22,-45705983),D=ue(D,w,y,_,R[g+8],7,1770035416),_=ue(_,D,w,y,R[g+9],12,-1958414417),y=ue(y,_,D,w,R[g+10],17,-42063),w=ue(w,y,_,D,R[g+11],22,-1990404162),D=ue(D,w,y,_,R[g+12],7,1804603682),_=ue(_,D,w,y,R[g+13],12,-40341101),y=ue(y,_,D,w,R[g+14],17,-1502002290),w=ue(w,y,_,D,R[g+15],22,1236535329),D=ne(D,w,y,_,R[g+1],5,-165796510),_=ne(_,D,w,y,R[g+6],9,-1069501632),y=ne(y,_,D,w,R[g+11],14,643717713),w=ne(w,y,_,D,R[g],20,-373897302),D=ne(D,w,y,_,R[g+5],5,-701558691),_=ne(_,D,w,y,R[g+10],9,38016083),y=ne(y,_,D,w,R[g+15],14,-660478335),w=ne(w,y,_,D,R[g+4],20,-405537848),D=ne(D,w,y,_,R[g+9],5,568446438),_=ne(_,D,w,y,R[g+14],9,-1019803690),y=ne(y,_,D,w,R[g+3],14,-187363961),w=ne(w,y,_,D,R[g+8],20,1163531501),D=ne(D,w,y,_,R[g+13],5,-1444681467),_=ne(_,D,w,y,R[g+2],9,-51403784),y=ne(y,_,D,w,R[g+7],14,1735328473),w=ne(w,y,_,D,R[g+12],20,-1926607734),D=$(D,w,y,_,R[g+5],4,-378558),_=$(_,D,w,y,R[g+8],11,-2022574463),y=$(y,_,D,w,R[g+11],16,1839030562),w=$(w,y,_,D,R[g+14],23,-35309556),D=$(D,w,y,_,R[g+1],4,-1530992060),_=$(_,D,w,y,R[g+4],11,1272893353),y=$(y,_,D,w,R[g+7],16,-155497632),w=$(w,y,_,D,R[g+10],23,-1094730640),D=$(D,w,y,_,R[g+13],4,681279174),_=$(_,D,w,y,R[g],11,-358537222),y=$(y,_,D,w,R[g+3],16,-722521979),w=$(w,y,_,D,R[g+6],23,76029189),D=$(D,w,y,_,R[g+9],4,-640364487),_=$(_,D,w,y,R[g+12],11,-421815835),y=$(y,_,D,w,R[g+15],16,530742520),w=$(w,y,_,D,R[g+2],23,-995338651),D=ie(D,w,y,_,R[g],6,-198630844),_=ie(_,D,w,y,R[g+7],10,1126891415),y=ie(y,_,D,w,R[g+14],15,-1416354905),w=ie(w,y,_,D,R[g+5],21,-57434055),D=ie(D,w,y,_,R[g+12],6,1700485571),_=ie(_,D,w,y,R[g+3],10,-1894986606),y=ie(y,_,D,w,R[g+10],15,-1051523),w=ie(w,y,_,D,R[g+1],21,-2054922799),D=ie(D,w,y,_,R[g+8],6,1873313359),_=ie(_,D,w,y,R[g+15],10,-30611744),y=ie(y,_,D,w,R[g+6],15,-1560198380),w=ie(w,y,_,D,R[g+13],21,1309151649),D=ie(D,w,y,_,R[g+4],6,-145523070),_=ie(_,D,w,y,R[g+11],10,-1120210379),y=ie(y,_,D,w,R[g+2],15,718787259),w=ie(w,y,_,D,R[g+9],21,-343485551),D=z(D,M),w=z(w,E),y=z(y,Z),_=z(_,Pe)}return[D,w,y,_]}(function(R){if(0===R.length)return[];const Q=8*R.length,D=new Uint32Array(ye(Q));for(let w=0;w<Q;w+=8)D[w>>5]|=(255&R[w/8])<<w%32;return D}(R),8*R.length))}},8:(He,X)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(){if(!K)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K(fe)};const K="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),fe=new Uint8Array(16)},13:(He,X)=>{"use strict";function K(Y,z,P,Ce){switch(Y){case 0:return z&P^~z&Ce;case 1:case 3:return z^P^Ce;case 2:return z&P^z&Ce^P&Ce}}function fe(Y,z){return Y<<z|Y>>>32-z}Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0,X.default=function(Y){const z=[1518500249,1859775393,2400959708,3395469782],P=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof Y){const $=unescape(encodeURIComponent(Y));Y=[];for(let ie=0;ie<$.length;++ie)Y.push($.charCodeAt(ie))}Y.push(128);const ue=Math.ceil((Y.length/4+2)/16),ne=new Array(ue);for(let $=0;$<ue;++$){const ie=new Uint32Array(16);for(let Re=0;Re<16;++Re)ie[Re]=Y[64*$+4*Re]<<24|Y[64*$+4*Re+1]<<16|Y[64*$+4*Re+2]<<8|Y[64*$+4*Re+3];ne[$]=ie}ne[ue-1][14]=8*(Y.length-1)/Math.pow(2,32),ne[ue-1][14]=Math.floor(ne[ue-1][14]),ne[ue-1][15]=8*(Y.length-1)&4294967295;for(let $=0;$<ue;++$){const ie=new Uint32Array(80);for(let y=0;y<16;++y)ie[y]=ne[$][y];for(let y=16;y<80;++y)ie[y]=fe(ie[y-3]^ie[y-8]^ie[y-14]^ie[y-16],1);let Re=P[0],R=P[1],Q=P[2],D=P[3],w=P[4];for(let y=0;y<80;++y){const _=Math.floor(y/20),g=fe(Re,5)+K(_,R,Q,D)+w+z[_]+ie[y]>>>0;w=D,D=Q,Q=fe(R,30)>>>0,R=Re,Re=g}P[0]=P[0]+Re>>>0,P[1]=P[1]+R>>>0,P[2]=P[2]+Q>>>0,P[3]=P[3]+D>>>0,P[4]=P[4]+w>>>0}return[P[0]>>24&255,P[0]>>16&255,P[0]>>8&255,255&P[0],P[1]>>24&255,P[1]>>16&255,P[1]>>8&255,255&P[1],P[2]>>24&255,P[2]>>16&255,P[2]>>8&255,255&P[2],P[3]>>24&255,P[3]>>16&255,P[3]>>8&255,255&P[3],P[4]>>24&255,P[4]>>16&255,P[4]>>8&255,255&P[4]]}},600:(He,X,K)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var fe=H(K(8)),ye=H(K(521));function H($){return $&&$.__esModule?$:{default:$}}let Y,z,P=0,Ce=0;X.default=function($,ie,Re){let R=ie&&Re||0;const Q=ie||[];let D=($=$||{}).node||Y,w=void 0!==$.clockseq?$.clockseq:z;if(null==D||null==w){const Z=$.random||($.rng||fe.default)();null==D&&(D=Y=[1|Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]]),null==w&&(w=z=16383&(Z[6]<<8|Z[7]))}let y=void 0!==$.msecs?$.msecs:Date.now(),_=void 0!==$.nsecs?$.nsecs:Ce+1;const g=y-P+(_-Ce)/1e4;if(g<0&&void 0===$.clockseq&&(w=w+1&16383),(g<0||y>P)&&void 0===$.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");P=y,Ce=_,z=w,y+=122192928e5;const M=(1e4*(268435455&y)+_)%4294967296;Q[R++]=M>>>24&255,Q[R++]=M>>>16&255,Q[R++]=M>>>8&255,Q[R++]=255&M;const E=y/4294967296*1e4&268435455;Q[R++]=E>>>8&255,Q[R++]=255&E,Q[R++]=E>>>24&15|16,Q[R++]=E>>>16&255,Q[R++]=w>>>8|128,Q[R++]=255&w;for(let Z=0;Z<6;++Z)Q[R+Z]=D[Z];return ie||(0,ye.default)(Q)}},665:(He,X,K)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var fe=H(K(968)),ye=H(K(685));function H(P){return P&&P.__esModule?P:{default:P}}var z=(0,fe.default)("v3",48,ye.default);X.default=z},968:(He,X,K)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(ue,ne,$){function ie(Re,R,Q,D){const w=Q&&D||0;if("string"==typeof Re&&(Re=function(ue){ue=unescape(encodeURIComponent(ue));const ne=[];for(let $=0;$<ue.length;++$)ne.push(ue.charCodeAt($));return ne}(Re)),"string"==typeof R&&(R=function(ue){const ne=[];return ue.replace(/[a-fA-F0-9]{2}/g,function($){ne.push(parseInt($,16))}),ne}(R)),!Array.isArray(Re))throw TypeError("value must be an array of bytes");if(!Array.isArray(R)||16!==R.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const y=$(R.concat(Re));if(y[6]=15&y[6]|ne,y[8]=63&y[8]|128,Q)for(let _=0;_<16;++_)Q[w+_]=y[_];return Q||(0,fe.default)(y)}try{ie.name=ue}catch(Re){}return ie.DNS=z,ie.URL=P,ie},X.URL=X.DNS=void 0;var ue,fe=(ue=K(521))&&ue.__esModule?ue:{default:ue};const z="6ba7b810-9dad-11d1-80b4-00c04fd430c8";X.DNS=z;const P="6ba7b811-9dad-11d1-80b4-00c04fd430c8";X.URL=P},306:(He,X,K)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var fe=H(K(8)),ye=H(K(521));function H(P){return P&&P.__esModule?P:{default:P}}X.default=function(P,Ce,ue){"string"==typeof P&&(Ce="binary"===P?new Uint8Array(16):null,P=null);const ne=(P=P||{}).random||(P.rng||fe.default)();if(ne[6]=15&ne[6]|64,ne[8]=63&ne[8]|128,Ce){const $=ue||0;for(let ie=0;ie<16;++ie)Ce[$+ie]=ne[ie];return Ce}return(0,ye.default)(ne)}},799:(He,X,K)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var fe=H(K(968)),ye=H(K(13));function H(P){return P&&P.__esModule?P:{default:P}}var z=(0,fe.default)("v5",80,ye.default);X.default=z},485:(He,X)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;const K=[];for(let H=0;H<256;++H)K.push((H+256).toString(16).substr(1));X.default=function(H,Y){const z=Y||0;return(K[H[z+0]]+K[H[z+1]]+K[H[z+2]]+K[H[z+3]]+"-"+K[H[z+4]]+K[H[z+5]]+"-"+K[H[z+6]]+K[H[z+7]]+"-"+K[H[z+8]]+K[H[z+9]]+"-"+K[H[z+10]]+K[H[z+11]]+K[H[z+12]]+K[H[z+13]]+K[H[z+14]]+K[H[z+15]]).toLowerCase()}},829:(He,X,K)=>{"use strict";Object.defineProperty(X,"v1",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(X,"v3",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(X,"v4",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(X,"v5",{enumerable:!0,get:function(){return z.default}});var ye=P(K(629)),H=P(K(764)),Y=P(K(465)),z=P(K(402));function P(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}},241:(He,X)=>{"use strict";function ye(R){return 14+(R+64>>>9<<4)+1}function z(R,Q){const D=(65535&R)+(65535&Q);return(R>>16)+(Q>>16)+(D>>16)<<16|65535&D}function Ce(R,Q,D,w,y,_){return z(function(R,Q){return R<<Q|R>>>32-Q}(z(z(Q,R),z(w,_)),y),D)}function ue(R,Q,D,w,y,_,g){return Ce(Q&D|~Q&w,R,Q,y,_,g)}function ne(R,Q,D,w,y,_,g){return Ce(Q&w|D&~w,R,Q,y,_,g)}function $(R,Q,D,w,y,_,g){return Ce(Q^D^w,R,Q,y,_,g)}function ie(R,Q,D,w,y,_,g){return Ce(D^(Q|~w),R,Q,y,_,g)}Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0,X.default=function(R){if("string"==typeof R){const Q=unescape(encodeURIComponent(R));R=new Uint8Array(Q.length);for(let D=0;D<Q.length;++D)R[D]=Q.charCodeAt(D)}return function(R){const Q=[],D=32*R.length,w="0123456789abcdef";for(let y=0;y<D;y+=8){const _=R[y>>5]>>>y%32&255,g=parseInt(w.charAt(_>>>4&15)+w.charAt(15&_),16);Q.push(g)}return Q}(function(R,Q){R[Q>>5]|=128<<Q%32,R[ye(Q)-1]=Q;let D=1732584193,w=-271733879,y=-1732584194,_=271733878;for(let g=0;g<R.length;g+=16){const M=D,E=w,Z=y,Pe=_;D=ue(D,w,y,_,R[g],7,-680876936),_=ue(_,D,w,y,R[g+1],12,-389564586),y=ue(y,_,D,w,R[g+2],17,606105819),w=ue(w,y,_,D,R[g+3],22,-1044525330),D=ue(D,w,y,_,R[g+4],7,-176418897),_=ue(_,D,w,y,R[g+5],12,1200080426),y=ue(y,_,D,w,R[g+6],17,-1473231341),w=ue(w,y,_,D,R[g+7],22,-45705983),D=ue(D,w,y,_,R[g+8],7,1770035416),_=ue(_,D,w,y,R[g+9],12,-1958414417),y=ue(y,_,D,w,R[g+10],17,-42063),w=ue(w,y,_,D,R[g+11],22,-1990404162),D=ue(D,w,y,_,R[g+12],7,1804603682),_=ue(_,D,w,y,R[g+13],12,-40341101),y=ue(y,_,D,w,R[g+14],17,-1502002290),w=ue(w,y,_,D,R[g+15],22,1236535329),D=ne(D,w,y,_,R[g+1],5,-165796510),_=ne(_,D,w,y,R[g+6],9,-1069501632),y=ne(y,_,D,w,R[g+11],14,643717713),w=ne(w,y,_,D,R[g],20,-373897302),D=ne(D,w,y,_,R[g+5],5,-701558691),_=ne(_,D,w,y,R[g+10],9,38016083),y=ne(y,_,D,w,R[g+15],14,-660478335),w=ne(w,y,_,D,R[g+4],20,-405537848),D=ne(D,w,y,_,R[g+9],5,568446438),_=ne(_,D,w,y,R[g+14],9,-1019803690),y=ne(y,_,D,w,R[g+3],14,-187363961),w=ne(w,y,_,D,R[g+8],20,1163531501),D=ne(D,w,y,_,R[g+13],5,-1444681467),_=ne(_,D,w,y,R[g+2],9,-51403784),y=ne(y,_,D,w,R[g+7],14,1735328473),w=ne(w,y,_,D,R[g+12],20,-1926607734),D=$(D,w,y,_,R[g+5],4,-378558),_=$(_,D,w,y,R[g+8],11,-2022574463),y=$(y,_,D,w,R[g+11],16,1839030562),w=$(w,y,_,D,R[g+14],23,-35309556),D=$(D,w,y,_,R[g+1],4,-1530992060),_=$(_,D,w,y,R[g+4],11,1272893353),y=$(y,_,D,w,R[g+7],16,-155497632),w=$(w,y,_,D,R[g+10],23,-1094730640),D=$(D,w,y,_,R[g+13],4,681279174),_=$(_,D,w,y,R[g],11,-358537222),y=$(y,_,D,w,R[g+3],16,-722521979),w=$(w,y,_,D,R[g+6],23,76029189),D=$(D,w,y,_,R[g+9],4,-640364487),_=$(_,D,w,y,R[g+12],11,-421815835),y=$(y,_,D,w,R[g+15],16,530742520),w=$(w,y,_,D,R[g+2],23,-995338651),D=ie(D,w,y,_,R[g],6,-198630844),_=ie(_,D,w,y,R[g+7],10,1126891415),y=ie(y,_,D,w,R[g+14],15,-1416354905),w=ie(w,y,_,D,R[g+5],21,-57434055),D=ie(D,w,y,_,R[g+12],6,1700485571),_=ie(_,D,w,y,R[g+3],10,-1894986606),y=ie(y,_,D,w,R[g+10],15,-1051523),w=ie(w,y,_,D,R[g+1],21,-2054922799),D=ie(D,w,y,_,R[g+8],6,1873313359),_=ie(_,D,w,y,R[g+15],10,-30611744),y=ie(y,_,D,w,R[g+6],15,-1560198380),w=ie(w,y,_,D,R[g+13],21,1309151649),D=ie(D,w,y,_,R[g+4],6,-145523070),_=ie(_,D,w,y,R[g+11],10,-1120210379),y=ie(y,_,D,w,R[g+2],15,718787259),w=ie(w,y,_,D,R[g+9],21,-343485551),D=z(D,M),w=z(w,E),y=z(y,Z),_=z(_,Pe)}return[D,w,y,_]}(function(R){if(0===R.length)return[];const Q=8*R.length,D=new Uint32Array(ye(Q));for(let w=0;w<Q;w+=8)D[w>>5]|=(255&R[w/8])<<w%32;return D}(R),8*R.length))}},372:(He,X)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(){if(!K)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K(fe)};const K="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),fe=new Uint8Array(16)},692:(He,X)=>{"use strict";function K(Y,z,P,Ce){switch(Y){case 0:return z&P^~z&Ce;case 1:case 3:return z^P^Ce;case 2:return z&P^z&Ce^P&Ce}}function fe(Y,z){return Y<<z|Y>>>32-z}Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0,X.default=function(Y){const z=[1518500249,1859775393,2400959708,3395469782],P=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof Y){const $=unescape(encodeURIComponent(Y));Y=[];for(let ie=0;ie<$.length;++ie)Y.push($.charCodeAt(ie))}Y.push(128);const ue=Math.ceil((Y.length/4+2)/16),ne=new Array(ue);for(let $=0;$<ue;++$){const ie=new Uint32Array(16);for(let Re=0;Re<16;++Re)ie[Re]=Y[64*$+4*Re]<<24|Y[64*$+4*Re+1]<<16|Y[64*$+4*Re+2]<<8|Y[64*$+4*Re+3];ne[$]=ie}ne[ue-1][14]=8*(Y.length-1)/Math.pow(2,32),ne[ue-1][14]=Math.floor(ne[ue-1][14]),ne[ue-1][15]=8*(Y.length-1)&4294967295;for(let $=0;$<ue;++$){const ie=new Uint32Array(80);for(let y=0;y<16;++y)ie[y]=ne[$][y];for(let y=16;y<80;++y)ie[y]=fe(ie[y-3]^ie[y-8]^ie[y-14]^ie[y-16],1);let Re=P[0],R=P[1],Q=P[2],D=P[3],w=P[4];for(let y=0;y<80;++y){const _=Math.floor(y/20),g=fe(Re,5)+K(_,R,Q,D)+w+z[_]+ie[y]>>>0;w=D,D=Q,Q=fe(R,30)>>>0,R=Re,Re=g}P[0]=P[0]+Re>>>0,P[1]=P[1]+R>>>0,P[2]=P[2]+Q>>>0,P[3]=P[3]+D>>>0,P[4]=P[4]+w>>>0}return[P[0]>>24&255,P[0]>>16&255,P[0]>>8&255,255&P[0],P[1]>>24&255,P[1]>>16&255,P[1]>>8&255,255&P[1],P[2]>>24&255,P[2]>>16&255,P[2]>>8&255,255&P[2],P[3]>>24&255,P[3]>>16&255,P[3]>>8&255,255&P[3],P[4]>>24&255,P[4]>>16&255,P[4]>>8&255,255&P[4]]}},629:(He,X,K)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var fe=H(K(372)),ye=H(K(485));function H($){return $&&$.__esModule?$:{default:$}}let Y,z,P=0,Ce=0;X.default=function($,ie,Re){let R=ie&&Re||0;const Q=ie||[];let D=($=$||{}).node||Y,w=void 0!==$.clockseq?$.clockseq:z;if(null==D||null==w){const Z=$.random||($.rng||fe.default)();null==D&&(D=Y=[1|Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]]),null==w&&(w=z=16383&(Z[6]<<8|Z[7]))}let y=void 0!==$.msecs?$.msecs:Date.now(),_=void 0!==$.nsecs?$.nsecs:Ce+1;const g=y-P+(_-Ce)/1e4;if(g<0&&void 0===$.clockseq&&(w=w+1&16383),(g<0||y>P)&&void 0===$.nsecs&&(_=0),_>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");P=y,Ce=_,z=w,y+=122192928e5;const M=(1e4*(268435455&y)+_)%4294967296;Q[R++]=M>>>24&255,Q[R++]=M>>>16&255,Q[R++]=M>>>8&255,Q[R++]=255&M;const E=y/4294967296*1e4&268435455;Q[R++]=E>>>8&255,Q[R++]=255&E,Q[R++]=E>>>24&15|16,Q[R++]=E>>>16&255,Q[R++]=w>>>8|128,Q[R++]=255&w;for(let Z=0;Z<6;++Z)Q[R+Z]=D[Z];return ie||(0,ye.default)(Q)}},764:(He,X,K)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var fe=H(K(502)),ye=H(K(241));function H(P){return P&&P.__esModule?P:{default:P}}var z=(0,fe.default)("v3",48,ye.default);X.default=z},502:(He,X,K)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(ue,ne,$){function ie(Re,R,Q,D){const w=Q&&D||0;if("string"==typeof Re&&(Re=function(ue){ue=unescape(encodeURIComponent(ue));const ne=[];for(let $=0;$<ue.length;++$)ne.push(ue.charCodeAt($));return ne}(Re)),"string"==typeof R&&(R=function(ue){const ne=[];return ue.replace(/[a-fA-F0-9]{2}/g,function($){ne.push(parseInt($,16))}),ne}(R)),!Array.isArray(Re))throw TypeError("value must be an array of bytes");if(!Array.isArray(R)||16!==R.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const y=$(R.concat(Re));if(y[6]=15&y[6]|ne,y[8]=63&y[8]|128,Q)for(let _=0;_<16;++_)Q[w+_]=y[_];return Q||(0,fe.default)(y)}try{ie.name=ue}catch(Re){}return ie.DNS=z,ie.URL=P,ie},X.URL=X.DNS=void 0;var ue,fe=(ue=K(485))&&ue.__esModule?ue:{default:ue};const z="6ba7b810-9dad-11d1-80b4-00c04fd430c8";X.DNS=z;const P="6ba7b811-9dad-11d1-80b4-00c04fd430c8";X.URL=P},465:(He,X,K)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var fe=H(K(372)),ye=H(K(485));function H(P){return P&&P.__esModule?P:{default:P}}X.default=function(P,Ce,ue){"string"==typeof P&&(Ce="binary"===P?new Uint8Array(16):null,P=null);const ne=(P=P||{}).random||(P.rng||fe.default)();if(ne[6]=15&ne[6]|64,ne[8]=63&ne[8]|128,Ce){const $=ue||0;for(let ie=0;ie<16;++ie)Ce[$+ie]=ne[ie];return Ce}return(0,ye.default)(ne)}},402:(He,X,K)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0;var fe=H(K(502)),ye=H(K(692));function H(P){return P&&P.__esModule?P:{default:P}}var z=(0,fe.default)("v5",80,ye.default);X.default=z},962:He=>{He.exports=function(X){"use strict";var fe=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function H(w,y){var _=w[0],g=w[1],M=w[2],E=w[3];g=((g+=((M=((M+=((E=((E+=((_=((_+=(g&M|~g&E)+y[0]-680876936|0)<<7|_>>>25)+g|0)&g|~_&M)+y[1]-389564586|0)<<12|E>>>20)+_|0)&_|~E&g)+y[2]+606105819|0)<<17|M>>>15)+E|0)&E|~M&_)+y[3]-1044525330|0)<<22|g>>>10)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g&M|~g&E)+y[4]-176418897|0)<<7|_>>>25)+g|0)&g|~_&M)+y[5]+1200080426|0)<<12|E>>>20)+_|0)&_|~E&g)+y[6]-1473231341|0)<<17|M>>>15)+E|0)&E|~M&_)+y[7]-45705983|0)<<22|g>>>10)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g&M|~g&E)+y[8]+1770035416|0)<<7|_>>>25)+g|0)&g|~_&M)+y[9]-1958414417|0)<<12|E>>>20)+_|0)&_|~E&g)+y[10]-42063|0)<<17|M>>>15)+E|0)&E|~M&_)+y[11]-1990404162|0)<<22|g>>>10)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g&M|~g&E)+y[12]+1804603682|0)<<7|_>>>25)+g|0)&g|~_&M)+y[13]-40341101|0)<<12|E>>>20)+_|0)&_|~E&g)+y[14]-1502002290|0)<<17|M>>>15)+E|0)&E|~M&_)+y[15]+1236535329|0)<<22|g>>>10)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g&E|M&~E)+y[1]-165796510|0)<<5|_>>>27)+g|0)&M|g&~M)+y[6]-1069501632|0)<<9|E>>>23)+_|0)&g|_&~g)+y[11]+643717713|0)<<14|M>>>18)+E|0)&_|E&~_)+y[0]-373897302|0)<<20|g>>>12)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g&E|M&~E)+y[5]-701558691|0)<<5|_>>>27)+g|0)&M|g&~M)+y[10]+38016083|0)<<9|E>>>23)+_|0)&g|_&~g)+y[15]-660478335|0)<<14|M>>>18)+E|0)&_|E&~_)+y[4]-405537848|0)<<20|g>>>12)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g&E|M&~E)+y[9]+568446438|0)<<5|_>>>27)+g|0)&M|g&~M)+y[14]-1019803690|0)<<9|E>>>23)+_|0)&g|_&~g)+y[3]-187363961|0)<<14|M>>>18)+E|0)&_|E&~_)+y[8]+1163531501|0)<<20|g>>>12)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g&E|M&~E)+y[13]-1444681467|0)<<5|_>>>27)+g|0)&M|g&~M)+y[2]-51403784|0)<<9|E>>>23)+_|0)&g|_&~g)+y[7]+1735328473|0)<<14|M>>>18)+E|0)&_|E&~_)+y[12]-1926607734|0)<<20|g>>>12)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g^M^E)+y[5]-378558|0)<<4|_>>>28)+g|0)^g^M)+y[8]-2022574463|0)<<11|E>>>21)+_|0)^_^g)+y[11]+1839030562|0)<<16|M>>>16)+E|0)^E^_)+y[14]-35309556|0)<<23|g>>>9)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g^M^E)+y[1]-1530992060|0)<<4|_>>>28)+g|0)^g^M)+y[4]+1272893353|0)<<11|E>>>21)+_|0)^_^g)+y[7]-155497632|0)<<16|M>>>16)+E|0)^E^_)+y[10]-1094730640|0)<<23|g>>>9)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g^M^E)+y[13]+681279174|0)<<4|_>>>28)+g|0)^g^M)+y[0]-358537222|0)<<11|E>>>21)+_|0)^_^g)+y[3]-722521979|0)<<16|M>>>16)+E|0)^E^_)+y[6]+76029189|0)<<23|g>>>9)+M|0,g=((g+=((M=((M+=((E=((E+=((_=((_+=(g^M^E)+y[9]-640364487|0)<<4|_>>>28)+g|0)^g^M)+y[12]-421815835|0)<<11|E>>>21)+_|0)^_^g)+y[15]+530742520|0)<<16|M>>>16)+E|0)^E^_)+y[2]-995338651|0)<<23|g>>>9)+M|0,g=((g+=((E=((E+=(g^((_=((_+=(M^(g|~E))+y[0]-198630844|0)<<6|_>>>26)+g|0)|~M))+y[7]+1126891415|0)<<10|E>>>22)+_|0)^((M=((M+=(_^(E|~g))+y[14]-1416354905|0)<<15|M>>>17)+E|0)|~_))+y[5]-57434055|0)<<21|g>>>11)+M|0,g=((g+=((E=((E+=(g^((_=((_+=(M^(g|~E))+y[12]+1700485571|0)<<6|_>>>26)+g|0)|~M))+y[3]-1894986606|0)<<10|E>>>22)+_|0)^((M=((M+=(_^(E|~g))+y[10]-1051523|0)<<15|M>>>17)+E|0)|~_))+y[1]-2054922799|0)<<21|g>>>11)+M|0,g=((g+=((E=((E+=(g^((_=((_+=(M^(g|~E))+y[8]+1873313359|0)<<6|_>>>26)+g|0)|~M))+y[15]-30611744|0)<<10|E>>>22)+_|0)^((M=((M+=(_^(E|~g))+y[6]-1560198380|0)<<15|M>>>17)+E|0)|~_))+y[13]+1309151649|0)<<21|g>>>11)+M|0,g=((g+=((E=((E+=(g^((_=((_+=(M^(g|~E))+y[4]-145523070|0)<<6|_>>>26)+g|0)|~M))+y[11]-1120210379|0)<<10|E>>>22)+_|0)^((M=((M+=(_^(E|~g))+y[2]+718787259|0)<<15|M>>>17)+E|0)|~_))+y[9]-343485551|0)<<21|g>>>11)+M|0,w[0]=_+w[0]|0,w[1]=g+w[1]|0,w[2]=M+w[2]|0,w[3]=E+w[3]|0}function Y(w){var _,y=[];for(_=0;_<64;_+=4)y[_>>2]=w.charCodeAt(_)+(w.charCodeAt(_+1)<<8)+(w.charCodeAt(_+2)<<16)+(w.charCodeAt(_+3)<<24);return y}function z(w){var _,y=[];for(_=0;_<64;_+=4)y[_>>2]=w[_]+(w[_+1]<<8)+(w[_+2]<<16)+(w[_+3]<<24);return y}function P(w){var g,M,E,Z,Pe,xt,y=w.length,_=[1732584193,-271733879,-1732584194,271733878];for(g=64;g<=y;g+=64)H(_,Y(w.substring(g-64,g)));for(M=(w=w.substring(g-64)).length,E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=0;g<M;g+=1)E[g>>2]|=w.charCodeAt(g)<<(g%4<<3);if(E[g>>2]|=128<<(g%4<<3),g>55)for(H(_,E),g=0;g<16;g+=1)E[g]=0;return Z=(Z=8*y).toString(16).match(/(.*?)(.{0,8})$/),Pe=parseInt(Z[2],16),xt=parseInt(Z[1],16)||0,E[14]=Pe,E[15]=xt,H(_,E),_}function ue(w){var _,y="";for(_=0;_<4;_+=1)y+=fe[w>>8*_+4&15]+fe[w>>8*_&15];return y}function ne(w){var y;for(y=0;y<w.length;y+=1)w[y]=ue(w[y]);return w.join("")}function $(w){return/[\u0080-\uFFFF]/.test(w)&&(w=unescape(encodeURIComponent(w))),w}function Q(w){var g,y=[],_=w.length;for(g=0;g<_-1;g+=2)y.push(parseInt(w.substr(g,2),16));return String.fromCharCode.apply(String,y)}function D(){this.reset()}return ne(P("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function w(y,_){return(y=0|y||0)<0?Math.max(y+_,0):Math.min(y,_)}ArrayBuffer.prototype.slice=function(y,_){var Z,Pe,xt,et,g=this.byteLength,M=w(y,g),E=g;return undefined!==_&&(E=w(_,g)),M>E?new ArrayBuffer(0):(Z=E-M,Pe=new ArrayBuffer(Z),xt=new Uint8Array(Pe),et=new Uint8Array(this,M,Z),xt.set(et),Pe)}}(),D.prototype.append=function(w){return this.appendBinary($(w)),this},D.prototype.appendBinary=function(w){this._buff+=w,this._length+=w.length;var _,y=this._buff.length;for(_=64;_<=y;_+=64)H(this._hash,Y(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},D.prototype.end=function(w){var g,E,y=this._buff,_=y.length,M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(g=0;g<_;g+=1)M[g>>2]|=y.charCodeAt(g)<<(g%4<<3);return this._finish(M,_),E=ne(this._hash),w&&(E=Q(E)),this.reset(),E},D.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},D.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},D.prototype.setState=function(w){return this._buff=w.buff,this._length=w.length,this._hash=w.hash,this},D.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},D.prototype._finish=function(w,y){var g,M,E,_=y;if(w[_>>2]|=128<<(_%4<<3),_>55)for(H(this._hash,w),_=0;_<16;_+=1)w[_]=0;g=(g=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(g[2],16),E=parseInt(g[1],16)||0,w[14]=M,w[15]=E,H(this._hash,w)},D.hash=function(w,y){return D.hashBinary($(w),y)},D.hashBinary=function(w,y){var g=ne(P(w));return y?Q(g):g},(D.ArrayBuffer=function(){this.reset()}).prototype.append=function(w){var g,y=function(w,y,_){var g=new Uint8Array(w.byteLength+y.byteLength);return g.set(new Uint8Array(w)),g.set(new Uint8Array(y),w.byteLength),_?g:g.buffer}(this._buff.buffer,w,!0),_=y.length;for(this._length+=w.byteLength,g=64;g<=_;g+=64)H(this._hash,z(y.subarray(g-64,g)));return this._buff=g-64<_?new Uint8Array(y.buffer.slice(g-64)):new Uint8Array(0),this},D.ArrayBuffer.prototype.end=function(w){var M,E,y=this._buff,_=y.length,g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(M=0;M<_;M+=1)g[M>>2]|=y[M]<<(M%4<<3);return this._finish(g,_),E=ne(this._hash),w&&(E=Q(E)),this.reset(),E},D.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},D.ArrayBuffer.prototype.getState=function(){var w=D.prototype.getState.call(this);return w.buff=function(w){return String.fromCharCode.apply(null,new Uint8Array(w))}(w.buff),w},D.ArrayBuffer.prototype.setState=function(w){return w.buff=function(w,y){var E,_=w.length,g=new ArrayBuffer(_),M=new Uint8Array(g);for(E=0;E<_;E+=1)M[E]=w.charCodeAt(E);return y?M:g}(w.buff,!0),D.prototype.setState.call(this,w)},D.ArrayBuffer.prototype.destroy=D.prototype.destroy,D.ArrayBuffer.prototype._finish=D.prototype._finish,D.ArrayBuffer.hash=function(w,y){var g=ne(function(w){var g,M,E,Z,Pe,xt,y=w.length,_=[1732584193,-271733879,-1732584194,271733878];for(g=64;g<=y;g+=64)H(_,z(w.subarray(g-64,g)));for(M=(w=g-64<y?w.subarray(g-64):new Uint8Array(0)).length,E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=0;g<M;g+=1)E[g>>2]|=w[g]<<(g%4<<3);if(E[g>>2]|=128<<(g%4<<3),g>55)for(H(_,E),g=0;g<16;g+=1)E[g]=0;return Z=(Z=8*y).toString(16).match(/(.*?)(.{0,8})$/),Pe=parseInt(Z[2],16),xt=parseInt(Z[1],16)||0,E[14]=Pe,E[15]=xt,H(_,E),_}(new Uint8Array(w)));return y?Q(g):g},D}()},594:(He,X)=>{"use strict";function K(fe,ye,H){var Y=H[H.length-1];fe===Y.element&&(H.pop(),Y=H[H.length-1]);var z=Y.element,P=Y.index;Array.isArray(z)?z.push(fe):P===ye.length-2?z[ye.pop()]=fe:ye.push(fe)}X.stringify=function(ye){var H=[];H.push({obj:ye});for(var z,P,ue,ne,ie,Re,R,Q,D,Y="";z=H.pop();)if(P=z.obj,Y+=z.prefix||"",ue=z.val||"")Y+=ue;else if("object"!=typeof P)Y+=void 0===P?null:JSON.stringify(P);else if(null===P)Y+="null";else if(Array.isArray(P)){for(H.push({val:"]"}),ne=P.length-1;ne>=0;ne--)H.push({obj:P[ne],prefix:0===ne?"":","});H.push({val:"["})}else{for(Re in ie=[],P)P.hasOwnProperty(Re)&&ie.push(Re);for(H.push({val:"}"}),ne=ie.length-1;ne>=0;ne--)Q=P[R=ie[ne]],D=ne>0?",":"",D+=JSON.stringify(R)+":",H.push({obj:Q,prefix:D});H.push({val:"{"})}return Y},X.parse=function(fe){for(var z,P,Ce,ue,ne,$,ie,Re,R,ye=[],H=[],Y=0;;)if("}"!==(z=fe[Y++])&&"]"!==z&&void 0!==z)switch(z){case" ":case"\t":case"\n":case":":case",":break;case"n":Y+=3,K(null,ye,H);break;case"t":Y+=3,K(!0,ye,H);break;case"f":Y+=4,K(!1,ye,H);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(P="",Y--;;){if(Ce=fe[Y++],!/[\d\.\-e\+]/.test(Ce)){Y--;break}P+=Ce}K(parseFloat(P),ye,H);break;case'"':for(ue="",ne=void 0,$=0;'"'!==(ie=fe[Y++])||"\\"===ne&&$%2==1;)ue+=ie,"\\"===(ne=ie)?$++:$=0;K(JSON.parse('"'+ue+'"'),ye,H);break;case"[":ye.push((Re={element:[],index:ye.length}).element),H.push(Re);break;case"{":ye.push((R={element:{},index:ye.length}).element),H.push(R);break;default:throw new Error("unexpectedly reached end of input: "+z)}else{if(1===ye.length)return ye.pop();K(ye.pop(),ye,H)}}},95:(He,X,K)=>{"use strict";function fe(n){return"function"==typeof n}let ye=!1;const H={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else ye&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ye=n},get useDeprecatedSynchronousErrorHandling(){return ye}};function Y(n){setTimeout(()=>{throw n},0)}const z={closed:!0,next(n){},error(n){if(H.useDeprecatedSynchronousErrorHandling)throw n;Y(n)},complete(){}},P=Array.isArray||(n=>n&&"number"==typeof n.length);function Ce(n){return null!==n&&"object"==typeof n}const ne=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class ${constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof $)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(fe(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){e=o instanceof ne?ie(o.errors):[o]}}if(P(s)){let o=-1,a=s.length;for(;++o<a;){const l=s[o];if(Ce(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof ne?e=e.concat(ie(c.errors)):e.push(c)}}}if(e)throw new ne(e)}add(e){let t=e;if(!e)return $.EMPTY;switch(typeof e){case"function":t=new $(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof $)){const s=t;t=new $,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof $){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var n;function ie(n){return n.reduce((e,t)=>e.concat(t instanceof ne?t.errors:t),[])}$.EMPTY=((n=new $).closed=!0,n);const Re="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Q extends ${constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=z;break;case 1:if(!e){this.destination=z;break}if("object"==typeof e){e instanceof Q?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new D(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new D(this,e,t,i)}}[Re](){return this}static create(e,t,i){const r=new Q(e,t,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class D extends Q{constructor(e,t,i,r){super(),this._parentSubscriber=e;let s,o=this;fe(t)?s=t:t&&(s=t.next,i=t.error,r=t.complete,t!==z&&(o=Object.create(t),fe(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;H.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=H;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):Y(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;Y(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);H.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),H.useDeprecatedSynchronousErrorHandling)throw i;Y(i)}}__tryOrSetError(e,t,i){if(!H.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return H.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Y(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const _="function"==typeof Symbol&&Symbol.observable||"@@observable";function g(n){return n}let Z=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const{operator:s}=this,o=function(n,e,t){if(n){if(n instanceof Q)return n;if(n[Re])return n[Re]()}return n||e||t?new Q(n,e,t):new Q(z)}(t,i,r);if(o.add(s?s.call(o,this.source):this.source||H.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),H.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){H.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),function(n){for(;n;){const{closed:e,destination:t,isStopped:i}=n;if(e||i)return!1;n=t&&t instanceof Q?t:null}return!0}(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=Pe(i))((r,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,r)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[_](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?g:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Pe(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function Pe(n){if(n||(n=H.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const et=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Ii extends ${constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class Co extends Q{constructor(e){super(e),this.destination=e}}let Ie=(()=>{class n extends Z{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Re](){return new Co(this)}lift(t){const i=new qh(this,this);return i.operator=t,i}next(t){if(this.closed)throw new et;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(t)}}error(t){if(this.closed)throw new et;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new et;this.isStopped=!0;const{observers:t}=this,i=t.length,r=t.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new et;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new et;return this.hasError?(t.error(this.thrownError),$.EMPTY):this.isStopped?(t.complete(),$.EMPTY):(this.observers.push(t),new Ii(this,t))}asObservable(){const t=new Z;return t.source=this,t}}return n.create=(e,t)=>new qh(e,t),n})();class qh extends Ie{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):$.EMPTY}}function ml(n){return n&&"function"==typeof n.schedule}function We(n,e){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new r5(n,e))}}class r5{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s5(e,this.project,this.thisArg))}}class s5 extends Q{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const dS=n=>e=>{for(let t=0,i=n.length;t<i&&!e.closed;t++)e.next(n[t]);e.complete()},Gh="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",hS=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function fS(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const K_=n=>{if(n&&"function"==typeof n[_])return(n=>e=>{const t=n[_]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(hS(n))return dS(n);if(fS(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Y),e))(n);if(n&&"function"==typeof n[Gh])return(n=>e=>{const t=n[Gh]();for(;;){let i;try{i=t.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${Ce(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function J_(n,e){return new Z(t=>{const i=new $;let r=0;return i.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||i.add(this.schedule())):t.complete()})),i})}function Zn(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[_]}(n))return function(n,e){return new Z(t=>{const i=new $;return i.add(e.schedule(()=>{const r=n[_]();i.add(r.subscribe({next(s){i.add(e.schedule(()=>t.next(s)))},error(s){i.add(e.schedule(()=>t.error(s)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(n,e);if(fS(n))return function(n,e){return new Z(t=>{const i=new $;return i.add(e.schedule(()=>n.then(r=>{i.add(e.schedule(()=>{t.next(r),i.add(e.schedule(()=>t.complete()))}))},r=>{i.add(e.schedule(()=>t.error(r)))}))),i})}(n,e);if(hS(n))return J_(n,e);if(function(n){return n&&"function"==typeof n[Gh]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new Z(t=>{const i=new $;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=n[Gh](),i.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=r.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),i})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof Z?n:new Z(K_(n))}class ou extends Q{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class au extends Q{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function lu(n,e){if(e.closed)return;if(n instanceof Z)return n.subscribe(e);let t;try{t=K_(n)(e)}catch(i){e.error(i)}return t}function Yn(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Yn((r,s)=>Zn(n(r,s)).pipe(We((o,a)=>e(r,o,s,a))),t)):("number"==typeof e&&(t=e),i=>i.lift(new g5(n,t)))}class g5{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new _5(e,this.project,this.concurrent))}}class _5 extends au{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new ou(this),i=this.destination;i.add(t);const r=lu(e,t);r!==t&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function cu(n=Number.POSITIVE_INFINITY){return Yn(g,n)}function ev(n,e){return e?J_(n,e):new Z(dS(n))}function ts(...n){let e=Number.POSITIVE_INFINITY,t=null,i=n[n.length-1];return ml(i)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof i&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof Z?n[0]:cu(e)(ev(n,t))}function tv(){return function(e){return e.lift(new v5(e))}}class v5{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const r=new y5(e,i),s=t.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class y5 extends Q{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,r=e._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class pS extends Z{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new $,e.add(this.source.subscribe(new O5(this.getSubject(),this))),e.closed&&(this._connection=null,e=$.EMPTY)),e}refCount(){return tv()(this)}}const b5=(()=>{const n=pS.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class O5 extends Co{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function nv(n,e){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof e)return i.lift(new C5(r,e));const s=Object.create(i,b5);return s.source=i,s.subjectFactory=r,s}}class C5{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:i}=this,r=this.subjectFactory(),s=i(r).subscribe(e);return s.add(t.subscribe(r)),s}}function x5(){return new Ie}function mS(){return n=>tv()(nv(x5)(n))}function jt(n){for(let e in n)if(n[e]===jt)return e;throw Error("Could not find renamed property on target object.")}function iv(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Mt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Mt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function rv(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const S5=jt({__forward_ref__:jt});function It(n){return n.__forward_ref__=It,n.toString=function(){return Mt(this())},n}function ct(n){return gS(n)?n():n}function gS(n){return"function"==typeof n&&n.hasOwnProperty(S5)&&n.__forward_ref__===It}class Hi extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function rt(n){return"string"==typeof n?n:null==n?"":String(n)}function vi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():rt(n)}function Xh(n,e){const t=e?` in ${e}`:"";throw new Hi("201",`No provider for ${vi(n)} found${t}`)}function zi(n,e){null==n&&function(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function xe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function ov(n){return _S(n,Zh)||_S(n,yS)}function _S(n,e){return n.hasOwnProperty(e)?n[e]:null}function vS(n){return n&&(n.hasOwnProperty(av)||n.hasOwnProperty(R5))?n[av]:null}const Zh=jt({\u0275prov:jt}),av=jt({\u0275inj:jt}),yS=jt({ngInjectableDef:jt}),R5=jt({ngInjectorDef:jt});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let lv;function xo(n){const e=lv;return lv=n,e}function bS(n,e,t){const i=ov(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&st.Optional?null:void 0!==e?e:void Xh(Mt(n),"Injector")}function So(n){return{toString:n}.toString()}var lr=(()=>((lr=lr||{})[lr.OnPush=0]="OnPush",lr[lr.Default=1]="Default",lr))(),Ir=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Ir||(Ir={})),Ir))();const P5="undefined"!=typeof globalThis&&globalThis,F5="undefined"!=typeof window&&window,N5="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt=P5||"undefined"!=typeof global&&global||F5||N5,gl={},Ut=[],Yh=jt({\u0275cmp:jt}),cv=jt({\u0275dir:jt}),uv=jt({\u0275pipe:jt}),OS=jt({\u0275mod:jt}),Us=jt({\u0275fac:jt}),uu=jt({__NG_ELEMENT_ID__:jt});let L5=0;function ft(n){return So(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===lr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ut,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ir.Emulated,id:"c",styles:n.styles||Ut,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=L5++,i.inputs=SS(n.inputs,t),i.outputs=SS(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(wS):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(CS):null,i})}function wS(n){return ci(n)||function(n){return n[cv]||null}(n)}function CS(n){return function(n){return n[uv]||null}(n)}const xS={};function Ze(n){return So(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ut,declarations:n.declarations||Ut,imports:n.imports||Ut,exports:n.exports||Ut,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(xS[n.id]=n.type),e})}function SS(n,e){if(null==n)return gl;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const de=ft;function Pi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function ci(n){return n[Yh]||null}function cr(n,e){const t=n[OS]||null;if(!t&&!0===e)throw new Error(`Type ${Mt(n)} does not have '\u0275mod' property.`);return t}function ns(n){return Array.isArray(n)&&"object"==typeof n[1]}function Fr(n){return Array.isArray(n)&&!0===n[1]}function fv(n){return 0!=(8&n.flags)}function tf(n){return 2==(2&n.flags)}function nf(n){return 1==(1&n.flags)}function Nr(n){return null!==n.template}function U5(n){return 0!=(512&n[2])}function fa(n,e){return n.hasOwnProperty(Us)?n[Us]:null}class z5{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function wn(){return TS}function TS(n){return n.type.prototype.ngOnChanges&&(n.setInput=G5),q5}function q5(){const n=MS(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===gl)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function G5(n,e,t,i){const r=MS(n)||function(n,e){return n[ES]=e}(n,{previous:gl,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],l=o[a];s[a]=new z5(l&&l.currentValue,e,o===gl),n[i]=e}wn.ngInherit=!0;const ES="__ngSimpleChanges__";function MS(n){return n[ES]||null}let gv;function fn(n){return!!n.listen}const RS={createRenderer:(n,e)=>void 0!==gv?gv:"undefined"!=typeof document?document:void 0};function Cn(n){for(;Array.isArray(n);)n=n[0];return n}function rf(n,e){return Cn(e[n])}function hr(n,e){return Cn(e[n.index])}function vv(n,e){return n.data[e]}function Ol(n,e){return n[e]}function Gi(n,e){const t=e[n];return ns(t)?t:t[0]}function IS(n){return 4==(4&n[2])}function yv(n){return 128==(128&n[2])}function To(n,e){return null==e?null:n[e]}function PS(n){n[18]=0}function bv(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const tt={lFrame:jS(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function FS(){return tt.bindingsEnabled}function ce(){return tt.lFrame.lView}function kt(){return tt.lFrame.tView}function fr(n){return tt.lFrame.contextLView=n,n[8]}function Pn(){let n=NS();for(;null!==n&&64===n.type;)n=n.parent;return n}function NS(){return tt.lFrame.currentTNode}function is(n,e){const t=tt.lFrame;t.currentTNode=n,t.isParent=e}function Ov(){return tt.lFrame.isParent}function wv(){tt.lFrame.isParent=!1}function sf(){return tt.isInCheckNoChangesMode}function af(n){tt.isInCheckNoChangesMode=n}function yi(){const n=tt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function wl(){return tt.lFrame.bindingIndex++}function cj(n,e){const t=tt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Cv(e)}function Cv(n){tt.lFrame.currentDirectiveIndex=n}function xv(n){const e=tt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function BS(){return tt.lFrame.currentQueryIndex}function Sv(n){tt.lFrame.currentQueryIndex=n}function dj(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function QS(n,e,t){if(t&st.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&st.Host||(r=dj(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=tt.lFrame=VS();return i.currentTNode=e,i.lView=n,!0}function lf(n){const e=VS(),t=n[1];tt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function VS(){const n=tt.lFrame,e=null===n?null:n.child;return null===e?jS(n):e}function jS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function US(){const n=tt.lFrame;return tt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const HS=US;function cf(){const n=US();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function bi(){return tt.lFrame.selectedIndex}function Eo(n){tt.lFrame.selectedIndex=n}function pn(){const n=tt.lFrame;return vv(n.tView,n.selectedIndex)}function uf(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function df(n,e,t){qS(n,e,3,t)}function hf(n,e,t,i){(3&n[2])===t&&qS(n,e,t,i)}function Dv(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function qS(n,e,t,i){const s=null!=i?i:-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(vj(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function vj(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class mu{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function ff(n,e,t){const i=fn(n);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],a=t[r++],l=t[r++];i?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++r];Ev(o)?i&&n.setProperty(e,o,a):i?n.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function GS(n){return 3===n||4===n||6===n}function Ev(n){return 64===n.charCodeAt(0)}function pf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||XS(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function XS(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function ZS(n){return-1!==n}function Cl(n){return 32767&n}function xl(n,e){let t=function(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let Mv=!0;function mf(n){const e=Mv;return Mv=n,e}let xj=0;function _u(n,e){const t=Av(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,kv(i.data,n),kv(e,null),kv(i.blueprint,null));const r=gf(n,e),s=n.injectorIndex;if(ZS(r)){const o=Cl(r),a=xl(r,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function kv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Av(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function gf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function _f(n,e,t){!function(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(uu)&&(i=t[uu]),null==i&&(i=t[uu]=xj++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function JS(n,e,t){if(t&st.Optional)return n;Xh(e,"NodeInjector")}function eD(n,e,t,i){if(t&st.Optional&&void 0===i&&(i=null),0==(t&(st.Self|st.Host))){const r=n[9],s=xo(void 0);try{return r?r.get(e,i,t&st.Optional):bS(e,i,t&st.Optional)}finally{xo(s)}}return JS(i,e,t)}function tD(n,e,t,i=st.Default,r){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(uu)?n[uu]:void 0;return"number"==typeof e?e>=0?255&e:Tj:e}(t);if("function"==typeof s){if(!QS(e,n,i))return i&st.Host?JS(r,t,i):eD(e,t,i,r);try{const o=s(i);if(null!=o||i&st.Optional)return o;Xh(t)}finally{HS()}}else if("number"==typeof s){let o=null,a=Av(n,e),l=-1,c=i&st.Host?e[16][6]:null;for((-1===a||i&st.SkipSelf)&&(l=-1===a?gf(n,e):e[a+8],-1!==l&&rD(i,!1)?(o=e[1],a=Cl(l),e=xl(l,e)):a=-1);-1!==a;){const u=e[1];if(iD(s,a,u.data)){const d=Ej(a,e,t,o,i,c);if(d!==nD)return d}l=e[a+8],-1!==l&&rD(i,e[1].data[a+8]===c)&&iD(s,a,e)?(o=u,a=Cl(l),e=xl(l,e)):a=-1}}}return eD(e,t,i,r)}const nD={};function Tj(){return new Sl(Pn(),ce())}function Ej(n,e,t,i,r,s){const o=e[1],a=o.data[n+8],u=vf(a,o,t,null==i?tf(a)&&Mv:i!=o&&0!=(3&a.type),r&st.Host&&s===a);return null!==u?vu(e,o,u,a):nD}function vf(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&Nr(f)&&f.type===t)return l}return null}function vu(n,e,t,i){let r=n[t];const s=e.data;if(function(n){return n instanceof mu}(r)){const o=r;o.resolving&&function(n,e){throw new Hi("200",`Circular dependency in DI detected for ${n}`)}(vi(s[t]));const a=mf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?xo(o.injectImpl):null;QS(n,i,st.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=TS(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&xo(l),mf(a),o.resolving=!1,HS()}}return r}function iD(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function rD(n,e){return!(n&st.Self||n&st.Host&&e)}class Sl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return tD(this._tNode,this._lView,e,i,t)}}function Dt(n){return So(()=>{const e=n.prototype.constructor,t=e[Us]||Rv(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Us]||Rv(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Rv(n){return gS(n)?()=>{const e=Rv(ct(n));return e&&e()}:fa(n)}function zs(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(GS(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(Pn(),n)}const Tl="__parameters__";function Ml(n,e,t){return So(()=>{const i=function(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Tl)?l[Tl]:Object.defineProperty(l,Tl,{value:[]})[Tl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class pe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=xe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Aj=new pe("AnalyzeForEntryComponents");function pr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),pr(i,e)):e!==n&&e.push(i)}return e}function rs(n,e){n.forEach(t=>Array.isArray(t)?rs(t,e):e(t))}function sD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function yf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function wu(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Xi(n,e,t){let i=kl(n,e);return i>=0?n[1|i]=t:(i=~i,function(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Fv(n,e){const t=kl(n,e);if(t>=0)return n[1|t]}function kl(n,e){return function(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Cu={},Lv="__NG_DI_FLAG__",Of="ngTempTokenPath",Vj=/\n/gm,uD="__source",Uj=jt({provide:String,useValue:jt});let xu;function dD(n){const e=xu;return xu=n,e}function Hj(n,e=st.Default){if(void 0===xu)throw new Error("inject() must be called from an injection context");return null===xu?bS(n,void 0,e):xu.get(n,e&st.Optional?null:void 0,e)}function U(n,e=st.Default){return(lv||Hj)(ct(n),e)}const $v=U;function Bv(n){const e=[];for(let t=0;t<n.length;t++){const i=ct(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,s=st.Default;for(let o=0;o<i.length;o++){const a=i[o],l=Wj(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(U(r,s))}else e.push(U(i))}return e}function Su(n,e){return n[Lv]=e,n.prototype[Lv]=e,n}function Wj(n){return n[Lv]}const Du=Su(Ml("Inject",n=>({token:n})),-1),Zi=Su(Ml("Optional"),8),pa=Su(Ml("SkipSelf"),4);let Cf;function Rl(n){var e;return(null==(e=function(){if(void 0===Cf&&(Cf=null,Bt.trustedTypes))try{Cf=Bt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Cf}())?void 0:e.createHTML(n))||n}class ma{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class s3 extends ma{getTypeName(){return"HTML"}}class o3 extends ma{getTypeName(){return"Style"}}class a3 extends ma{getTypeName(){return"Script"}}class l3 extends ma{getTypeName(){return"URL"}}class c3 extends ma{getTypeName(){return"ResourceURL"}}function Yi(n){return n instanceof ma?n.changingThisBreaksApplicationSecurity:n}function ss(n,e){const t=bD(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function bD(n){return n instanceof ma&&n.getTypeName()||null}class m3{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Rl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class g3{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Rl(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=Rl(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const v3=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,y3=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Eu(n){return(n=String(n)).match(v3)||n.match(y3)?n:"unsafe:"+n}function wD(n){return(n=String(n)).split(",").map(e=>Eu(e.trim())).join(", ")}function os(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Mu(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const CD=os("area,br,col,hr,img,wbr"),xD=os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),SD=os("rp,rt"),Uv=Mu(CD,Mu(xD,os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mu(SD,os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mu(SD,xD)),Hv=os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wv=os("srcset"),DD=Mu(Hv,Wv,os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),b3=os("script,style,template");class O3{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Uv.hasOwnProperty(t))return this.sanitizedSomething=!0,!b3.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!DD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Hv[a]&&(l=Eu(l)),Wv[a]&&(l=wD(l)),this.buf.push(" ",o,'="',TD(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Uv.hasOwnProperty(t)&&!CD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(TD(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const w3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C3=/([^\#-~ |!])/g;function TD(n){return n.replace(/&/g,"&amp;").replace(w3,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(C3,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sf;function ED(n,e){let t=null;try{Sf=Sf||function(n){const e=new g3(n);return function(){try{return!!(new window.DOMParser).parseFromString(Rl(""),"text/html")}catch(n){return!1}}()?new m3(e):e}(n);let i=e?String(e):"";t=Sf.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Sf.getInertBodyElement(i)}while(i!==s);return Rl((new O3).sanitizeChildren(zv(t)||t))}finally{if(t){const i=zv(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function zv(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Nt=(()=>((Nt=Nt||{})[Nt.NONE=0]="NONE",Nt[Nt.HTML=1]="HTML",Nt[Nt.STYLE=2]="STYLE",Nt[Nt.SCRIPT=3]="SCRIPT",Nt[Nt.URL=4]="URL",Nt[Nt.RESOURCE_URL=5]="RESOURCE_URL",Nt))();function qv(n){const e=function(){const n=ce();return n&&n[12]}();return e?e.sanitize(Nt.URL,n)||"":ss(n,"URL")?Yi(n):Eu(rt(n))}const AD="__ngContext__";function di(n,e){n[AD]=e}function Xv(n){const e=function(n){return n[AD]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Yv(n){return n.ngOriginalError}function j3(n,...e){n.error(...e)}class qs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=function(n){return n&&n.ngErrorLogger||j3}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Yv(e);for(;t&&Yv(t);)t=Yv(t);return t||null}}const ND=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt))();function as(n){return n instanceof Function?n():n}var Ki=(()=>((Ki=Ki||{})[Ki.Important=1]="Important",Ki[Ki.DashCase=2]="DashCase",Ki))();function Jv(n,e){return undefined(n,e)}function Ru(n){const e=n[3];return Fr(e)?e[3]:e}function ey(n){return VD(n[13])}function ty(n){return VD(n[4])}function VD(n){for(;null!==n&&!Fr(n);)n=n[4];return n}function Pl(n,e,t,i,r){if(null!=i){let s,o=!1;Fr(i)?s=i:ns(i)&&(o=!0,i=i[0]);const a=Cn(i);0===n&&null!==t?null==r?qD(e,t,a):ga(e,t,a,r||null,!0):1===n&&null!==t?ga(e,t,a,r||null,!0):2===n?function(n,e,t){const i=Df(n,e);i&&function(n,e,t,i){fn(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,i,r){const s=t[7];s!==Cn(t)&&Pl(e,n,i,s,r);for(let a=10;a<t.length;a++){const l=t[a];Iu(l[1],l,n,e,i,s)}}(e,n,s,t,r)}}function iy(n,e,t){return fn(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function UD(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,bv(r,-1)),t.splice(i,1)}function ry(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&UD(r,i),e>0&&(n[t-1][4]=i[4]);const s=yf(n,10+e);!function(n,e){Iu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function HD(n,e){if(!(256&e[2])){const t=e[11];fn(t)&&t.destroyNode&&Iu(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return sy(n[1],n);for(;e;){let t=null;if(ns(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)ns(e)&&sy(e[1],e),e=e[3];null===e&&(e=n),ns(e)&&sy(e[1],e),t=e&&e[4]}e=t}}(e)}}function sy(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof mu)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Cn(e[o]),l=i[r=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(n,e),1===e[1].type&&fn(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Fr(e[3])){t!==e[3]&&UD(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function WD(n,e,t){return function(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Ir.None||r===Ir.Emulated)return null}return hr(i,t)}(n,e.parent,t)}function ga(n,e,t,i,r){fn(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function qD(n,e,t){fn(n)?n.appendChild(e,t):e.appendChild(t)}function GD(n,e,t,i,r){null!==i?ga(n,e,t,i,r):qD(n,e,t)}function Df(n,e){return fn(n)?n.parentNode(e):e.parentNode}function XD(n,e,t){return YD(n,e,t)}let YD=function(n,e,t){return 40&n.type?hr(n,t):null};function Tf(n,e,t,i){const r=WD(n,i,e),s=e[11],a=XD(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)GD(s,r,t[l],a,!1);else GD(s,r,t,a,!1)}function Ef(n,e){if(null!==e){const t=e.type;if(3&t)return hr(e,n);if(4&t)return ay(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Ef(n,i);{const r=n[e.index];return Fr(r)?ay(-1,r):Cn(r)}}if(32&t)return Jv(e,n)()||Cn(n[e.index]);{const i=JD(n,e);return null!==i?Array.isArray(i)?i[0]:Ef(Ru(n[16]),i):Ef(n,e.next)}}return null}function JD(n,e){return null!==e?n[16][6].projection[e.projection]:null}function ay(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Ef(i,r)}return e[7]}function ly(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&di(Cn(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)ly(n,e,t.child,i,r,s,!1),Pl(e,n,r,a,s);else if(32&l){const c=Jv(t,i);let u;for(;u=c();)Pl(e,n,r,u,s);Pl(e,n,r,a,s)}else 16&l?tT(n,e,i,t,r,s):Pl(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Iu(n,e,t,i,r,s){ly(t,i,n.firstChild,e,r,s,!1)}function tT(n,e,t,i,r,s){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Pl(e,n,r,l[c],s);else ly(n,e,l,o[3],r,s,!0)}function nT(n,e,t){fn(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function cy(n,e,t){fn(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function iT(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const rT="ng-template";function gU(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==iT(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function sT(n){return 4===n.type&&n.value!==rT}function _U(n,e,t){return e===(4!==n.type||t?n.value:rT)}function vU(n,e,t){let i=4;const r=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(GS(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!_U(n,l,t)||""===l&&1===e.length){if(Lr(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!gU(n.attrs,c,t)){if(Lr(i))return!1;o=!0}continue}const d=yU(8&i?"class":l,r,sT(n),t);if(-1===d){if(Lr(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==iT(f,c,0)||2&i&&c!==h){if(Lr(i))return!1;o=!0}}}}else{if(!o&&!Lr(i)&&!Lr(l))return!1;if(o&&Lr(l))continue;o=!1,i=l|1&i}}return Lr(i)||o}function Lr(n){return 0==(1&n)}function yU(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function oT(n,e,t=!1){for(let i=0;i<e.length;i++)if(vU(n,e[i],t))return!0;return!1}function CU(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function aT(n,e){return n?":not("+e.trim()+")":e}function xU(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Lr(o)&&(e+=aT(s,r),r=""),i=o,s=s||!Lr(i);t++}return""!==r&&(e+=aT(s,r)),e}const ot={};function $e(n){lT(kt(),ce(),bi()+n,sf())}function lT(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&df(e,s,t)}else{const s=n.preOrderHooks;null!==s&&hf(e,s,0,t)}Eo(t)}function Mf(n,e){return n<<17|e<<2}function $r(n){return n>>17&32767}function uy(n){return 2|n}function Gs(n){return(131068&n)>>2}function dy(n,e){return-131069&n|e<<2}function hy(n){return 1|n}function yT(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const o=n.data[s];Sv(r),o.contentQueries(2,e[s],s)}}}function Pu(n,e,t,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,PS(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function Fl(n,e,t,i,r){let s=n.data[e];if(null===s)s=function(n,e,t,i,r){const s=NS(),o=Ov(),l=n.data[e]=function(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,i,r),tt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function(){const n=tt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return is(s,!0),s}function Nl(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Fu(n,e,t){lf(e);try{const i=n.viewQuery;null!==i&&ky(1,i,t);const r=n.template;null!==r&&bT(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&yT(n,e),n.staticViewQueries&&ky(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)oH(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,cf()}}function Ll(n,e,t,i){const r=e[2];if(256==(256&r))return;lf(e);const s=sf();try{PS(e),function(n){tt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&bT(n,e,t,2,i);const o=3==(3&r);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&df(e,c,null)}else{const c=n.preOrderHooks;null!==c&&hf(e,c,0,null),Dv(e,0)}if(function(n){for(let e=ey(n);null!==e;e=ty(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(1024&r[2])&&bv(s,1),r[2]|=1024}}}(e),function(n){for(let e=ey(n);null!==e;e=ty(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];yv(i)&&Ll(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&yT(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&df(e,c)}else{const c=n.contentHooks;null!==c&&hf(e,c,1),Dv(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Eo(~r);else{const s=r,o=t[++i],a=t[++i];cj(o,s),a(2,e[s])}}}finally{Eo(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)sH(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&ky(2,l,i),!s)if(o){const c=n.viewCheckHooks;null!==c&&df(e,c)}else{const c=n.viewHooks;null!==c&&hf(e,c,2),Dv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,bv(e[3],-1))}finally{cf()}}function QU(n,e,t,i){const r=e[10],s=!sf(),o=IS(e);try{s&&!o&&r.begin&&r.begin(),o&&Fu(n,e,i),Ll(n,e,t,i)}finally{s&&!o&&r.end&&r.end()}}function bT(n,e,t,i,r){const s=bi(),o=2&i;try{Eo(-1),o&&e.length>20&&lT(n,e,20,sf()),t(i,r)}finally{Eo(s)}}function OT(n,e,t){if(fv(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function wy(n,e,t){!FS()||(function(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||_u(t,e),di(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=Nr(l);c&&eH(e,t,l);const u=vu(e,n,a,t);di(u,e),null!==o&&tH(0,a-r,u,l,0,o),c&&(Gi(t.index,e)[8]=u)}}(n,e,t,hr(t,e)),128==(128&t.flags)&&function(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,a=tt.lFrame.currentDirectiveIndex;try{Eo(o);for(let l=i;l<r;l++){const c=n.data[l],u=e[l];Cv(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&MT(c,u)}}finally{Eo(-1),Cv(a)}}(n,e,t))}function Cy(n,e,t=hr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function wT(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Rf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Rf(n,e,t,i,r,s,o,a,l,c){const u=20+i,d=u+r,h=function(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:ot);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function ST(n,e,t,i){const r=FT(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&NT(n).push(i,r.length-1))}function DT(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function Ji(n,e,t,i,r,s,o,a){const l=hr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(BT(n,t,u,i,r),tf(e)&&function(n,e){const t=Gi(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,fn(s)?s.setProperty(l,i,r):Ev(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function xy(n,e,t,i){let r=!1;if(FS()){const s=function(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];oT(t,o.selectors,!1)&&(r||(r=[]),_f(_u(t,e),n,o.type),Nr(o)?(kT(n,t),r.unshift(o)):r.push(o))}return r}(n,e,t),o=null===i?null:{"":-1};if(null!==s){r=!0,AT(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Nl(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=pf(t.mergedAttrs,d.hostAttrs),RT(n,t,e,c,d),JU(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const i=e.directiveEnd,r=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===s||sT(e)?null:nH(d,s);o.push(h),a=DT(d,c,a),l=DT(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new Hi("301",`Export of name '${e[r+1]}' not found!`);i.push(e[r],s)}}}(t,i,o)}return t.mergedAttrs=pf(t.mergedAttrs,t.attrs),r}function ET(n,e,t,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function MT(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function kT(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function JU(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Nr(e)&&(t[""]=n)}}function AT(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function RT(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=fa(r.type)),o=new mu(s,Nr(r),null);n.blueprint[i]=o,t[i]=o,ET(n,e,0,i,Nl(n,t,r.hostVars,ot),r)}function eH(n,e,t){const i=hr(e,n),r=wT(t),s=n[10],o=If(n,Pu(n,r,null,t.onPush?64:16,i,e,s,s.createRenderer(i,t),null,null));n[e.index]=o}function ls(n,e,t,i,r,s){const o=hr(n,e);!function(n,e,t,i,r,s,o){if(null==s)fn(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const a=null==o?rt(s):o(s,i||"",r);fn(n)?n.setAttribute(e,r,a,t):t?e.setAttributeNS(t,r,a):e.setAttribute(r,a)}}(e[11],o,s,n.value,t,i,r)}function tH(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function nH(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function IT(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function sH(n,e){const t=Gi(e,n);if(yv(t)){const i=t[1];80&t[2]?Ll(i,t,i.template,t[8]):t[5]>0&&Dy(t)}}function Dy(n){for(let i=ey(n);null!==i;i=ty(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Ll(o,s,o.template,s[8])}else s[5]>0&&Dy(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Gi(t[i],n);yv(r)&&r[5]>0&&Dy(r)}}function oH(n,e){const t=Gi(e,n),i=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Fu(i,t,t[8])}function If(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Ty(n){for(;n;){n[2]|=64;const e=Ru(n);if(U5(n)&&!e)return n;n=e}return null}function My(n,e,t){const i=e[10];i.begin&&i.begin();try{Ll(n,e,n.template,t)}catch(r){throw $T(e,r),r}finally{i.end&&i.end()}}function PT(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=Xv(t),r=i[1];QU(r,i,r.template,t)}}(n[8])}function ky(n,e,t){Sv(0),e(n,t)}const dH=(()=>Promise.resolve(null))();function FT(n){return n[7]||(n[7]=[])}function NT(n){return n.cleanup||(n.cleanup=[])}function LT(n,e,t){return(null===n||Nr(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function $T(n,e){const t=n[9],i=t?t.get(qs,null):null;i&&i.handleError(e)}function BT(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Xs(n,e,t){const i=rf(e,n);!function(n,e,t){fn(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function Pf(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=rv(r,a):2==s&&(i=rv(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const Ay=new pe("INJECTOR",-1);class QT{get(e,t=Cu){if(t===Cu){const i=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw i.name="NullInjectorError",i}return t}}const Ry=new pe("Set Injector scope."),Nu={},pH={};let Iy;function VT(){return void 0===Iy&&(Iy=new QT),Iy}function jT(n,e=null,t=null,i){const r=UT(n,e,t,i);return r._resolveInjectorDefTypes(),r}function UT(n,e=null,t=null,i){return new mH(n,t,e||VT(),i)}class mH{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&rs(t,a=>this.processProvider(a,e,t)),rs([e],a=>this.processInjectorType(a,[],s)),this.records.set(Ay,$l(void 0,this));const o=this.records.get(Ry);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:Mt(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Cu,i=st.Default){this.assertNotDestroyed();const r=dD(this),s=xo(void 0);try{if(!(i&st.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof pe}(e)&&ov(e);a=l&&this.injectableDefInScope(l)?$l(Py(e),Nu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&st.Self?VT():this.parent).get(e,t=i&st.Optional&&t===Cu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Of]=o[Of]||[]).unshift(Mt(e)),r)throw o;return function(n,e,t,i){const r=n[Of];throw e[uD]&&r.unshift(e[uD]),n.message=function(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Mt(e);if(Array.isArray(e))r=e.map(Mt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Mt(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Vj,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Of]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{xo(s),dD(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(Mt(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=ct(e)))return!1;let r=vS(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=vS(s)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(o);try{rs(r.imports,d=>{this.processInjectorType(d,t,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];rs(f,p=>this.processProvider(p,h,f||Ut))}}this.injectorDefTypes.add(o);const l=fa(o)||(()=>new o);this.records.set(o,$l(l,Nu));const c=r.providers;if(null!=c&&!a){const u=e;rs(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let r=Bl(e=ct(e))?e:ct(e&&e.provide);const s=function(n,e,t){return WT(n)?$l(void 0,n.useValue):$l(HT(n),Nu)}(e);if(Bl(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=$l(void 0,Nu,!0),o.factory=()=>Bv(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===Nu&&(t.value=pH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ct(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Py(n){const e=ov(n),t=null!==e?e.factory:fa(n);if(null!==t)return t;if(n instanceof pe)throw new Error(`Token ${Mt(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const i=wu(e,"?");throw new Error(`Can't resolve all parameters for ${Mt(n)}: (${i.join(", ")}).`)}const t=function(n){const e=n&&(n[Zh]||n[yS]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function HT(n,e,t){let i;if(Bl(n)){const r=ct(n);return fa(r)||Py(r)}if(WT(n))i=()=>ct(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Bv(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>U(ct(n.useExisting));else{const r=ct(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return fa(r)||Py(r);i=()=>new r(...Bv(n.deps))}return i}function $l(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function WT(n){return null!==n&&"object"==typeof n&&Uj in n}function Bl(n){return"function"==typeof n}let Gt=(()=>{class n{static create(t,i){var r;if(Array.isArray(t))return jT({name:""},i,t,"");{const s=null!=(r=t.name)?r:"";return jT({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Cu,n.NULL=new QT,n.\u0275prov=xe({token:n,providedIn:"any",factory:()=>U(Ay)}),n.__NG_ELEMENT_ID__=-1,n})();function AH(n,e){uf(Xv(n)[1],Pn())}function Ae(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Nr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=Ly(n.inputs),o.declaredInputs=Ly(n.declaredInputs),o.outputs=Ly(n.outputs);const a=r.hostBindings;a&&FH(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&IH(n,l),c&&PH(n,c),iv(n.inputs,r.inputs),iv(n.declaredInputs,r.declaredInputs),iv(n.outputs,r.outputs),Nr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ae&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=pf(r.hostAttrs,t=pf(t,r.hostAttrs))}}(i)}function Ly(n){return n===gl?{}:n===Ut?[]:n}function IH(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function PH(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function FH(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let Ff=null;function Ql(){if(!Ff){const n=Bt.Symbol;if(n&&n.iterator)Ff=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ff=i)}}}return Ff}function Lu(n){return!!$y(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ql()in n)}function $y(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function cs(n,e,t){return n[e]=t}function hi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Xt(n,e,t,i){const r=ce();return hi(r,wl(),e)&&(kt(),ls(pn(),r,n,e,t,i)),Xt}function vt(n,e,t,i,r,s,o,a){const l=ce(),c=kt(),u=n+20,d=c.firstCreatePass?function(n,e,t,i,r,s,o,a,l){const c=e.consts,u=Fl(e,n,4,o||null,To(c,a));xy(e,t,u,To(c,l)),uf(e,u);const d=u.tViews=Rf(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];is(d,!1);const h=l[11].createComment("");Tf(c,l,h,d),di(h,l),If(l,l[u]=IT(h,l,h,d)),nf(d)&&wy(c,l,d),null!=o&&Cy(l,d,a)}function T(n,e=st.Default){const t=ce();return null===t?U(n,e):tD(Pn(),t,ct(n),e)}function Bf(){throw new Error("invalid")}function qe(n,e,t){const i=ce();return hi(i,wl(),e)&&Ji(kt(),pn(),i,n,e,i[11],t,!1),qe}function Uy(n,e,t,i,r){const o=r?"class":"style";BT(n,t,e.inputs[o],o,i)}function oe(n,e,t,i){const r=ce(),s=kt(),o=20+n,a=r[11],l=r[o]=iy(a,e,tt.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,i,r,s,o){const a=e.consts,c=Fl(e,n,2,r,To(a,s));return xy(e,t,c,To(a,o)),null!==c.attrs&&Pf(c,c.attrs,!1),null!==c.mergedAttrs&&Pf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,t,i):s.data[o];is(c,!0);const u=c.mergedAttrs;null!==u&&ff(a,l,u);const d=c.classes;null!==d&&cy(a,l,d);const h=c.styles;null!==h&&nT(a,l,h),64!=(64&c.flags)&&Tf(s,r,l,c),0===tt.lFrame.elementDepthCount&&di(l,r),tt.lFrame.elementDepthCount++,nf(c)&&(wy(s,r,c),OT(s,c,r)),null!==i&&Cy(r,c)}function ae(){let n=Pn();Ov()?wv():(n=n.parent,is(n,!1));const e=n;tt.lFrame.elementDepthCount--;const t=kt();t.firstCreatePass&&(uf(t,n),fv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&Uy(t,e,ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&Uy(t,e,ce(),e.stylesWithoutHost,!1)}function Pt(n,e,t,i){oe(n,e,t,i),ae()}function us(n,e,t){const i=ce(),r=kt(),s=n+20,o=r.firstCreatePass?function(n,e,t,i,r){const s=e.consts,o=To(s,i),a=Fl(e,n,8,"ng-container",o);return null!==o&&Pf(a,o,!0),xy(e,t,a,To(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];is(o,!0);const a=i[s]=i[11].createComment("");Tf(r,i,a,o),di(a,i),nf(o)&&(wy(r,i,o),OT(r,o,i)),null!=t&&Cy(i,o)}function ds(){let n=Pn();const e=kt();Ov()?wv():(n=n.parent,is(n,!1)),e.firstCreatePass&&(uf(e,n),fv(n)&&e.queries.elementEnd(n))}function fi(n,e,t){us(n,e,t),ds()}function hs(){return ce()}function Bu(n){return!!n&&"function"==typeof n.then}function x1(n){return!!n&&"function"==typeof n.subscribe}const Hy=x1;function yt(n,e,t,i){const r=ce(),s=kt(),o=Pn();return S1(s,r,r[11],o,n,e,!!t,i),yt}function Qu(n,e){const t=Pn(),i=ce(),r=kt();return S1(r,i,LT(xv(r.data),t,i),t,n,e,!1),Qu}function S1(n,e,t,i,r,s,o,a){const l=nf(i),u=n.firstCreatePass&&NT(n),d=e[8],h=FT(e);let f=!0;if(3&i.type||a){const v=hr(i,e),O=a?a(v):v,b=h.length,x=a?I=>a(Cn(I[i.index])):i.index;if(fn(t)){let I=null;if(!a&&l&&(I=function(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,f=!1;else{s=Wy(i,e,d,s,!1);const F=t.listen(O,r,s);h.push(s,F),u&&u.push(r,x,b,b+1)}}else s=Wy(i,e,d,s,!0),O.addEventListener(r,s,o),h.push(s),u&&u.push(r,x,b,o)}else s=Wy(i,e,d,s,!1);const p=i.outputs;let m;if(f&&null!==p&&(m=p[r])){const v=m.length;if(v)for(let O=0;O<v;O+=2){const j=e[m[O]][m[O+1]].subscribe(s),B=h.length;h.push(s,j),u&&u.push(r,i.index,B,-(B+1))}}}function D1(n,e,t,i){try{return!1!==t(i)}catch(r){return $T(n,r),!1}}function Wy(n,e,t,i,r){return function s(o){if(o===Function)return i;const a=2&n.flags?Gi(n.index,e):e;0==(32&e[2])&&Ty(a);let l=D1(e,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=D1(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function en(n=1){return function(n){return(tt.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,tt.lFrame.contextLView))[8]}(n)}function hW(n,e){let t=null;const i=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?oT(n,s,!0):CU(i,s))return r}else t=r}return t}function Hn(n){const e=ce()[16][6];if(!e.projection){const i=e.projection=wu(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?hW(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Tt(n,e=0,t){const i=ce(),r=kt(),s=Fl(r,20+n,16,null,t||null);null===s.projection&&(s.projection=e),wv(),64!=(64&s.flags)&&function(n,e,t){tT(e[11],0,e,t,WD(n,t,e),XD(t.parent||e[6],t,e))}(r,i,s)}function N1(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?$r(s):Gs(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];mW(n[a],e)&&(l=!0,n[a+1]=i?hy(u):uy(u)),a=i?$r(u):Gs(u)}l&&(n[t+1]=i?uy(s):hy(s))}function mW(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&kl(n,e)>=0}function Zs(n,e,t){return Qr(n,e,t,!1),Zs}function Ht(n,e){return Qr(n,e,null,!0),Ht}function Qr(n,e,t,i){const r=ce(),s=kt(),o=function(n){const e=tt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[bi()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,i)&&null===e&&!o&&(e=!1),e=function(n,e,t,i){const r=xv(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Vu(t=qy(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=qy(r,n,e,t,i),null===s){let l=function(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Gs(i))return n[$r(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=qy(null,n,e,l[1],i),l=Vu(l,e.attrs,i),function(n,e,t,i){n[$r(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Vu(i,n[s].hostAttrs,t);return Vu(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=$r(o),l=Gs(o);n[i]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||kl(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=$r(n[a+1]);n[i+1]=Mf(h,a),0!==h&&(n[h+1]=dy(n[h+1],i)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Mf(a,0),0!==a&&(n[a+1]=dy(n[a+1],i)),a=i;else n[i+1]=Mf(l,0),0===a?a=i:n[l+1]=dy(n[l+1],i),l=i;c&&(n[i+1]=uy(n[i+1])),N1(n,u,i,!0),N1(n,u,i,!1),function(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&kl(s,e)>=0&&(t[i+1]=hy(t[i+1]))}(e,u,n,i,s),o=Mf(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}(s,n,o,i),e!==ot&&hi(r,o,e)&&function(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Qf(function(n){return 1==(1&n)}(c)?q1(l,e,t,r,Gs(c),o):void 0)||(Qf(s)||function(n){return 2==(2&n)}(c)&&(s=q1(l,null,t,r,a,o)),function(n,e,t,i,r){const s=fn(n);if(e)r?s?n.addClass(t,i):t.classList.add(i):s?n.removeClass(t,i):t.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Ki.DashCase;if(null==r)s?n.removeStyle(t,i,o):t.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=Ki.Important),s?n.setStyle(t,i,r,o):t.style.setProperty(i,r,a?"important":"")}}}(i,o,rf(bi(),t),r,s))}(s,s.data[bi()],r,r[11],n,r[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Mt(Yi(n)))),n}(e,t),i,o)}function qy(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=Vu(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Vu(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Xi(n,o,!!t||e[++s]))}return void 0===n?null:n}function q1(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===ot&&(h=d?Ut:void 0);let f=d?Fv(h,i):u===i?h:void 0;if(c&&!Qf(f)&&(f=Fv(l,i)),Qf(f)&&(a=f,o))return a;const p=n[r+1];r=o?$r(p):Gs(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Fv(l,i))}return a}function Qf(n){return void 0!==n}function at(n,e=""){const t=ce(),i=kt(),r=n+20,s=i.firstCreatePass?Fl(i,r,1,e,null):i.data[r],o=t[r]=function(n,e){return fn(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Tf(i,t,o,s),is(s,!1)}function Kl(n){return Ys("",n,""),Kl}function Ys(n,e,t){const i=ce(),r=function(n,e,t,i){return hi(n,wl(),t)?e+rt(t)+i:ot}(i,n,e,t);return r!==ot&&Xs(i,bi(),r),Ys}function ju(n,e,t){const i=ce();return hi(i,wl(),e)&&Ji(kt(),pn(),i,n,e,i[11],t,!0),ju}function Uu(n,e,t){const i=ce();if(hi(i,wl(),e)){const s=kt(),o=pn();Ji(s,o,i,n,e,LT(xv(s.data),o,i),t,!0)}return Uu}const va=void 0;var ZW=["en",[["a","p"],["AM","PM"],va],[["AM","PM"],va,va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",va,"{1} 'at' {0}",va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Jl={};function fE(n){return n in Jl||(Jl[n]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[n]),Jl[n]}var Me=(()=>((Me=Me||{})[Me.LocaleId=0]="LocaleId",Me[Me.DayPeriodsFormat=1]="DayPeriodsFormat",Me[Me.DayPeriodsStandalone=2]="DayPeriodsStandalone",Me[Me.DaysFormat=3]="DaysFormat",Me[Me.DaysStandalone=4]="DaysStandalone",Me[Me.MonthsFormat=5]="MonthsFormat",Me[Me.MonthsStandalone=6]="MonthsStandalone",Me[Me.Eras=7]="Eras",Me[Me.FirstDayOfWeek=8]="FirstDayOfWeek",Me[Me.WeekendRange=9]="WeekendRange",Me[Me.DateFormat=10]="DateFormat",Me[Me.TimeFormat=11]="TimeFormat",Me[Me.DateTimeFormat=12]="DateTimeFormat",Me[Me.NumberSymbols=13]="NumberSymbols",Me[Me.NumberFormats=14]="NumberFormats",Me[Me.CurrencyCode=15]="CurrencyCode",Me[Me.CurrencySymbol=16]="CurrencySymbol",Me[Me.CurrencyName=17]="CurrencyName",Me[Me.Currencies=18]="Currencies",Me[Me.Directionality=19]="Directionality",Me[Me.PluralCase=20]="PluralCase",Me[Me.ExtraData=21]="ExtraData",Me))();const Vf="en-US";let pE=Vf;function Zy(n,e,t,i,r){if(n=ct(n),Array.isArray(n))for(let s=0;s<n.length;s++)Zy(n[s],e,t,i,r);else{const s=kt(),o=ce();let a=Bl(n)?n:ct(n.provide),l=HT(n);const c=Pn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Bl(n)||!n.multi){const f=new mu(l,r,T),p=Ky(a,e,r?u:u+h,d);-1===p?(_f(_u(c,o),s,a),Yy(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Ky(a,e,u+h,d),p=Ky(a,e,u,u+h),m=f>=0&&t[f],v=p>=0&&t[p];if(r&&!v||!r&&!m){_f(_u(c,o),s,a);const O=function(n,e,t,i,r){const s=new mu(n,t,T);return s.multi=[],s.index=e,s.componentProviders=0,$E(s,r,i&&!t),s}(r?Z4:X4,t.length,r,i,l);!r&&v&&(t[p].providerFactory=O),Yy(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(O),o.push(O)}else Yy(s,n,f>-1?f:p,$E(t[r?p:f],l,!r&&i));!r&&i&&v&&t[p].componentProviders++}}}function Yy(n,e,t,i){const r=Bl(e),s=function(n){return!!n.useClass}(e);if(r||s){const l=(s?ct(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function $E(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ky(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function X4(n,e,t,i){return Jy(this.multi,[])}function Z4(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=vu(t,t[1],this.providerFactory.index,i);s=a.slice(0,o),Jy(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Jy(r,s);return s}function Jy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ye(n,e=[]){return t=>{t.providersResolver=(i,r)=>function(n,e,t){const i=kt();if(i.firstCreatePass){const r=Nr(n);Zy(t,i.data,i.blueprint,r,!0),Zy(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class BE{}class e8{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Mt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ro=(()=>{class n{}return n.NULL=new e8,n})();function t8(){return tc(Pn(),ce())}function tc(n,e){return new nt(hr(n,e))}let nt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=t8,n})();function n8(n){return n instanceof nt?n.nativeElement:n}class Gu{}let Ks=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function(){const n=ce(),t=Gi(Pn().index,n);return function(n){return n[11]}(ns(t)?t:n)}(),n})(),o8=(()=>{class n{}return n.\u0275prov=xe({token:n,providedIn:"root",factory:()=>null}),n})();class Io{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const a8=new Io("13.0.3"),eb={};function zf(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Cn(s)),Fr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&zf(l[1],l,c,i)}const o=t.type;if(8&o)zf(n,e,t.child,i);else if(32&o){const a=Jv(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=JD(e,t);if(Array.isArray(a))i.push(...a);else{const l=Ru(e[16]);zf(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class Xu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return zf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Fr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(ry(e,i),yf(t,i))}this._attachedToViewContainer=!1}HD(this._lView[1],this._lView)}onDestroy(e){ST(this._lView[1],this._lView,null,e)}markForCheck(){Ty(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){My(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){af(!0);try{My(n,e,t)}finally{af(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){Iu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class l8 extends Xu{constructor(e){super(e),this._view=e}detectChanges(){PT(this._view)}checkNoChanges(){!function(n){af(!0);try{PT(n)}finally{af(!1)}}(this._view)}get context(){return null}}class VE extends Ro{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ci(e);return new tb(t,this.ngModule)}}function jE(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const u8=new pe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ND});class tb extends BE{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(xU).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return jE(this.componentDef.inputs)}get outputs(){return jE(this.componentDef.outputs)}create(e,t,i,r){const s=(r=r||this.ngModule)?function(n,e){return{get:(t,i,r)=>{const s=n.get(t,eb,r);return s!==eb||i===eb?s:e.get(t,i,r)}}}(e,r.injector):e,o=s.get(Gu,RS),a=s.get(o8,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function(n,e,t){if(fn(n))return n.selectRootElement(e,t===Ir.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):iy(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||ND,clean:dH,playerHandler:e||null,flags:0}}(),f=Rf(0,null,null,1,0,null,null,null,null,null),p=Pu(null,f,h,d,null,null,o,l,a,s);let m,v;lf(p);try{const O=function(n,e,t,i,r,s){const o=t[1];t[20]=n;const l=Fl(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Pf(l,c,!0),null!==n&&(ff(r,n,c),null!==l.classes&&cy(r,n,l.classes),null!==l.styles&&nT(r,n,l.styles)));const u=i.createRenderer(n,e),d=Pu(t,wT(e),null,e.onPush?64:16,t[20],l,i,u,s||null,null);return o.firstCreatePass&&(_f(_u(l,t),o,e.type),kT(o,l),AT(l,t.length,1)),If(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(i)ff(l,u,["ng-version",a8.full]);else{const{attrs:b,classes:x}=function(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Lr(r))break;r=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);b&&ff(l,u,b),x&&x.length>0&&cy(l,u,x.join(" "))}if(v=vv(f,20),void 0!==t){const b=v.projection=[];for(let x=0;x<this.ngContentSelectors.length;x++){const I=t[x];b.push(null!=I?Array.from(I):null)}}m=function(n,e,t,i,r){const s=t[1],o=function(n,e,t){const i=Pn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),RT(n,i,e,Nl(n,e,1,null),t));const r=vu(e,n,i.directiveStart,i);di(r,e);const s=hr(i,e);return s&&di(s,e),r}(s,t,e);if(i.components.push(o),n[8]=o,r&&r.forEach(l=>l(o,e)),e.contentQueries){const l=Pn();e.contentQueries(1,o,l.directiveStart)}const a=Pn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Eo(a.index),ET(t[1],a,0,a.directiveStart,a.directiveEnd,e),MT(e,o)),o}(O,this.componentDef,p,h,[AH]),Fu(f,p,null)}finally{cf()}return new f8(this.componentType,m,tc(v,p),p,v)}}class f8 extends class{}{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new l8(r),this.componentType=e}get injector(){return new Sl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Js{}class UE{}const nc=new Map;class zE extends Js{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new VE(this);const i=cr(e);this._bootstrapComponents=as(i.bootstrap),this._r3Injector=UT(e,t,[{provide:Js,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],Mt(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Gt.THROW_IF_NOT_FOUND,i=st.Default){return e===Gt||e===Js||e===Ay?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class nb extends UE{constructor(e){super(),this.moduleType=e,null!==cr(e)&&function(n){const e=new Set;!function t(i){const r=cr(i,!0),s=r.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Mt(e)} vs ${Mt(e.name)}`)}(s,nc.get(s),i),nc.set(s,i));const o=as(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new zE(this.moduleType,e)}}function Po(n,e,t){const i=yi()+n,r=ce();return r[i]===ot?cs(r,i,t?e.call(t):e()):function(n,e){return n[e]}(r,i)}function GE(n,e,t,i,r,s){const o=e+t;return hi(n,o,r)?cs(n,o+1,s?i.call(s,r):i(r)):function(n,e){const t=n[e];return t===ot?void 0:t}(n,o+1)}function Yu(n,e){const t=kt();let i;const r=n+20;t.firstCreatePass?(i=function(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=fa(i.type)),o=xo(T);try{const a=mf(!1),l=s();return mf(a),function(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,ce(),r,l),l}finally{xo(o)}}function Ku(n,e,t){const i=n+20,r=ce(),s=Ol(r,i);return function(n,e){return n[1].data[e].pure}(r,i)?GE(r,yi(),e,s.transform,t,s):s.transform(t)}function ib(n){return e=>{setTimeout(n,void 0,e)}}const At=class extends Ie{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var l,c,u;let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const d=e;r=null==(l=d.next)?void 0:l.bind(d),s=null==(c=d.error)?void 0:c.bind(d),o=null==(u=d.complete)?void 0:u.bind(d)}this.__isAsync&&(s=ib(s),r&&(r=ib(r)),o&&(o=ib(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof $&&e.add(a),a}};function k8(){return this._results[Ql()]()}class ic{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ql(),i=ic.prototype;i[t]||(i[t]=k8)}get changes(){return this._changes||(this._changes=new At)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=pr(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xn=(()=>{class n{}return n.__NG_ELEMENT_ID__=I8,n})();const A8=xn,R8=class extends A8{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=Pu(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(t)),Fu(t,i,e),new Xu(i)}};function I8(){return qf(Pn(),ce())}function qf(n,e){return 4&n.type?new R8(e,n,tc(n,e)):null}let Ln=(()=>{class n{}return n.__NG_ELEMENT_ID__=P8,n})();function P8(){return tM(Pn(),ce())}const F8=Ln,JE=class extends F8{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return tc(this._hostTNode,this._hostLView)}get injector(){return new Sl(this._hostTNode,this._hostLView)}get parentInjector(){const e=gf(this._hostTNode,this._hostLView);if(ZS(e)){const t=xl(e,this._hostLView),i=Cl(e);return new Sl(t[1].data[i+8],t)}return new Sl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=eM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,s){const o=e&&!function(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new tb(ci(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule&&c){const d=c.get(Js,null);d&&(s=d)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[1];if(function(n){return Fr(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[3],h=new JE(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],sD(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(r,i,o,s);const a=ay(s,o),l=i[11],c=Df(l,o[7]);return null!==c&&function(n,e,t,i,r,s){i[0]=r,i[6]=e,Iu(n,i,t,1,r,s)}(r,o[6],l,i,c,a),e.attachToViewContainerRef(),sD(rb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=eM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=ry(this._lContainer,t);i&&(yf(rb(this._lContainer),t),HD(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=ry(this._lContainer,t);return i&&null!=yf(rb(this._lContainer),t)?new Xu(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function eM(n){return n[8]}function rb(n){return n[8]||(n[8]=[])}function tM(n,e){let t;const i=e[n.index];if(Fr(i))t=i;else{let r;if(8&n.type)r=Cn(i);else{const s=e[11];r=s.createComment("");const o=hr(n,e);ga(s,Df(s,o),r,function(n,e){return fn(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=IT(i,e,r,n),If(e,t)}return new JE(t,n,e)}class sb{constructor(e){this.queryList=e,this.matches=null}clone(){return new sb(this.queryList)}setDirty(){this.queryList.setDirty()}}class ob{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new ob(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==oM(e,t).matches&&this.queries[t].setDirty()}}class nM{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class ab{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new ab(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class lb{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new lb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,$8(t,s)),this.matchTNodeWithReadOption(e,t,vf(t,e,s,!1,!1))}else i===xn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,vf(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===nt||r===Ln||r===xn&&4&t.type)this.addMatch(t.index,-2);else{const s=vf(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function $8(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Q8(n,e,t,i){return-1===t?function(n,e){return 11&n.type?tc(n,e):4&n.type?qf(n,e):null}(e,n):-2===t?function(n,e,t){return t===nt?tc(e,n):t===xn?qf(e,n):t===Ln?tM(e,n):void 0}(n,e,i):vu(n,n[1],t,e)}function iM(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Q8(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function cb(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=iM(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&cb(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];cb(f[1],f,c,i)}}}}}return i}function Ve(n){const e=ce(),t=kt(),i=BS();Sv(i+1);const r=oM(t,i);if(n.dirty&&IS(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?cb(t,e,i,[]):iM(t,e,r,i);n.reset(s,n8),n.notifyOnChanges()}return!0}return!1}function Sn(n,e,t){const i=kt();i.firstCreatePass&&(sM(i,new nM(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),rM(i,ce(),e)}function Rt(n,e,t,i){const r=kt();if(r.firstCreatePass){const s=Pn();sM(r,new nM(e,t,i),s.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}rM(r,ce(),t)}function je(){return function(n,e){return n[19].queries[e].queryList}(ce(),BS())}function rM(n,e,t){const i=new ic(4==(4&t));ST(n,e,i,i.destroy),null===e[19]&&(e[19]=new ob),e[19].queries.push(new sb(i))}function sM(n,e,t){null===n.queries&&(n.queries=new ab),n.queries.track(new lb(e,t))}function oM(n,e){return n.queries.getByIndex(e)}function Zf(...n){}const td=new pe("Application Initializer");let sc=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Zf,this.reject=Zf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Bu(s))t.push(s);else if(Hy(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(U(td,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const nd=new pe("AppId"),cz={provide:nd,useFactory:function(){return`${mb()}${mb()}${mb()}`},deps:[]};function mb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xM=new pe("Platform Initializer"),ya=new pe("Platform ID"),SM=new pe("appBootstrapListener");let DM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const eo=new pe("LocaleId"),TM=new pe("DefaultCurrencyCode");class uz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Yf=(()=>{class n{compileModuleSync(t){return new nb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=as(cr(t).declarations).reduce((o,a)=>{const l=ci(a);return l&&o.push(new tb(l)),o},[]);return new uz(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const hz=(()=>Promise.resolve(0))();function gb(n){"undefined"==typeof Zone?hz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class it{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new At(!1),this.onMicrotaskEmpty=new At(!1),this.onStable=new At(!1),this.onError=new At(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let n=Bt.requestAnimationFrame,e=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Bt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vb(n),n.isCheckStableRunning=!0,_b(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return EM(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),MM(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return EM(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),MM(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,vb(n),_b(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!it.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(it.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,pz,Zf,Zf);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const pz={};function _b(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function EM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function MM(n){n._nesting--,_b(n)}class _z{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new At,this.onMicrotaskEmpty=new At,this.onStable=new At,this.onError=new At}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let yb=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{it.assertNotInAngularZone(),gb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gb(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(U(it))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),kM=(()=>{class n{constructor(){this._applications=new Map,bb.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return bb.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class vz{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let jr,bb=new vz;const AM=new pe("AllowMultipleToken");class RM{constructor(e,t){this.name=e,this.token=t}}function IM(n,e,t=[]){const i=`Platform: ${e}`,r=new pe(i);return(s=[])=>{let o=PM();if(!o||o.injector.get(AM,!1))if(n)n(t.concat(s).concat({provide:r,useValue:!0}));else{const a=t.concat(s).concat({provide:r,useValue:!0},{provide:Ry,useValue:"platform"});!function(n){if(jr&&!jr.destroyed&&!jr.injector.get(AM,!1))throw new Hi("400","");jr=n.get(FM);const e=n.get(xM,null);e&&e.forEach(t=>t())}(Gt.create({providers:a,name:i}))}return function(n){const e=PM();if(!e)throw new Hi("401","");return e}()}}function PM(){return jr&&!jr.destroyed?jr:null}let FM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const a=function(n,e){let t;return t="noop"===n?new _z:("zone.js"===n?void 0:n)||new it({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:it,useValue:a}];return a.run(()=>{const c=Gt.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(qs,null);if(!d)throw new Hi("402","");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{Ob(this._modules,u),h.unsubscribe()})}),function(n,e,t){try{const i=t();return Bu(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const h=u.injector.get(sc);return h.runInitializers(),h.donePromise.then(()=>(function(n){zi(n,"Expected localeId to be defined"),"string"==typeof n&&(pE=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(eo,Vf)||Vf),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,i=[]){const r=NM({},i);return function(n,e,t){const i=new nb(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(ba);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Hi("403","");t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Hi("404","");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(U(Gt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();function NM(n,e){return Array.isArray(e)?e.reduce(NM,n):be(be({},n),e)}let ba=(()=>{class n{constructor(t,i,r,s,o){this._zone=t,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Z(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Z(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),gb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=ts(a,l.pipe(mS()))}bootstrap(t,i){if(!this._initStatus.done)throw new Hi("405","");let r;r=t instanceof BE?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Js),a=r.create(Gt.NULL,[],i||r.selector,s),l=a.location.nativeElement,c=a.injector.get(yb,null),u=c&&a.injector.get(kM);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Ob(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Hi("101","");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Ob(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(SM,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(U(it),U(Gt),U(qs),U(Ro),U(sc))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();function Ob(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let $M=!0,pi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Mz,n})();function Mz(n){return function(n,e,t){if(tf(n)&&!t){const i=Gi(n.index,e);return new Xu(i,i)}return 47&n.type?new Xu(e[16],e):null}(Pn(),ce(),16==(16&n))}class WM{constructor(){}supports(e){return Lu(e)}create(e){return new Nz(e)}}const Fz=(n,e)=>e;class Nz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Fz}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<qM(i,r,s)?t:i,a=qM(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Lu(e))throw new Error(`Error trying to diff '${Mt(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ql()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new Lz(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new zM),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Lz{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $z{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class zM{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new $z,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qM(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class GM{constructor(){}supports(e){return e instanceof Map||$y(e)}create(){return new Bz}}class Bz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||$y(e)))throw new Error(`Error trying to diff '${Mt(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Qz(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class Qz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XM(){return new gr([new WM])}let gr=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||XM()),deps:[[n,new pa,new Zi]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=xe({token:n,providedIn:"root",factory:XM}),n})();function ZM(){return new oc([new GM])}let oc=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||ZM()),deps:[[n,new pa,new Zi]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=xe({token:n,providedIn:"root",factory:ZM}),n})();const jz=[new GM],Hz=new gr([new WM]),Wz=new oc(jz),zz=IM(null,"core",[{provide:ya,useValue:"unknown"},{provide:FM,deps:[Gt]},{provide:kM,deps:[]},{provide:DM,deps:[]}]),Yz=[{provide:ba,useClass:ba,deps:[it,Gt,qs,Ro,sc]},{provide:u8,deps:[it],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:sc,useClass:sc,deps:[[new Zi,td]]},{provide:Yf,useClass:Yf,deps:[]},cz,{provide:gr,useFactory:function(){return Hz},deps:[]},{provide:oc,useFactory:function(){return Wz},deps:[]},{provide:eo,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||Vf},deps:[[new Du(eo),new Zi,new pa]]},{provide:TM,useValue:"USD"}];let Jz=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(U(ba))},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:Yz}),n})(),Jf=null;function ms(){return Jf}const lt=new pe("DocumentToken");let wa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:function(){return U(YM)},providedIn:"platform"}),n})();const r9=new pe("Location Initialized");let YM=(()=>{class n extends wa{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ms().getBaseHref(this._doc)}onPopState(t){const i=ms().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=ms().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){KM()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){KM()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(U(lt))},n.\u0275prov=xe({token:n,factory:function(){return new YM(U(lt))},providedIn:"platform"}),n})();function KM(){return!!window.history.pushState}function Db(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function JM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function to(n){return n&&"?"!==n[0]?"?"+n:n}let ac=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:function(){return function(n){const e=U(lt).location;return new ek(U(wa),e&&e.origin||"")}()},providedIn:"root"}),n})();const Tb=new pe("appBaseHref");let ek=(()=>{class n extends ac{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Db(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+to(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+to(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+to(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null==(r=(i=this._platformLocation).historyGo)||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(U(wa),U(Tb,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),a9=(()=>{class n extends ac{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Db(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+to(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+to(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null==(r=(i=this._platformLocation).historyGo)||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(U(wa),U(Tb,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),id=(()=>{class n{constructor(t,i){this._subject=new At,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=JM(tk(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+to(i))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,tk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+to(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+to(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null==(r=(i=this._platformStrategy).historyGo)||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=to,n.joinWithSlash=Db,n.stripTrailingSlash=JM,n.\u0275fac=function(t){return new(t||n)(U(ac),U(wa))},n.\u0275prov=xe({token:n,factory:function(){return new id(U(ac),U(wa))},providedIn:"root"}),n})();function tk(n){return n.replace(/\/index.html$/,"")}var Dn=(()=>((Dn=Dn||{})[Dn.Zero=0]="Zero",Dn[Dn.One=1]="One",Dn[Dn.Two=2]="Two",Dn[Dn.Few=3]="Few",Dn[Dn.Many=4]="Many",Dn[Dn.Other=5]="Other",Dn))();const g9=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=fE(e);if(t)return t;const i=e.split("-")[0];if(t=fE(i),t)return t;if("en"===i)return ZW;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[Me.PluralCase]};class cp{}let W9=(()=>{class n extends cp{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(g9(i||this.locale)(t)){case Dn.Zero:return"zero";case Dn.One:return"one";case Dn.Two:return"two";case Dn.Few:return"few";case Dn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(U(eo))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();function uk(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}class G9{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dk=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=[];t.forEachOperation((r,s,o)=>{if(null==r.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new G9(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new hk(r,a);i.push(l)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const l=new hk(r,a);i.push(l)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,s=this._viewContainer.length;r<s;r++){const o=this._viewContainer.get(r);o.context.index=r,o.context.count=s,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(t,i){t.context.$implicit=i.item}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(Ln),T(xn),T(gr))},n.\u0275dir=de({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class hk{constructor(e,t){this.record=e,this.view=t}}let Ca=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Z9,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){fk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){fk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(Ln),T(xn))},n.\u0275dir=de({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Z9{constructor(){this.$implicit=null,this.ngIf=null}}function fk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Mt(e)}'.`)}class Nb{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let up=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=de({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),pk=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Nb(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(T(Ln),T(xn),T(up,9))},n.\u0275dir=de({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();class t6{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class n6{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const r6=new n6,s6=new t6;let gk=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Bu(t))return r6;if(x1(t))return s6;throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Mt(n)}'`)}(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(T(pi,16))},n.\u0275pipe=Pi({name:"async",type:n,pure:!1}),n})(),Wr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[{provide:cp,useClass:W9}]}),n})();const vk="browser";function Bb(n){return n===vk}let S6=(()=>{class n{}return n.\u0275prov=xe({token:n,providedIn:"root",factory:()=>new D6(U(lt),window)}),n})();class D6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yk(this.window.history)||yk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function yk(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class bk{}class Qb extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Jf||(Jf=n)}(new Qb)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(od=od||document.querySelector("base"),od?od.getAttribute("href"):null);return null==t?null:function(n){dp=dp||document.createElement("a"),dp.setAttribute("href",n);const e=dp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){od=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uk(document.cookie,e)}}let dp,od=null;const Ok=new pe("TRANSITION_ID"),R6=[{provide:td,useFactory:function(n,e,t){return()=>{t.get(sc).donePromise.then(()=>{const i=ms(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Ok,lt,Gt],multi:!0}];class Vb{static init(){!function(n){bb=n}(new Vb)}addToWindow(e){Bt.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Bt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Bt.getAllAngularRootElements=()=>e.getAllRootElements(),Bt.frameworkStabilizers||(Bt.frameworkStabilizers=[]),Bt.frameworkStabilizers.push(i=>{const r=Bt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?ms().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let I6=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const hp=new pe("EventManagerPlugins");let fp=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(U(hp),U(it))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class wk{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=ms().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ck=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),ad=(()=>{class n extends Ck{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(xk),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(xk))}}return n.\u0275fac=function(t){return new(t||n)(U(lt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();function xk(n){ms().remove(n)}const jb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ub=/%COMP%/g;function pp(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?pp(n,r,t):(r=r.replace(Ub,n),t.push(r))}return t}function Tk(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mp=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Hb(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case Ir.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new B6(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case Ir.ShadowDom:return new Q6(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=pp(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(U(fp),U(ad),U(nd))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class Hb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(jb[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=jb[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=jb[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ki.DashCase|Ki.Important)?e.style.setProperty(t,i,r&Ki.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ki.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Tk(i)):this.eventManager.addEventListener(e,t,Tk(i))}}class B6 extends Hb{constructor(e,t,i,r){super(e),this.component=i;const s=pp(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(Ub,n)}(r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ub,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Q6 extends Hb{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=pp(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let V6=(()=>{class n extends wk{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(U(lt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const Mk=["alt","control","meta","shift"],U6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},H6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let W6=(()=>{class n extends wk{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ms().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(Mk.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let i="",r=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&kk.hasOwnProperty(e)&&(e=kk[e]))}return U6[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Mk.forEach(s=>{s!=r&&H6[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(U(lt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const Z6=IM(zz,"browser",[{provide:ya,useValue:vk},{provide:xM,useValue:function(){Qb.makeCurrent(),Vb.init()},multi:!0},{provide:lt,useFactory:function(){return function(n){gv=n}(document),document},deps:[]}]),Y6=[{provide:Ry,useValue:"root"},{provide:qs,useFactory:function(){return new qs},deps:[]},{provide:hp,useClass:V6,multi:!0,deps:[lt,it,ya]},{provide:hp,useClass:W6,multi:!0,deps:[lt]},{provide:mp,useClass:mp,deps:[fp,ad,nd]},{provide:Gu,useExisting:mp},{provide:Ck,useExisting:ad},{provide:ad,useClass:ad,deps:[lt]},{provide:yb,useClass:yb,deps:[it]},{provide:fp,useClass:fp,deps:[hp,it]},{provide:bk,useClass:I6,deps:[]}];let Ak=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:nd,useValue:t.appId},{provide:Ok,useExisting:nd},R6]}}}return n.\u0275fac=function(t){return new(t||n)(U(n,12))},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:Y6,imports:[Wr,Jz]}),n})();"undefined"!=typeof window&&window;let zb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:function(t){let i=null;return i=t?new(t||n):U(Pk),i},providedIn:"root"}),n})(),Pk=(()=>{class n extends zb{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Nt.NONE:return i;case Nt.HTML:return ss(i,"HTML")?Yi(i):ED(this._doc,String(i)).toString();case Nt.STYLE:return ss(i,"Style")?Yi(i):i;case Nt.SCRIPT:if(ss(i,"Script"))return Yi(i);throw new Error("unsafe value used in a script context");case Nt.URL:return bD(i),ss(i,"URL")?Yi(i):Eu(String(i));case Nt.RESOURCE_URL:if(ss(i,"ResourceURL"))return Yi(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new s3(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new o3(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new a3(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new l3(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new c3(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(U(lt))},n.\u0275prov=xe({token:n,factory:function(t){let i=null;return i=t?new t:function(n){return new Pk(n.get(lt))}(U(Gt)),i},providedIn:"root"}),n})();class Fk{}const io="*";function gs(n,e){return{type:7,name:n,definitions:e,options:{}}}function Kn(n,e=null){return{type:4,styles:e,timings:n}}function Nk(n,e=null){return{type:2,steps:n,options:e}}function Ft(n){return{type:6,styles:n,offset:null}}function Jn(n,e,t){return{type:0,name:n,styles:e,options:t}}function Wn(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Lk(n){Promise.resolve(null).then(n)}class lc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Lk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class $k{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?Lk(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function Bk(){return"undefined"!=typeof window&&void 0!==window.document}function Gb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function No(n){switch(n.length){case 0:return new lc;case 1:return n[0];default:return new $k(n)}}function Qk(n,e,t,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let m=p,v=u[p];if("offset"!==p)switch(m=e.normalizePropertyName(m,o),v){case"!":v=r[p];break;case io:v=s[p];break;default:v=e.normalizeStyleValue(p,m,v,o)}f[m]=v}),h||a.push(f),c=f,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function Xb(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Zb(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Zb(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Zb(t,"destroy",n)))}}function Zb(n,e,t){const i=t.totalTime,s=Yb(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function Yb(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function er(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function Vk(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Kb=(n,e)=>!1,Jb=(n,e)=>!1,jk=(n,e,t)=>[];const Uk=Gb();(Uk||"undefined"!=typeof Element)&&(Kb=Bk()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),Jb=(()=>{if(Uk||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):Jb}})(),jk=(n,e,t)=>{let i=[];if(t){const r=n.querySelectorAll(e);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(e);r&&i.push(r)}return i});let xa=null,Hk=!1;function e0(n){xa||(xa=("undefined"!=typeof document?document.body:null)||{},Hk=!!xa.style&&"WebkitAppearance"in xa.style);let e=!0;return xa.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in xa.style,!e&&Hk&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in xa.style)),e}const t0=Jb,n0=Kb,r0=jk;function Wk(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let zk=(()=>{class n{validateStyleProperty(t){return e0(t)}matchesElement(t,i){return t0(t,i)}containsElement(t,i){return n0(t,i)}query(t,i,r){return r0(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new lc(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),s0=(()=>{class n{}return n.NOOP=new zk,n})();const o0="ng-enter",gp="ng-leave",_p="ng-trigger",vp=".ng-trigger",Gk="ng-animating",a0=".ng-animating";function Sa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:l0(parseFloat(e[1]),e[2])}function l0(n,e){return"s"===e?1e3*n:n}function yp(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=l0(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=l0(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:o}}(n,e,t)}function cc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Lo(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else cc(n,t);return t}function Zk(n,e,t){return t?e+":"+t+";":""}function Yk(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Zk(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Zk(0,yq(t),n.style[t]));n.setAttribute("style",e)}function _s(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=u0(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),Gb()&&Yk(n))}function Da(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=u0(t);n.style[i]=""}),Gb()&&Yk(n))}function ld(n){return Array.isArray(n)?1==n.length?n[0]:Nk(n):n}const c0=new RegExp("{{\\s*(.+?)\\s*}}","g");function Kk(n){let e=[];if("string"==typeof n){let t;for(;t=c0.exec(n);)e.push(t[1]);c0.lastIndex=0}return e}function bp(n,e,t){const i=n.toString(),r=i.replace(c0,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return r==i?n:r}function Op(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const vq=/-+([a-z0-9])/g;function u0(n){return n.replace(vq,(...e)=>e[1].toUpperCase())}function yq(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Jk(n,e){return 0===n||0===e}function eA(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var r=1;r<e.length;r++){let a=e[r];o.forEach(function(l){a[l]=d0(n,l)})}}return e}function tr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function d0(n,e){return window.getComputedStyle(n)[e]}function bq(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(tA(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(tA(o,r))}(i,t,e)):t.push(n),t}const Cp=new Set(["true","1"]),xp=new Set(["false","0"]);function tA(n,e){const t=Cp.has(n)||xp.has(n),i=Cp.has(e)||xp.has(e);return(r,s)=>{let o="*"==n||n==r,a="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?Cp.has(n):xp.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?Cp.has(e):xp.has(e)),o&&a}}const Cq=new RegExp("s*:selfs*,?","g");function h0(n,e,t){return new xq(n).build(e,t)}class xq{constructor(e){this._driver=e}build(e,t){const i=new Tq(t);return this._resetContextStyleTimingState(i),tr(this,ld(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};if(i.styles.forEach(a=>{if(Sp(a)){const l=a;Object.keys(l).forEach(c=>{Kk(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=Op(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=tr(this,ld(e.animation),t);return{type:1,matchers:bq(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ta(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>tr(this,i,t)),options:Ta(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=tr(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:Ta(e.options)}}visitAnimate(e,t){const i=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return f0(yp(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=f0(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||yp(i,e),f0(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Ft({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Ft(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==io?i.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(e.styles);let r=!1,s=null;return i.forEach(o=>{if(Sp(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),t.options&&function(n,e,t){const i=e.params||{},r=Kk(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(O=>{const b=this._makeStyleAst(O,t);let x=null!=b.offset?b.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Sp(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Sp(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(b.styles),I=0;return null!=x&&(s++,I=b.offset=x),l=l||I<0||I>1,a=a||I<c,c=I,o.push(I),b});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,v=m.duration;return u.forEach((O,b)=>{const x=h>0?b==f?1:h*b:o[b],I=x*v;t.currentTime=p+m.delay+I,m.duration=I,this._validateStyleAst(O,t),O.offset=x,i.styles.push(O)}),i}visitReference(e,t){return{type:8,animation:tr(this,ld(e.animation),t),options:Ta(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ta(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ta(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Cq,"")),n=n.replace(/@\*/g,vp).replace(/@\w+/g,t=>vp+"-"+t.substr(1)).replace(/:animating/g,a0),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,er(t.collectedStyles,t.currentQuerySelector,{});const a=tr(this,ld(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ta(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:yp(e.timings,t.errors,!0);return{type:12,animation:tr(this,ld(e.animation),t),timings:i,options:null}}}class Tq{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Sp(n){return!Array.isArray(n)&&"object"==typeof n}function Ta(n){return n?(n=cc(n)).params&&(n.params=function(n){return n?cc(n):null}(n.params)):n={},n}function f0(n,e,t){return{duration:n,delay:e,easing:t}}function p0(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Dp{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Rq=new RegExp(":enter","g"),Pq=new RegExp(":leave","g");function m0(n,e,t,i,r,s={},o={},a,l,c=[]){return(new Fq).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class Fq{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new Dp;const d=new g0(e,t,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),tr(this,i,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[p0(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?Sa(i.duration):null,a=null!=i.delay?Sa(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),tr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Tp);const o=Sa(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>tr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Sa(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),tr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return yp(t.params?bp(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Sa(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Tp);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),tr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;tr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Tp={};class g0{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ep(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Sa(i.duration)),null!=i.delay&&(r.delay=Sa(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=bp(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new g0(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Tp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new Nq(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Rq,"."+this._enterClassName)).replace(Pq,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Ep{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ep(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||io,this._currentKeyframe[t]=io}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=io})):Lo(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=bp(o[a],s,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:io),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Lo(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==io&&t.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const s=e.size?Op(e.values()):[],o=t.size?Op(t.values()):[];if(i){const a=r[0],l=cc(a);a.offset=0,l.offset=1,r=[a,l]}return p0(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Nq extends Ep{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=Lo(e[0],!1);l.offset=0,s.push(l);const c=Lo(e[0],!1);c.offset=rA(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Lo(e[d],!1);h.offset=rA((t+h.offset*i)/o),s.push(h)}i=o,t=0,r="",e=s}return p0(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function rA(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class _0{}class $q extends _0{normalizePropertyName(e,t){return u0(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(Bq[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${e}:${i}`)}return o+s}}const Bq=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function sA(n,e,t,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const v0={};class oA{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):o}build(e,t,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||v0,p=this.buildStyles(i,a&&a.params||v0,d),m=l&&l.params||v0,v=this.buildStyles(r,m,d),O=new Set,b=new Map,x=new Map,I="void"===r,F={params:be(be({},h),m)},j=u?[]:m0(e,t,this.ast.animation,s,o,p,v,F,c,d);let B=0;if(j.forEach(se=>{B=Math.max(se.duration+se.delay,B)}),d.length)return sA(t,this._triggerName,i,r,I,p,v,[],[],b,x,B,d);j.forEach(se=>{const ee=se.element,ve=er(b,ee,{});se.preStyleProps.forEach(Se=>ve[Se]=!0);const De=er(x,ee,{});se.postStyleProps.forEach(Se=>De[Se]=!0),ee!==t&&O.add(ee)});const re=Op(O.values());return sA(t,this._triggerName,i,r,I,p,v,j,re,b,x,B)}}class jq{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=cc(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=bp(l,r,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),i[c]=l})}}),i}}class Hq{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new jq(r.style,r.options&&r.options.params||{},i)}),aA(this.states,"true","1"),aA(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new oA(e,r,this.states))}),this.fallbackTransition=function(n,e,t){return new oA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function aA(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const zq=new Dp;class qq{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],r=h0(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,i){const r=e.element,s=Qk(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let o;const a=new Map;if(s?(o=m0(this._driver,t,s,o0,gp,{},{},i,zq,r),o.forEach(u=>{const d=er(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,io)})});const c=No(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,r){const s=Yb(t,"","","");return Xb(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const lA="ng-animate-queued",cA="ng-animate-disabled",uA=".ng-animate-disabled",Yq=[],dA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yr="__ng_removed";class y0{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?e.value:e),i){const s=cc(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const cd="void",b0=new y0(cd);class Jq{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,br(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const s=er(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=er(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(br(e,_p),br(e,_p+"-"+t),a[t]=b0),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new O0(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(br(e,_p),br(e,_p+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new y0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=b0),c.value!==cd&&l.value===c.value){if(!function(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],v=s.matchStyles(l.value,l.params,m),O=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Da(e,v),_s(e,O)})}return}const h=er(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(br(e,lA),o.onStart(()=>{uc(e,lA)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const v=this._engine.playersByElement.get(e);if(v){let O=v.indexOf(o);O>=0&&v.splice(O,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,vp,!0);i.forEach(r=>{if(r[yr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,cd,r);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&No(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||b0,u=new y0(cd),d=new O0(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[yr];(!s||s===dA)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){br(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=Yb(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,Xb(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class e7{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Jq(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,i,r){if(Mp(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Mp(t))return;const s=t[yr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),br(e,cA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uc(e,cA))}removeNode(e,t,i,r){if(Mp(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r){this.collectedLeaveElements.push(t),t[yr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,r,s){return Mp(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,vp,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,a0,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return No(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[yr];if(t&&t.setForRemoval){if(e[yr]=dA,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,uA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,uA,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)br(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?No(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new Dp,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(J=>{u.add(J);const C=this.driver.query(J,".ng-animate-queued",!0);for(let S=0;S<C.length;S++)u.add(C[S])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=pA(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((J,C)=>{const S=o0+m++;p.set(C,S),J.forEach(k=>br(k,S))});const v=[],O=new Set,b=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){const C=this.collectedLeaveElements[J],S=C[yr];S&&S.setForRemoval&&(v.push(C),O.add(C),S.hasAnimation?this.driver.query(C,".ng-star-inserted",!0).forEach(k=>O.add(k)):b.add(C))}const x=new Map,I=pA(h,Array.from(O));I.forEach((J,C)=>{const S=gp+m++;x.set(C,S),J.forEach(k=>br(k,S))}),e.push(()=>{f.forEach((J,C)=>{const S=p.get(C);J.forEach(k=>uc(k,S))}),I.forEach((J,C)=>{const S=x.get(C);J.forEach(k=>uc(k,S))}),v.forEach(J=>{this.processLeaveNode(J)})});const F=[],j=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(t).forEach(S=>{const k=S.player,L=S.element;if(F.push(k),this.collectedEnterElements.length){const _e=L[yr];if(_e&&_e.setForMove)return void k.destroy()}const V=!d||!this.driver.containsElement(d,L),N=x.get(L),q=p.get(L),te=this._buildInstruction(S,i,q,N,V);if(te.errors&&te.errors.length)j.push(te);else{if(V)return k.onStart(()=>Da(L,te.fromStyles)),k.onDestroy(()=>_s(L,te.toStyles)),void r.push(k);if(S.isFallbackTransition)return k.onStart(()=>Da(L,te.fromStyles)),k.onDestroy(()=>_s(L,te.toStyles)),void r.push(k);te.timelines.forEach(_e=>_e.stretchStartingKeyframe=!0),i.append(L,te.timelines),o.push({instruction:te,player:k,element:L}),te.queriedElements.forEach(_e=>er(a,_e,[]).push(k)),te.preStyleProps.forEach((_e,ge)=>{const W=Object.keys(_e);if(W.length){let me=l.get(ge);me||l.set(ge,me=new Set),W.forEach(Te=>me.add(Te))}}),te.postStyleProps.forEach((_e,ge)=>{const W=Object.keys(_e);let me=c.get(ge);me||c.set(ge,me=new Set),W.forEach(Te=>me.add(Te))})}});if(j.length){const J=[];j.forEach(C=>{J.push(`@${C.triggerName} has failed due to:\n`),C.errors.forEach(S=>J.push(`- ${S}\n`))}),F.forEach(C=>C.destroy()),this.reportError(J)}const B=new Map,re=new Map;o.forEach(J=>{const C=J.element;i.has(C)&&(re.set(C,C),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,B))}),r.forEach(J=>{const C=J.element;this._getPreviousPlayers(C,!1,J.namespaceId,J.triggerName,null).forEach(k=>{er(B,C,[]).push(k),k.destroy()})});const se=v.filter(J=>gA(J,l,c)),ee=new Map;fA(ee,this.driver,b,c,io).forEach(J=>{gA(J,l,c)&&se.push(J)});const De=new Map;f.forEach((J,C)=>{fA(De,this.driver,new Set(J),l,"!")}),se.forEach(J=>{const C=ee.get(J),S=De.get(J);ee.set(J,be(be({},C),S))});const Se=[],ke=[],we={};o.forEach(J=>{const{element:C,player:S,instruction:k}=J;if(i.has(C)){if(u.has(C))return S.onDestroy(()=>_s(C,k.toStyles)),S.disabled=!0,S.overrideTotalTime(k.totalTime),void r.push(S);let L=we;if(re.size>1){let N=C;const q=[];for(;N=N.parentNode;){const te=re.get(N);if(te){L=te;break}q.push(N)}q.forEach(te=>re.set(te,L))}const V=this._buildAnimation(S.namespaceId,k,B,s,De,ee);if(S.setRealPlayer(V),L===we)Se.push(S);else{const N=this.playersByElement.get(L);N&&N.length&&(S.parentPlayer=No(N)),r.push(S)}}else Da(C,k.fromStyles),S.onDestroy(()=>_s(C,k.toStyles)),ke.push(S),u.has(C)&&r.push(S)}),ke.forEach(J=>{const C=s.get(J.element);if(C&&C.length){const S=No(C);J.setRealPlayer(S)}}),r.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<v.length;J++){const C=v[J],S=C[yr];if(uc(C,gp),S&&S.hasAnimation)continue;let k=[];if(a.size){let V=a.get(C);V&&V.length&&k.push(...V);let N=this.driver.query(C,a0,!0);for(let q=0;q<N.length;q++){let te=a.get(N[q]);te&&te.length&&k.push(...te)}}const L=k.filter(V=>!V.destroyed);L.length?s7(this,C,L):this.processLeaveNode(C)}return v.length=0,Se.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();const C=this.players.indexOf(J);this.players.splice(C,1)}),J.play()}),Se}elementContainsData(e,t){let i=!1;const r=t[yr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==cd;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=er(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Da(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const v=m[yr];if(v&&v.removedBeforeQueried)return new lc(p.duration,p.delay);const O=m!==l,b=function(n){const e=[];return mA(n,e),e}((i.get(m)||Yq).map(B=>B.getRealPlayer())).filter(B=>!!B.element&&B.element===m),x=s.get(m),I=o.get(m),F=Qk(0,this._normalizer,0,p.keyframes,x,I),j=this._buildPlayer(p,F,b);if(p.subTimeline&&r&&d.add(m),O){const B=new O0(e,a,m);B.setRealPlayer(j),c.push(B)}return j});c.forEach(p=>{er(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>br(p,Gk));const f=No(h);return f.onDestroy(()=>{u.forEach(p=>uc(p,Gk)),_s(l,t.toStyles)}),d.forEach(p=>{er(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new lc(e.duration,e.delay)}}class O0{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new lc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>Xb(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){er(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Mp(n){return n&&1===n.nodeType}function hA(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function fA(n,e,t,i,r){const s=[];t.forEach(l=>s.push(hA(l)));const o=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,r);(!h||0==h.length)&&(c[yr]=Kq,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>hA(l,s[a++])),o}function pA(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}const kp="$$classes";function br(n,e){if(n.classList)n.classList.add(e);else{let t=n[kp];t||(t=n[kp]={}),t[e]=!0}}function uc(n,e){if(n.classList)n.classList.remove(e);else{let t=n[kp];t&&delete t[e]}}function s7(n,e,t){No(t).onDone(()=>n.processLeaveNode(e))}function mA(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof $k?mA(i.players,e):e.push(i)}}function gA(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Ap{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new e7(e,t,i),this._timelineEngine=new qq(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=h0(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new Hq(n,e,t)}(r,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=Vk(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=Vk(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function _A(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=w0(e[0]),e.length>1&&(i=w0(e[e.length-1]))):e&&(t=w0(e)),t||i?new l7(n,t,i):null}let l7=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&_s(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_s(this._element,this._initialStyles),this._endStyles&&(_s(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Da(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Da(this._element,this._endStyles),this._endStyles=null),_s(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function w0(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];c7(r)&&(e=e||{},e[r]=n[r])}return e}function c7(n){return"display"===n||"position"===n}const vA="animation",yA="animationend";class h7{constructor(e,t,i,r,s,o,a){this._element=e,this._name=t,this._duration=i,this._delay=r,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=x0(n,"").trim();let i=0;t.length&&(function(n,e){let t=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&t++;return t}(t)+1,e=`${t}, ${e}`),Rp(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),wA(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){bA(this._element,this._name,"paused")}resume(){bA(this._element,this._name,"running")}setPosition(e){const t=OA(this._element,this._name);this._position=e*this._duration,Rp(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),wA(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const i=x0(n,"").split(","),r=C0(i,e);r>=0&&(i.splice(r,1),Rp(n,"",i.join(",")))}(this._element,this._name))}}function bA(n,e,t){Rp(n,"PlayState",t,OA(n,e))}function OA(n,e){const t=x0(n,"");return t.indexOf(",")>0?C0(t.split(","),e):C0([t],e)}function C0(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function wA(n,e,t){t?n.removeEventListener(yA,e):n.addEventListener(yA,e)}function Rp(n,e,t,i){const r=vA+e;if(null!=i){const s=n.style[r];if(s.length){const o=s.split(",");o[i]=t,t=o.join(",")}}n.style[r]=t}function x0(n,e){return n.style[vA+e]||""}class CA{constructor(e,t,i,r,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new h7(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:d0(this.element,i))})}this.currentSnapshot=e}}class v7 extends lc{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Wk(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class SA{constructor(){this._count=0}validateStyleProperty(e){return e0(e)}matchesElement(e,t){return t0(e,t)}containsElement(e,t){return n0(e,t)}query(e,t,i){return r0(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(a=>Wk(a));let r=`@keyframes ${t} {\n`,s="";i.forEach(a=>{s=" ";const l=parseFloat(a.offset);r+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(r+=`${s}animation-timing-function: ${u};\n`));default:return void(r+=`${s}${c}: ${u};\n`)}}),r+=`${s}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(e,t,i,r,s,o=[],a){const l=o.filter(v=>v instanceof CA),c={};Jk(i,r)&&l.forEach(v=>{let O=v.currentSnapshot;Object.keys(O).forEach(b=>c[b]=O[b])});const u=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(e[r]=i[r])})}),e}(t=eA(e,t,c));if(0==i)return new v7(e,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var t;const e=null==(t=n.getRootNode)?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(h);const p=_A(e,t),m=new CA(e,t,d,i,r,s,u,p);return m.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),m}}class TA{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:d0(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class C7{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(EA().toString()),this._cssKeyframesDriver=new SA}validateStyleProperty(e){return e0(e)}matchesElement(e,t){return t0(e,t)}containsElement(e,t){return n0(e,t)}query(e,t,i){return r0(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,r,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,r,s,o);const u={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(p=>p instanceof TA);Jk(i,r)&&h.forEach(p=>{let m=p.currentSnapshot;Object.keys(m).forEach(v=>d[v]=m[v])});const f=_A(e,t=eA(e,t=t.map(p=>Lo(p,!1)),d));return new TA(e,t,u,f)}}function EA(){return Bk()&&Element.prototype.animate||{}}let S7=(()=>{class n extends Fk{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Ir.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Nk(t):t;return MA(this._renderer,null,i,"register",[r]),new D7(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(U(Gu),U(lt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class D7 extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new T7(this._id,e,t||{},this._renderer)}}class T7{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return MA(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!=(t=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?t:0}}function MA(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const kA="@.disabled";let E7=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new AA("",s,this.engine),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new M7(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(U(Gu),U(Ap),U(it))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class AA{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==kA?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class M7 extends AA{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==kA?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let R7=(()=>{class n extends Ap{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(U(lt),U(s0),U(_0))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const ro=new pe("AnimationModuleType"),RA=[{provide:Fk,useClass:S7},{provide:_0,useFactory:function(){return new $q}},{provide:Ap,useClass:R7},{provide:Gu,useFactory:function(n,e,t){return new E7(n,e,t)},deps:[mp,Ap,it]}],IA=[{provide:s0,useFactory:function(){return"function"==typeof EA()?new C7:new SA}},{provide:ro,useValue:"BrowserAnimations"},...RA],N7=[{provide:s0,useClass:zk},{provide:ro,useValue:"NoopAnimations"},...RA];let L7=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?N7:IA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:IA,imports:[Ak]}),n})();function PA(...n){if(1===n.length){const e=n[0];if(P(e))return Pp(e,null);if(Ce(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Pp(t.map(i=>e[i]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Pp(n=1===n.length&&P(n[0])?n[0]:n,null).pipe(We(t=>e(...t)))}return Pp(n,null)}function Pp(n,e){return new Z(t=>{const i=n.length;if(0===i)return void t.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=Zn(n[a]);let c=!1;t.add(l.subscribe({next:u=>{c||(c=!0,o++),r[a]=u},error:u=>t.error(u),complete:()=>{s++,(s===i||!c)&&(o===i&&t.next(e?e.reduce((u,d,h)=>(u[d]=r[h],u),{}):r),t.complete())}}))}})}let FA=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(T(Ks),T(nt))},n.\u0275dir=de({type:n}),n})(),Ea=(()=>{class n extends FA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275dir=de({type:n,features:[Ae]}),n})();const nr=new pe("NgValueAccessor"),B7={provide:nr,useExisting:It(()=>ud),multi:!0},V7=new pe("CompositionEventMode");let ud=(()=>{class n extends FA{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=ms()?ms().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Ks),T(nt),T(V7,8))},n.\u0275dir=de({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&yt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ye([B7]),Ae]}),n})();function $o(n){return null==n||0===n.length}function LA(n){return null!=n&&"number"==typeof n.length}const ei=new pe("NgValidators"),Bo=new pe("NgAsyncValidators"),j7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class U7{static min(e){return function(n){return e=>{if($o(e.value)||$o(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if($o(e.value)||$o(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return $o(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return $o(n.value)||j7.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>$o(e.value)||!LA(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>LA(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return dd;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if($o(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return YA(e)}static composeAsync(e){return KA(e)}}function dd(n){return null}function zA(n){return null!=n}function qA(n){const e=Bu(n)?Zn(n):n;return Hy(e),e}function GA(n){let e={};return n.forEach(t=>{e=null!=t?be(be({},e),t):e}),0===Object.keys(e).length?null:e}function XA(n,e){return e.map(t=>t(n))}function ZA(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function YA(n){if(!n)return null;const e=n.filter(zA);return 0==e.length?null:function(t){return GA(XA(t,e))}}function S0(n){return null!=n?YA(ZA(n)):null}function KA(n){if(!n)return null;const e=n.filter(zA);return 0==e.length?null:function(t){return PA(XA(t,e).map(qA)).pipe(We(GA))}}function D0(n){return null!=n?KA(ZA(n)):null}function JA(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function eR(n){return n._rawValidators}function tR(n){return n._rawAsyncValidators}function T0(n){return n?Array.isArray(n)?n:[n]:[]}function Fp(n,e){return Array.isArray(n)?n.includes(e):n===e}function nR(n,e){const t=T0(e);return T0(n).forEach(r=>{Fp(t,r)||t.push(r)}),t}function iR(n,e){return T0(e).filter(t=>!Fp(n,t))}class rR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=S0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=D0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xi extends rR{get formDirective(){return null}get path(){return null}}class so extends rR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let E0=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(r=null==(i=this._cd)?void 0:i.control)?void 0:r[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(so,2))},n.\u0275dir=de({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Ht("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Ae]}),n})();function hd(n,e){A0(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oR(n,e)})}(n,e),function(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $p(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Qp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Bp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function A0(n,e){const t=eR(n);null!==e.validator?n.setValidators(JA(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=tR(n);null!==e.asyncValidator?n.setAsyncValidators(JA(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Bp(e._rawValidators,r),Bp(e._rawAsyncValidators,r)}function Qp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=eR(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=tR(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Bp(e._rawValidators,i),Bp(e._rawAsyncValidators,i),t}function oR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function aR(n,e){A0(n,e)}function lR(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Vp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const fd="VALID",jp="INVALID",dc="PENDING",pd="DISABLED";function P0(n){return(N0(n)?n.validators:n)||null}function cR(n){return Array.isArray(n)?S0(n):n||null}function F0(n,e){return(N0(e)?e.asyncValidators:n)||null}function uR(n){return Array.isArray(n)?D0(n):n||null}function N0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class L0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=cR(this._rawValidators),this._composedAsyncValidatorFn=uR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fd}get invalid(){return this.status===jp}get pending(){return this.status==dc}get disabled(){return this.status===pd}get enabled(){return this.status!==pd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=cR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=uR(e)}addValidators(e){this.setValidators(nR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(nR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iR(e,this._rawAsyncValidators))}hasValidator(e){return Fp(this._rawValidators,e)}hasAsyncValidator(e){return Fp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=dc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pd,this.errors=null,this._forEachChild(i=>{i.disable(jn(be({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(jn(be({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fd,this._forEachChild(i=>{i.enable(jn(be({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(jn(be({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fd||this.status===dc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pd:fd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=dc,this._hasOwnPendingAsyncValidator=!0;const t=qA(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=i instanceof $0?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof iG&&i.at(r)||null}),i}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new At,this.statusChanges=new At}_calculateStatus(){return this._allControlsDisabled()?pd:this.errors?jp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dc)?dc:this._anyControlsHaveStatus(jp)?jp:fd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){N0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Up extends L0{constructor(e=null,t,i){super(P0(t),F0(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class $0 extends L0{constructor(e,t,i){super(P0(t),F0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof Up?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class iG extends L0{constructor(e,t,i){super(P0(t),F0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Up?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const rG={provide:xi,useExisting:It(()=>Hp)},md=(()=>Promise.resolve(null))();let Hp=(()=>{class n extends xi{constructor(t,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new At,this.form=new $0({},S0(t),D0(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){md.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),hd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){md.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),Vp(this._directives,t)})}addFormGroup(t){md.then(()=>{const i=this._findContainer(t.path),r=new $0({});aR(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){md.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){md.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,lR(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(T(ei,10),T(Bo,10))},n.\u0275dir=de({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&yt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ye([rG]),Ae]}),n})();const oG={provide:so,useExisting:It(()=>Wp)},fR=(()=>Promise.resolve(null))();let Wp=(()=>{class n extends so{constructor(t,i,r,s){super(),this.control=new Up,this._registered=!1,this.update=new At,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===ud?t=s:function(n){return Object.getPrototypeOf(n.constructor)===Ea}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){fR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;fR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(T(xi,9),T(ei,10),T(Bo,10),T(nr,10))},n.\u0275dir=de({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ye([oG]),Ae,wn]}),n})(),mR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({}),n})();const B0=new pe("NgModelWithFormControlWarning"),fG={provide:xi,useExisting:It(()=>zp)};let zp=(()=>{class n extends xi{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new At,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return hd(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){$p(t.control||null,t,!1),Vp(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,lR(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&($p(i||null,t),r instanceof Up&&(hd(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);aR(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function(n,e){return Qp(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){A0(this.form,this),this._oldForm&&Qp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(T(ei,10),T(Bo,10))},n.\u0275dir=de({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&yt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ye([fG]),Ae,wn]}),n})(),AR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[mR]]}),n})(),AG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[AR]}),n})(),RG=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:B0,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[AR]}),n})();const Ma=new Z(n=>n.complete());function Gp(n){return n?function(n){return new Z(e=>n.schedule(()=>e.complete()))}(n):Ma}function hc(n){return new Z(e=>{let t;try{t=n()}catch(r){return void e.error(r)}return(t?Zn(t):Gp()).subscribe(e)})}function z0(n,e){return new Z(e?t=>e.schedule(PG,0,{error:n,subscriber:t}):t=>t.error(n))}function PG({error:n,subscriber:e}){e.error(n)}function vs(n,e,t,i){return fe(t)&&(i=t,t=void 0),i?vs(n,e,t).pipe(We(r=>P(r)?i(...r):i(r))):new Z(r=>{RR(n,e,function(o){r.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},r,t)})}function RR(n,e,t,i,r){let s;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(e,t,r),s=()=>o.removeEventListener(e,t,r)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(e,t),s=()=>o.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(e,t),s=()=>o.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)RR(n[o],e,t,i,r)}i.add(s)}function Ne(...n){let e=n[n.length-1];return ml(e)?(n.pop(),J_(n,e)):ev(n)}function gd(...n){return cu(1)(Ne(...n))}function oo(){}const Qo=new Z(oo);function Qt(n,e){return function(i){return i.lift(new BG(n,e))}}class BG{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new QG(e,this.predicate,this.thisArg))}}class QG extends Q{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}function Li(n,e){return"function"==typeof e?t=>t.pipe(Li((i,r)=>Zn(n(i,r)).pipe(We((s,o)=>e(i,s,r,o))))):t=>t.lift(new VG(n))}class VG{constructor(e){this.project=e}call(e,t){return t.subscribe(new jG(e,this.project))}}class jG extends au{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new ou(this),r=this.destination;r.add(i),this.innerSubscription=lu(e,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const IR=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function sn(n){return e=>0===n?Gp():e.lift(new HG(n))}class HG{constructor(e){if(this.total=e,this.total<0)throw new IR}call(e,t){return t.subscribe(new WG(e,this.total))}}class WG extends Q{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function Bn(n,e,t){return function(r){return r.lift(new zG(n,e,t))}}class zG{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new qG(e,this.nextOrObserver,this.error,this.complete))}}class qG extends Q{constructor(e,t,i,r){super(e),this._tapNext=oo,this._tapError=oo,this._tapComplete=oo,this._tapError=i||oo,this._tapComplete=r||oo,fe(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||oo,this._tapError=t.error||oo,this._tapComplete=t.complete||oo)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class GG extends ${constructor(e,t){super()}schedule(e,t=0){return this}}class Xp extends GG{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let PR=(()=>{class n{constructor(t,i=n.now){this.SchedulerAction=t,this.now=i}schedule(t,i=0,r){return new this.SchedulerAction(this,t).schedule(r,i)}}return n.now=()=>Date.now(),n})();class zr extends PR{constructor(e,t=PR.now){super(e,()=>zr.delegate&&zr.delegate!==this?zr.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return zr.delegate&&zr.delegate!==this?zr.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Zp=new zr(Xp);class $i{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return Ne(this.value);case"E":return z0(this.error);case"C":return Gp()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new $i("N",e):$i.undefinedValueNotification}static createError(e){return new $i("E",void 0,e)}static createComplete(){return $i.completeNotification}}$i.completeNotification=new $i("C"),$i.undefinedValueNotification=new $i("N",void 0);class ZG{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new q0(e,this.delay,this.scheduler))}}class q0 extends Q{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,r=e.scheduler,s=e.destination;for(;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(s);if(i.length>0){const o=Math.max(0,i[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(q0.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new YG(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification($i.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification($i.createComplete()),this.unsubscribe()}}class YG{constructor(e,t){this.time=e,this.notification=t}}const _d="Service workers are disabled or not supported by this browser";class Yp{constructor(e){if(this.serviceWorker=e,e){const i=vs(e,"controllerchange").pipe(We(()=>e.controller)),s=gd(hc(()=>Ne(e.controller)),i);this.worker=s.pipe(Qt(u=>!!u)),this.registration=this.worker.pipe(Li(()=>e.getRegistration()));const c=vs(e,"message").pipe(We(u=>u.data)).pipe(Qt(u=>u&&u.type)).pipe(nv(new Ie));c.connect(),this.events=c}else this.worker=this.events=this.registration=hc(()=>z0(new Error("Service workers are disabled or not supported by this browser")))}postMessage(e,t){return this.worker.pipe(sn(1),Bn(i=>{i.postMessage(be({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),s=this.postMessage(e,t);return Promise.all([s,r]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(Qt(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(sn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Qt(t=>t.nonce===e),sn(1),We(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let JG=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Ie,!t.isEnabled)return this.messages=Qo,this.notificationClicks=Qo,void(this.subscription=Qo);this.messages=this.sw.eventsOfType("PUSH").pipe(We(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(We(r=>r.data)),this.pushManager=this.sw.registration.pipe(We(r=>r.pushManager));const i=this.pushManager.pipe(Li(r=>r.getSubscription()));this.subscription=ts(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(_d));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return i.applicationServerKey=s,this.pushManager.pipe(Li(o=>o.subscribe(i)),sn(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(sn(1),Li(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(_d))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(U(Yp))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),eX=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Qo,this.available=Qo,this.activated=Qo,void(this.unrecoverable=Qo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(Qt(i=>"VERSION_READY"===i.type),We(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_d));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_d));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(U(Yp))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class G0{}const NR=new pe("NGSW_REGISTER_SCRIPT");function tX(n,e,t,i){return()=>{if(!Bb(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[a,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=Ne(null);break;case"registerWithDelay":s=LR(+l[0]||0);break;case"registerWhenStable":s=l[0]?ts($R(n),LR(+l[0])):$R(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(it).runOutsideAngular(()=>s.pipe(sn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function LR(n){return Ne(null).pipe(function(n,e=Zp){const i=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-e.now():Math.abs(n);return r=>r.lift(new ZG(i,e))}(n))}function $R(n){return n.get(ba).isStable.pipe(Qt(t=>t))}function nX(n,e){return new Yp(Bb(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let iX=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:NR,useValue:t},{provide:G0,useValue:i},{provide:Yp,useFactory:nX,deps:[G0,ya]},{provide:td,useFactory:tX,deps:[Gt,NR,G0,ya],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[JG,eX]}),n})();function Kp(n){return n&&"function"==typeof n.connect}class BR{applyChanges(e,t,i,r,s){e.forEachOperation((o,a,l)=>{let c,u;if(null==o.previousIndex){const d=i(o,a,l);c=t.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else null==l?(t.remove(a),u=3):(c=t.get(a),t.move(c,l),u=2);s&&s({context:null==c?void 0:c.context,operation:u,record:o})})}detach(){}}const vd=new pe("_ViewRepeater");class Bi extends Ie{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new et;return this._value}next(e){super.next(this._value=e)}}function Lt(n){return e=>e.lift(new rX(n))}class rX{constructor(e){this.notifier=e}call(e,t){const i=new sX(e),r=lu(this.notifier,new ou(i));return r&&!i.seenValue?(i.add(r),t.subscribe(i)):i}}class sX extends au{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Vt(n){return null!=n&&"false"!=`${n}`}function ka(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Jp(n){return Array.isArray(n)?n:[n]}function En(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ao(n){return n instanceof nt?n.nativeElement:n}const aX=new pe("cdk-dir-doc",{providedIn:"root",factory:function(){return $v(lt)}});let Z0,lo=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new At,t){const r=t.documentElement?t.documentElement.dir:null,s=(t.body?t.body.dir:null)||r;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(U(aX,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({}),n})(),gX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({}),n})();try{Z0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Z0=!1}let fc,zn=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Bb(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Z0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(U(ya))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Od=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({}),n})();const HR=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function WR(){if(fc)return fc;if("object"!=typeof document||!document)return fc=new Set(HR),fc;let n=document.createElement("input");return fc=new Set(HR.filter(e=>(n.setAttribute("type",e),n.type===e))),fc}let wd,tm,Ia,Y0;function Ra(n){return function(){if(null==wd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wd=!0}))}finally{wd=wd||!1}return wd}()?n:!!n.capture}function zR(){if(null==Ia){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ia=!1,Ia;if("scrollBehavior"in document.documentElement.style)Ia=!0;else{const n=Element.prototype.scrollTo;Ia=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ia}function Cd(){if("object"!=typeof document||!document)return 0;if(null==tm){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),tm=0,0===n.scrollLeft&&(n.scrollLeft=1,tm=0===n.scrollLeft?1:2),n.remove()}return tm}function K0(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Vo(n){return n.composedPath?n.composedPath()[0]:n.target}function J0(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function jo(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function rm(n,e=Zp){return t=>t.lift(new IX(n,e))}class IX{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new PX(e,this.dueTime,this.scheduler))}}class PX extends Q{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(FX,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function FX(n){n.debouncedNext()}function ZR(n){return e=>e.lift(new NX(n))}class NX{constructor(e){this.total=e}call(e,t){return t.subscribe(new LX(e,this.total))}}class LX extends Q{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function YR(n,e){return t=>t.lift(new $X(n,e))}class $X{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new BX(e,this.compare,this.keySelector))}}class BX extends Q{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:r}=this;t=r?r(e):e}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}let KR=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QX=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=ao(t);return new Z(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Ie,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(U(KR))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JR=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new At,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Vt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ka(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(rm(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null==(t=this._currentSubscription)||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(T(QX),T(nt),T(it))},n.\u0275dir=de({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),sm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[KR]}),n})(),tO=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===iI(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=iI(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||nI(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(U(zn))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nI(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function iI(n){if(!nI(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class tZ{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(sn(1)).subscribe(e)}}let rI=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new tZ(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(U(tO),U(it),U(lt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sI(n){return 0===n.offsetX&&0===n.offsetY}function oI(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const nZ=new pe("cdk-input-modality-detector-options"),iZ={ignoreKeys:[18,17,224,91,16]},pc=Ra({passive:!0,capture:!0});let rZ=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Bi(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null==(l=null==(a=this._options)?void 0:a.ignoreKeys)?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Vo(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sI(o)?"keyboard":"mouse"),this._mostRecentTarget=Vo(o))},this._onTouchstart=o=>{oI(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vo(o))},this._options=be(be({},iZ),s),this.modalityDetected=this._modality.pipe(ZR(1)),this.modalityChanged=this.modalityDetected.pipe(YR()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,pc),r.addEventListener("mousedown",this._onMousedown,pc),r.addEventListener("touchstart",this._onTouchstart,pc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,pc),document.removeEventListener("mousedown",this._onMousedown,pc),document.removeEventListener("touchstart",this._onTouchstart,pc))}}return n.\u0275fac=function(t){return new(t||n)(U(zn),U(it),U(lt),U(nZ,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sZ=new pe("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),aZ=new pe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let lZ=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(a=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,a(),"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null==(t=this._liveElement)||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(U(sZ,8),U(it),U(lt),U(aZ,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cZ=new pe("cdk-focus-monitor-default-options"),om=Ra({passive:!0,capture:!0});let xd=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ie,this._rootNodeFocusAndBlurListener=a=>{const l=Vo(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,i=!1){const r=ao(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ne(null);const s=function(n){if(function(){if(null==Y0){const n="undefined"!=typeof document?document.head:null;Y0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Y0}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new Ie,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=ao(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=ao(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Vo(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,om),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,om)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Lt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,om),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,om),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(U(it),U(zn),U(rZ),U(lt,8),U(cZ,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lI="cdk-high-contrast-black-on-white",cI="cdk-high-contrast-white-on-black",nO="cdk-high-contrast-active";let uI=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(nO),t.remove(lI),t.remove(cI),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(nO),t.add(lI)):2===i&&(t.add(nO),t.add(cI))}}}return n.\u0275fac=function(t){return new(t||n)(U(zn),U(lt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dI=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(U(uI))},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[Od,sm]]}),n})();function ys(...n){const e=n[n.length-1];return ml(e)?(n.pop(),t=>gd(n,t,e)):t=>gd(n,t)}const dZ=new pe("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let mt=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!J0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(U(uI),U(dZ,8),U(lt))},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[yd],yd]}),n})();function iO(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Vt(e)}}}function Sd(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function mc(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Vt(e)}}}function fZ(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Ie,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let pI=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=de({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Dd(n,e,t){n.nativeElement.classList.toggle(e,t)}let _I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[mt],mt]}),n})();class mZ{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vI={enterDuration:225,exitDuration:150},rO=Ra({passive:!0}),yI=["mousedown","touchstart"],bI=["mouseup","mouseleave","touchend","touchcancel"];class _Z{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ao(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=be(be({},vI),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new mZ(this,u,i);return d.state=0,this._activeRipples.add(d),i.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!i.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=be(be({},vI),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ao(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(yI))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(bI),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=sI(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!oI(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,rO)})})}_removeTriggerEvents(){this._triggerElement&&(yI.forEach(e=>{this._triggerElement.removeEventListener(e,this,rO)}),this._pointerUpEventsRegistered&&bI.forEach(e=>{this._triggerElement.removeEventListener(e,this,rO)}))}}const bZ=new pe("mat-ripple-global-options");let gc=(()=>{class n{constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new _Z(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:be(be(be({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,be(be({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,be(be({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(T(nt),T(it),T(zn),T(bZ,8),T(ro,8))},n.\u0275dir=de({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&Ht("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Pa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[mt,Od],mt]}),n})(),sO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[mt]]}),n})(),am=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[Pa,Wr,mt,sO]]}),n})();new class extends zr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,r=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends Xp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let EZ=1;const MZ=Promise.resolve(),lm={};function OI(n){return n in lm&&(delete lm[n],!0)}const wI={setImmediate(n){const e=EZ++;return lm[e]=!0,MZ.then(()=>OI(e)&&n()),e},clearImmediate(n){OI(n)}};new class extends zr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,r=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends Xp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=wI.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(wI.clearImmediate(t),e.scheduled=void 0)}});class PZ{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new FZ(e,this.durationSelector))}}class FZ extends au{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:r}=this;t=r(e)}catch(r){return this.destination.error(r)}const i=lu(t,new ou(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function CI(n){return!P(n)&&n-parseFloat(n)+1>=0}function LZ(n){const{index:e,period:t,subscriber:i}=n;if(i.next(e),!i.closed){if(-1===t)return i.complete();n.index=e+1,this.schedule(n,t)}}function xI(n,e=Zp){return function(n){return function(t){return t.lift(new PZ(n))}}(()=>function(n=0,e,t){let i=-1;return CI(e)?i=Number(e)<1?1:Number(e):ml(e)&&(t=e),ml(t)||(t=Zp),new Z(r=>{const s=CI(n)?n:+n-t.now();return t.schedule(LZ,s,{index:0,period:i,subscriber:r})})}(n,e))}let cm=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Ie,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Z(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(xI(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ne()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Qt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ao(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(U(it),U(zn),U(lt,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),um=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Ie,this._elementScrolled=new Z(o=>this.ngZone.runOutsideAngular(()=>vs(this.elementRef.nativeElement,"scroll").pipe(Lt(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Cd()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Cd()?t.left=t.right:1==Cd()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;zR()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==Cd()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Cd()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(T(nt),T(cm),T(it),T(lo,8))},n.\u0275dir=de({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Td=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Ie,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xI(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(U(zn),U(it),U(lt,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({}),n})(),oO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[yd,Od,Uo],yd,Uo]}),n})();class aO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Ed extends aO{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class dm extends aO{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class QZ extends aO{constructor(e){super(),this.element=e instanceof nt?e.nativeElement:e}}class hm{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Ed?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof dm?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof QZ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class VZ extends hm{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let fm=(()=>{class n extends hm{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new At,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(T(Ro),T(Ln),T(lt))},n.\u0275dir=de({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ae]}),n})(),pm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({}),n})();const SI=zR();class jZ{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=En(-this._previousScrollPosition.left),e.style.top=En(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),SI&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),SI&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class UZ{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class DI{enable(){}disable(){}attach(){}}function lO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function TI(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class HZ{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();lO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let WZ=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new DI,this.close=o=>new UZ(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new jZ(this._viewportRuler,this._document),this.reposition=o=>new HZ(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(U(cm),U(Td),U(it),U(lt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mm{constructor(e){if(this.scrollStrategy=new DI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class zZ{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let EI=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(U(lt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qZ=(()=>{class n extends EI{constructor(t){super(t),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(U(lt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GZ=(()=>{class n extends EI{constructor(t,i){super(t),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Vo(r)},this._clickListener=r=>{const s=Vo(r),o="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let l=a.length-1;l>-1;l--){const c=a[l];if(!(c._outsidePointerEvents.observers.length<1)&&c.hasAttached()){if(c.overlayElement.contains(s)||c.overlayElement.contains(o))break;c._outsidePointerEvents.next(r)}}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(U(lt),U(zn))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cO=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null==(t=this._containerElement)||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||J0()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),J0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(U(lt),U(zn))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XZ{constructor(e,t,i,r,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ie,this._attachments=new Ie,this._detachments=new Ie,this._locationChanges=$.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new Ie,this._outsidePointerEvents=new Ie,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(sn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(t=this._host)||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=be(be({},this._config),e),this._updateElementSize()}setDirection(e){this._config=jn(be({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=En(this._config.width),e.height=En(this._config.height),e.minWidth=En(this._config.minWidth),e.minHeight=En(this._config.minHeight),e.maxWidth=En(this._config.maxWidth),e.maxHeight=En(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const r=Jp(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Lt(ts(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const MI="cdk-overlay-connected-position-bounding-box",ZZ=/([A-Za-z%]+)$/;class YZ{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ie,this._resizeSubscription=$.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(MI),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),c=this._getOverlayFit(l,t,i,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,i)?r.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(r.length){let o=null,a=-1;for(const l of r){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(MI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,r;if("center"==t.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;i="start"==t.originX?s:o}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:r}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=AI(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),m=this._subtractOverflows(s.height,h,f),v=p*m;return{visibleArea:v,isCompletelyWithinViewport:s.width*s.height===v,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=kI(this._overlayRef.getConfig().minHeight),a=kI(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=r)&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=AI(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new zZ(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=En(i.height),r.top=En(i.top),r.bottom=En(i.bottom),r.width=En(i.width),r.left=En(i.left),r.right=En(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=En(s)),o&&(r.maxWidth=En(o))}this._lastBoundingBoxSize=i,Fa(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Fa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Fa(i,this._getExactOverlayY(t,e,u)),Fa(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=En(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=En(o.maxWidth):s&&(i.maxWidth="")),Fa(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=En(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=En(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:TI(e,i),isOriginOutsideView:lO(e,i),isOverlayClipped:TI(t,i),isOverlayOutsideView:lO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Jp(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof nt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Fa(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function kI(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(ZZ);return t&&"px"!==t?null:parseFloat(e)}return n||null}function AI(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const RI="cdk-global-overlay-wrapper";class KZ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(RI),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(RI),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let JZ=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new KZ}flexibleConnectedTo(t){return new YZ(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(U(Td),U(lt),U(zn),U(cO))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eY=0,bs=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new mm(t);return o.direction=o.direction||this._directionality.value,new XZ(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+eY++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ba)),new VZ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(U(WZ),U(cO),U(Ro),U(JZ),U(qZ),U(Gt),U(it),U(lt),U(lo),U(id),U(GZ))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const iY={provide:new pe("cdk-connected-overlay-scroll-strategy"),deps:[bs],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let _c=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[bs,iY],imports:[[yd,pm,oO],oO]}),n})();const rY=["connectionContainer"],sY=["inputContainer"],oY=["label"];function aY(n,e){1&n&&(us(0),oe(1,"div",14),Pt(2,"div",15),Pt(3,"div",16),Pt(4,"div",17),ae(),oe(5,"div",18),Pt(6,"div",15),Pt(7,"div",16),Pt(8,"div",17),ae(),ds())}function lY(n,e){if(1&n){const t=hs();oe(0,"div",19),yt("cdkObserveContent",function(){return fr(t),en().updateOutlineGap()}),Tt(1,1),ae()}2&n&&qe("cdkObserveContentDisabled","outline"!=en().appearance)}function cY(n,e){if(1&n&&(us(0),Tt(1,2),oe(2,"span"),at(3),ae(),ds()),2&n){const t=en(2);$e(3),Kl(t._control.placeholder)}}function uY(n,e){1&n&&Tt(0,3,["*ngSwitchCase","true"])}function dY(n,e){1&n&&(oe(0,"span",23),at(1," *"),ae())}function hY(n,e){if(1&n){const t=hs();oe(0,"label",20,21),yt("cdkObserveContent",function(){return fr(t),en().updateOutlineGap()}),vt(2,cY,4,1,"ng-container",12),vt(3,uY,1,0,"ng-content",12),vt(4,dY,2,0,"span",22),ae()}if(2&n){const t=en();Ht("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),qe("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Xt("for",t._control.id)("aria-owns",t._control.id),$e(2),qe("ngSwitchCase",!1),$e(1),qe("ngSwitchCase",!0),$e(1),qe("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function fY(n,e){1&n&&(oe(0,"div",24),Tt(1,4),ae())}function pY(n,e){if(1&n&&(oe(0,"div",25),Pt(1,"span",26),ae()),2&n){const t=en();$e(1),Ht("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function mY(n,e){1&n&&(oe(0,"div"),Tt(1,5),ae()),2&n&&qe("@transitionMessages",en()._subscriptAnimationState)}function gY(n,e){if(1&n&&(oe(0,"div",30),at(1),ae()),2&n){const t=en(2);qe("id",t._hintLabelId),$e(1),Kl(t.hintLabel)}}function _Y(n,e){if(1&n&&(oe(0,"div",27),vt(1,gY,2,2,"div",28),Tt(2,6),Pt(3,"div",29),Tt(4,7),ae()),2&n){const t=en();qe("@transitionMessages",t._subscriptAnimationState),$e(1),qe("ngIf",t.hintLabel)}}const vY=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yY=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],bY=new pe("MatError"),OY={transitionMessages:gs("transitionMessages",[Jn("enter",Ft({opacity:1,transform:"translateY(0%)"})),Wn("void => enter",[Ft({opacity:0,transform:"translateY(-5px)"}),Kn("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let uO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=de({type:n}),n})();const wY=new pe("MatHint");let gm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=de({type:n,selectors:[["mat-label"]]}),n})(),CY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=de({type:n,selectors:[["mat-placeholder"]]}),n})();const xY=new pe("MatPrefix"),SY=new pe("MatSuffix");let II=0;const TY=Sd(class{constructor(n){this._elementRef=n}},"primary"),EY=new pe("MAT_FORM_FIELD_DEFAULT_OPTIONS"),dO=new pe("MatFormField");let FI=(()=>{class n extends TY{constructor(t,i,r,s,o,a,l){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ie,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+II++,this._labelId="mat-form-field-label-"+II++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Vt(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ys(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Lt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Lt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),ts(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ys(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ys(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Lt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,vs(this._label.nativeElement,"transitionend").pipe(sn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,r=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),a=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const l=s.getBoundingClientRect();if(0===l.width&&0===l.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const c=this._getStartEnd(l),u=t.children,d=this._getStartEnd(u[0].getBoundingClientRect());let h=0;for(let f=0;f<u.length;f++)h+=u[f].offsetWidth;i=Math.abs(d-c)-5,r=h>0?.75*h+10:0}for(let l=0;l<o.length;l++)o[l].style.width=`${i}px`;for(let l=0;l<a.length;l++)a[l].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(T(nt),T(pi),T(lo,8),T(EY,8),T(zn),T(it),T(ro,8))},n.\u0275cmp=ft({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(Rt(r,uO,5),Rt(r,uO,7),Rt(r,gm,5),Rt(r,gm,7),Rt(r,CY,5),Rt(r,bY,5),Rt(r,wY,5),Rt(r,xY,5),Rt(r,SY,5)),2&t){let s;Ve(s=je())&&(i._controlNonStatic=s.first),Ve(s=je())&&(i._controlStatic=s.first),Ve(s=je())&&(i._labelChildNonStatic=s.first),Ve(s=je())&&(i._labelChildStatic=s.first),Ve(s=je())&&(i._placeholderChild=s.first),Ve(s=je())&&(i._errorChildren=s),Ve(s=je())&&(i._hintChildren=s),Ve(s=je())&&(i._prefixChildren=s),Ve(s=je())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(Sn(rY,7),Sn(sY,5),Sn(oY,5)),2&t){let r;Ve(r=je())&&(i._connectionContainerRef=r.first),Ve(r=je())&&(i._inputContainerRef=r.first),Ve(r=je())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&Ht("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Ye([{provide:dO,useExisting:n}]),Ae],ngContentSelectors:yY,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(Hn(vY),oe(0,"div",0),oe(1,"div",1,2),yt("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),vt(3,aY,9,0,"ng-container",3),vt(4,lY,2,1,"div",4),oe(5,"div",5,6),Tt(7),oe(8,"span",7),vt(9,hY,5,16,"label",8),ae(),ae(),vt(10,fY,2,0,"div",9),ae(),vt(11,pY,2,4,"div",10),oe(12,"div",11),vt(13,mY,2,1,"div",12),vt(14,_Y,5,2,"div",13),ae(),ae()),2&t&&($e(3),qe("ngIf","outline"==i.appearance),$e(1),qe("ngIf",i._prefixChildren.length),$e(5),qe("ngIf",i._hasFloatingLabel()),$e(1),qe("ngIf",i._suffixChildren.length),$e(1),qe("ngIf","outline"!=i.appearance),$e(1),qe("ngSwitch",i._getDisplayedMessages()),$e(1),qe("ngSwitchCase","error"),$e(1),qe("ngSwitchCase","hint"))},directives:[Ca,up,pk,JR],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[OY.transitionMessages]},changeDetection:0}),n})(),_m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[Wr,mt,sm],mt]}),n})();const RY={provide:new pe("mat-autocomplete-scroll-strategy"),deps:[bs],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let NY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[RY],imports:[[_c,am,mt,Wr],Uo,am,mt]}),n})();const LY=["mat-button",""],$Y=["*"],QY=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],VY=Sd(iO(mc(class{constructor(n){this._elementRef=n}})));let vc=(()=>{class n extends VY{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of QY)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(T(nt),T(xd),T(ro,8))},n.\u0275cmp=ft({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&Sn(gc,5),2&t){let r;Ve(r=je())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(Xt("disabled",i.disabled||null),Ht("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ae],attrs:LY,ngContentSelectors:$Y,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(Hn(),oe(0,"span",0),Tt(1),ae(),Pt(2,"span",1),Pt(3,"span",2)),2&t&&($e(2),Ht("mat-button-ripple-round",i.isRoundButton||i.isIconButton),qe("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[gc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),LI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[Pa,mt],mt]}),n})(),QI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({}),n})(),JY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[Pa,mt,sm,QI],mt,QI]}),n})();function eK(n,e){}class hO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const tK={dialogContainer:gs("dialogContainer",[Jn("void, exit",Ft({opacity:0,transform:"scale(0.7)"})),Jn("enter",Ft({transform:"none"})),Wn("* => enter",Kn("150ms cubic-bezier(0, 0, 0.2, 1)",Ft({transform:"none",opacity:1}))),Wn("* => void, * => exit",Kn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ft({opacity:0})))])};let nK=(()=>{class n extends hm{constructor(t,i,r,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new At,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const i=K0(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=K0())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=K0();return t===i||t.contains(i)}}return n.\u0275fac=function(t){return new(t||n)(T(nt),T(rI),T(pi),T(lt,8),T(hO),T(tO),T(it),T(xd))},n.\u0275dir=de({type:n,viewQuery:function(t,i){if(1&t&&Sn(fm,7),2&t){let r;Ve(r=je())&&(i._portalOutlet=r.first)}},features:[Ae]}),n})(),iK=(()=>{class n extends nK{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275cmp=ft({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,i){1&t&&Qu("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(ju("id",i._id),Xt("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Uu("@dialogContainer",i._state))},features:[Ae],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&vt(0,eK,0,0,"ng-template",0)},directives:[fm],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[tK.dialogContainer]}}),n})(),rK=0;class sK{constructor(e,t,i="mat-dialog-"+rK++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ie,this._afterClosed=new Ie,this._beforeClosed=new Ie,this._state=0,t._id=i,t._animationStateChanged.pipe(Qt(r=>"opened"===r.state),sn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Qt(r=>"closed"===r.state),sn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Qt(r=>27===r.keyCode&&!this.disableClose&&!jo(r))).subscribe(r=>{r.preventDefault(),VI(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():VI(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Qt(t=>"closing"===t.state),sn(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function VI(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const oK=new pe("MatDialogData"),aK=new pe("mat-dialog-default-options"),jI=new pe("mat-dialog-scroll-strategy"),cK={provide:jI,deps:[bs],useFactory:function(n){return()=>n.scrollStrategies.block()}};let uK=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._animationMode=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ie,this._afterOpenedAtThisLevel=new Ie,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=hc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ys(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){if(i=function(n,e){return be(be({},e),n)}(i,this._defaultOptions||new hO),i.id&&this.getDialogById(i.id),this._dialogAnimatingOpen)return this._lastDialogRef;const r=this._createOverlay(i),s=this._attachDialogContainer(r,i);if("NoopAnimations"!==this._animationMode){const a=s._animationStateChanged.subscribe(l=>{"opening"===l.state&&(this._dialogAnimatingOpen=!0),"opened"===l.state&&(this._dialogAnimatingOpen=!1,a.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new $),this._animationStateSubscriptions.add(a)}const o=this._attachDialogContent(t,s,r,i);return this._lastDialogRef=o,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const i=this._getOverlayConfig(t);return this._overlay.create(i)}_getOverlayConfig(t){const i=new mm({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachDialogContainer(t,i){const s=Gt.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:hO,useValue:i}]}),o=new Ed(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,i,r,s){const o=new this._dialogRefConstructor(r,i,s.id);if(t instanceof xn)i.attachTemplatePortal(new dm(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,i),l=i.attachComponentPortal(new Ed(t,s.viewContainerRef,a));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,i,r){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!s||!s.get(lo,null,st.Optional))&&o.push({provide:lo,useValue:{value:t.direction,change:Ne()}}),Gt.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){Bf()},n.\u0275dir=de({type:n}),n})(),dK=(()=>{class n extends uK{constructor(t,i,r,s,o,a,l,c){super(t,i,s,a,l,o,sK,iK,oK,c)}}return n.\u0275fac=function(t){return new(t||n)(U(bs),U(Gt),U(id,8),U(aK,8),U(jI),U(n,12),U(cO),U(ro,8))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),fK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[dK,cK],imports:[[_c,pm,mt],mt]}),n})();function Ho(n){return function(t){const i=new pK(n),r=t.lift(i);return i.caught=r}}class pK{constructor(e){this.selector=e}call(e,t){return t.subscribe(new mK(e,this.selector,this.caught))}}class mK extends au{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new ou(this);this.add(i);const r=lu(t,i);r!==i&&this.add(r)}}}function UI(n){return e=>e.lift(new gK(n))}class gK{constructor(e){this.callback=e}call(e,t){return t.subscribe(new _K(e,this.callback))}}class _K extends Q{constructor(e,t){super(e),this.add(new $(t))}}function yc(n,e){return Yn(n,e,1)}class HI{}class WI{}class co{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof co?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new co;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof co?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vK{encodeKey(e){return zI(e)}encodeValue(e){return zI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bK=/%(\d[a-f0-9])/gi,OK={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function zI(n){return encodeURIComponent(n).replace(bK,(e,t)=>{var i;return null!=(i=OK[t])?i:e})}function qI(n){return`${n}`}class Wo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Wo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(qI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(qI(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class wK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function GI(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function XI(n){return"undefined"!=typeof Blob&&n instanceof Blob}function ZI(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Md{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new co),this.context||(this.context=new wK),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Wo,this.urlWithParams=t}serializeBody(){return null===this.body?null:GI(this.body)||XI(this.body)||ZI(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZI(this.body)?null:XI(this.body)?this.body.type||null:GI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var d;const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!=(d=e.context)?d:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),c)),new Md(t,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var Mn=(()=>((Mn=Mn||{})[Mn.Sent=0]="Sent",Mn[Mn.UploadProgress=1]="UploadProgress",Mn[Mn.ResponseHeader=2]="ResponseHeader",Mn[Mn.DownloadProgress=3]="DownloadProgress",Mn[Mn.Response=4]="Response",Mn[Mn.User=5]="User",Mn))();class fO{constructor(e,t=200,i="OK"){this.headers=e.headers||new co,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class pO extends fO{constructor(e={}){super(e),this.type=Mn.ResponseHeader}clone(e={}){return new pO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vm extends fO{constructor(e={}){super(e),this.type=Mn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new vm({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class YI extends fO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function mO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let gO=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Md)s=t;else{let l,c;l=r.headers instanceof co?r.headers:new co(r.headers),r.params&&(c=r.params instanceof Wo?r.params:new Wo({fromObject:r.params})),s=new Md(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Ne(s).pipe(yc(l=>this.handler.handle(l)));if(t instanceof Md||"events"===r.observe)return o;const a=o.pipe(Qt(l=>l instanceof vm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(We(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(We(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(We(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(We(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Wo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,mO(r,i))}post(t,i,r={}){return this.request("POST",t,mO(r,i))}put(t,i,r={}){return this.request("PUT",t,mO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(U(HI))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();class KI{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const JI=new pe("HTTP_INTERCEPTORS");let SK=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const DK=/^\)\]\}',?\n/;let eP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Z(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((f,p)=>r.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&r.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();r.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===r.status?204:r.status,p=r.statusText||"OK",m=new co(r.getAllResponseHeaders()),v=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return o=new pO({headers:m,status:f,statusText:p,url:v}),o},l=()=>{let{headers:f,status:p,statusText:m,url:v}=a(),O=null;204!==p&&(O=void 0===r.response?r.responseText:r.response),0===p&&(p=O?200:0);let b=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof O){const x=O;O=O.replace(DK,"");try{O=""!==O?JSON.parse(O):null}catch(I){O=x,b&&(b=!1,O={error:I,text:O})}}b?(i.next(new vm({body:O,headers:f,status:p,statusText:m,url:v||void 0})),i.complete()):i.error(new YI({error:O,headers:f,status:p,statusText:m,url:v||void 0}))},c=f=>{const{url:p}=a(),m=new YI({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:p||void 0});i.error(m)};let u=!1;const d=f=>{u||(i.next(a()),u=!0);let p={type:Mn.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!r.responseText&&(p.partialText=r.responseText),i.next(p)},h=f=>{let p={type:Mn.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),i.next(p)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),t.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",h)),r.send(s),i.next({type:Mn.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),t.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(U(bk))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const _O=new pe("XSRF_COOKIE_NAME"),vO=new pe("XSRF_HEADER_NAME");class tP{}let EK=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=uk(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(U(lt),U(ya),U(_O))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),yO=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(U(tP),U(vO))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),MK=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(JI,[]);this.chain=i.reduceRight((r,s)=>new KI(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(U(WI),U(Gt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),kK=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:yO,useClass:SK}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:_O,useValue:t.cookieName}:[],t.headerName?{provide:vO,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[yO,{provide:JI,useExisting:yO,multi:!0},{provide:tP,useClass:EK},{provide:_O,useValue:"XSRF-TOKEN"},{provide:vO,useValue:"X-XSRF-TOKEN"}]}),n})(),AK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[gO,{provide:HI,useClass:MK},eP,{provide:WI,useExisting:eP}],imports:[[kK.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const RK=["*"];let ym;function kd(n){var e;return(null==(e=function(){if(void 0===ym&&(ym=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(ym=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ym}())?void 0:e.createHTML(n))||n}function nP(n){return Error(`Unable to find icon with the name "${n}"`)}function iP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function rP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Na{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let bm=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Na(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(Nt.HTML,r);if(!o)throw rP(r);const a=kd(o);return this._addSvgIconConfig(t,i,new Na("",a,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Na(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(Nt.HTML,i);if(!s)throw rP(i);const o=kd(s);return this._addSvgIconSetConfig(t,new Na("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Nt.RESOURCE_URL,t);if(!i)throw iP(t);const r=this._cachedIconsByUrl.get(i);return r?Ne(Om(r)):this._loadSvgIconFromConfig(new Na(t,null)).pipe(Bn(s=>this._cachedIconsByUrl.set(i,s)),We(s=>Om(s)))}getNamedSvgIcon(t,i=""){const r=sP(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):z0(nP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ne(Om(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(We(i=>Om(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Ne(r):PA(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ho(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Nt.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Ne(null)})))).pipe(We(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw nP(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Bn(i=>t.svgText=i),We(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ne(null):this._fetchIcon(t).pipe(Bn(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(kd("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(kd("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var c;const{url:i,options:r}=t,s=null!=(c=null==r?void 0:r.withCredentials)&&c;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(Nt.RESOURCE_URL,i);if(!o)throw iP(i);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(We(u=>kd(u)),UI(()=>this._inProgressUrlFetches.delete(o)),mS());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(sP(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return NK(s)?new Na(s.url,null,s.options):new Na(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(U(gO,8),U(zb),U(lt,8),U(qs))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Om(n){return n.cloneNode(!0)}function sP(n,e){return n+":"+e}function NK(n){return!(!n.url||!n.options)}const LK=Sd(class{constructor(n){this._elementRef=n}}),$K=new pe("mat-icon-location",{providedIn:"root",factory:function(){const n=$v(lt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),oP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],QK=oP.map(n=>`[${n}]`).join(", "),VK=/^url\(['"]?#(.*?)['"]?\)$/;let aP=(()=>{class n extends LK{constructor(t,i,r,s,o){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=$.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Vt(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=t.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(QK),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)oP.forEach(o=>{const a=i[s],l=a.getAttribute(o),c=l?l.match(VK):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(sn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(T(nt),T(bm),zs("aria-hidden"),T($K),T(qs))},n.\u0275cmp=ft({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(Xt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Ht("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ae],ngContentSelectors:RK,decls:1,vars:0,template:function(t,i){1&t&&(Hn(),Tt(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),jK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[mt],mt]}),n})();const lP=Ra({passive:!0});let UK=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ma;const i=ao(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Ie,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,lP),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,lP)}}),s}stopMonitoring(t){const i=ao(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(U(zn),U(it))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[Od]]}),n})();const HK=new pe("MAT_INPUT_VALUE_ACCESSOR"),WK=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let zK=0;const qK=fZ(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let uP=(()=>{class n extends qK{constructor(t,i,r,s,o,a,l,c,u,d){super(a,s,o,r),this._elementRef=t,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+zK++,this.focused=!1,this.stateChanges=new Ie,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>WR().has(p));const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Vt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,s;return null!=(s=null!=(r=this._required)?r:null==(i=null==(t=this.ngControl)?void 0:t.control)?void 0:i.hasValidator(U7.required))&&s}set required(t){this._required=Vt(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&WR().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Vt(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var i,r;const t=(null==(r=null==(i=this._formField)?void 0:i._hideControlPlaceholder)?void 0:r.call(i))?null:this.placeholder;if(t!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=t,t?s.setAttribute("placeholder",t):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){WK.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(T(nt),T(zn),T(so,10),T(Hp,8),T(zp,8),T(pI),T(HK,10),T(UK),T(it),T(dO,8))},n.\u0275dir=de({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,i){1&t&&yt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(ju("disabled",i.disabled)("required",i.required),Xt("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),Ht("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ye([{provide:uO,useExisting:n}]),Ae,wn]}),n})(),GK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[pI],imports:[[cP,_m,mt],cP,_m]}),n})(),XK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[mt],mt]}),n})();const dP=["*"],YK=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],KK=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],iJ=iO(mc(class{})),rJ=mc(class{}),sJ=new pe("MatList"),hP=new pe("MatNavList");let oJ=(()=>{class n extends iJ{constructor(){super(...arguments),this._stateChanges=new Ie}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275cmp=ft({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[Ye([{provide:hP,useExisting:n}]),Ae,wn],ngContentSelectors:dP,decls:1,vars:0,template:function(t,i){1&t&&(Hn(),Tt(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),fP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=de({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),pP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=de({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),aJ=(()=>{class n extends rJ{constructor(t,i,r,s){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Ie,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const o=this._getHostElement();"button"===o.nodeName.toLowerCase()&&!o.hasAttribute("type")&&o.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Lt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=Vt(t)}ngAfterContentInit(){!function(n,e,t="mat"){n.changes.pipe(ys(n)).subscribe(({length:i})=>{Dd(e,`${t}-2-line`,!1),Dd(e,`${t}-3-line`,!1),Dd(e,`${t}-multi-line`,!1),2===i||3===i?Dd(e,`${t}-${i}-line`,!0):i>3&&Dd(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(T(nt),T(pi),T(hP,8),T(sJ,8))},n.\u0275cmp=ft({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(Rt(r,fP,5),Rt(r,pP,5),Rt(r,mI,5)),2&t){let s;Ve(s=je())&&(i._avatar=s.first),Ve(s=je())&&(i._icon=s.first),Ve(s=je())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&Ht("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Ae],ngContentSelectors:KK,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(Hn(YK),oe(0,"div",0),Pt(1,"div",1),Tt(2),oe(3,"div",2),Tt(4,1),ae(),Tt(5,2),ae()),2&t&&($e(1),qe("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[gc],encapsulation:2,changeDetection:0}),n})(),fJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[_I,Pa,mt,sO,Wr],_I,mt,sO,XK]}),n})();const _J={provide:new pe("mat-menu-scroll-strategy"),deps:[bs],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let vJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[_J],imports:[[Wr,mt,Pa,_c],Uo,mt]}),n})();const CJ={provide:new pe("mat-select-scroll-strategy"),deps:[bs],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let xJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[CJ],imports:[[Wr,_c,am,mt],Uo,_m,am,mt]}),n})();function vP(n){return e=>e.lift(new SJ(n))}class SJ{constructor(e){this.value=e}call(e,t){return t.subscribe(new DJ(e,this.value))}}class DJ extends Q{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}const wm=["*"];function TJ(n,e){if(1&n){const t=hs();oe(0,"div",2),yt("click",function(){return fr(t),en()._onBackdropClicked()}),ae()}2&n&&Ht("mat-drawer-shown",en()._isShowingBackdrop())}function EJ(n,e){1&n&&(oe(0,"mat-drawer-content"),Tt(1,2),ae())}const MJ=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],kJ=["mat-drawer","mat-drawer-content","*"];function AJ(n,e){if(1&n){const t=hs();oe(0,"div",2),yt("click",function(){return fr(t),en()._onBackdropClicked()}),ae()}2&n&&Ht("mat-drawer-shown",en()._isShowingBackdrop())}function RJ(n,e){1&n&&(oe(0,"mat-sidenav-content",3),Tt(1,2),ae())}const IJ=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],PJ=["mat-sidenav","mat-sidenav-content","*"],yP={transformDrawer:gs("transform",[Jn("open, open-instant",Ft({transform:"none",visibility:"visible"})),Jn("void",Ft({"box-shadow":"none",visibility:"hidden"})),Wn("void => open-instant",Kn("0ms")),Wn("void <=> open, open-instant => void",Kn("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},NJ=new pe("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),bO=new pe("MAT_DRAWER_CONTAINER");let Cm=(()=>{class n extends um{constructor(t,i,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(T(pi),T(It(()=>OP)),T(nt),T(cm),T(it))},n.\u0275cmp=ft({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&Zs("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[Ae],ngContentSelectors:wm,decls:1,vars:0,template:function(t,i){1&t&&(Hn(),Tt(0))},encapsulation:2,changeDetection:0}),n})(),bP=(()=>{class n{constructor(t,i,r,s,o,a,l,c){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=a,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ie,this._animationEnd=new Ie,this._animationState="void",this.openedChange=new At(!0),this._openedStream=this.openedChange.pipe(Qt(u=>u),We(()=>{})),this.openedStart=this._animationStarted.pipe(Qt(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),vP(void 0)),this._closedStream=this.openedChange.pipe(Qt(u=>!u),We(()=>{})),this.closedStart=this._animationStarted.pipe(Qt(u=>u.fromState!==u.toState&&"void"===u.toState),vP(void 0)),this._destroyed=new Ie,this.onPositionChanged=new At,this._modeChanged=new Ie,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{vs(this._elementRef.nativeElement,"keydown").pipe(Qt(u=>27===u.keyCode&&!this.disableClose&&!jo(u)),Lt(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(YR((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{const{fromState:d,toState:h}=u;(0===h.indexOf("open")&&"void"===d||"void"===h&&0===d.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Vt(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t)&&(t=Vt(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Vt(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var i;const t=null==(i=this._doc)?void 0:i.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(sn(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return n.\u0275fac=function(t){return new(t||n)(T(nt),T(rI),T(xd),T(zn),T(it),T(tO),T(lt,8),T(bO,8))},n.\u0275cmp=ft({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&Qu("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&t&&(Xt("align",null),Uu("@transform",i._animationState),Ht("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:wm,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){1&t&&(Hn(),oe(0,"div",0),Tt(1),ae())},directives:[um],encapsulation:2,data:{animation:[yP.transformDrawer]},changeDetection:0}),n})(),OP=(()=>{class n{constructor(t,i,r,s,o,a=!1,l){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new ic,this.backdropClick=new At,this._destroyed=new Ie,this._doCheckSubject=new Ie,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ie,t&&t.change.pipe(Lt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Lt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Vt(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Vt(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ys(this._allDrawers),Lt(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ys(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(rm(10),Lt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Qt(i=>i.fromState!==i.toState),Lt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Lt(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(Lt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(sn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Lt(ts(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(T(lo,8),T(nt),T(it),T(pi),T(Td),T(NJ),T(ro,8))},n.\u0275cmp=ft({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(Rt(r,Cm,5),Rt(r,bP,5)),2&t){let s;Ve(s=je())&&(i._content=s.first),Ve(s=je())&&(i._allDrawers=s)}},viewQuery:function(t,i){if(1&t&&Sn(Cm,5),2&t){let r;Ve(r=je())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&Ht("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ye([{provide:bO,useExisting:n}])],ngContentSelectors:kJ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(Hn(MJ),vt(0,TJ,1,2,"div",0),Tt(1),Tt(2,1),vt(3,EJ,2,0,"mat-drawer-content",1)),2&t&&(qe("ngIf",i.hasBackdrop),$e(3),qe("ngIf",!i._content))},directives:[Ca,Cm],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),OO=(()=>{class n extends Cm{constructor(t,i,r,s,o){super(t,i,r,s,o)}}return n.\u0275fac=function(t){return new(t||n)(T(pi),T(It(()=>CP)),T(nt),T(cm),T(it))},n.\u0275cmp=ft({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&Zs("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[Ae],ngContentSelectors:wm,decls:1,vars:0,template:function(t,i){1&t&&(Hn(),Tt(0))},encapsulation:2,changeDetection:0}),n})(),wP=(()=>{class n extends bP{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Vt(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=ka(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=ka(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275cmp=ft({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(Xt("align",null),Zs("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),Ht("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Ae],ngContentSelectors:wm,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){1&t&&(Hn(),oe(0,"div",0),Tt(1),ae())},directives:[um],encapsulation:2,data:{animation:[yP.transformDrawer]},changeDetection:0}),n})(),CP=(()=>{class n extends OP{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275cmp=ft({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(Rt(r,OO,5),Rt(r,wP,5)),2&t){let s;Ve(s=je())&&(i._content=s.first),Ve(s=je())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&Ht("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ye([{provide:bO,useExisting:n}]),Ae],ngContentSelectors:PJ,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,i){1&t&&(Hn(IJ),vt(0,AJ,1,2,"div",0),Tt(1),Tt(2,1),vt(3,RJ,2,0,"mat-sidenav-content",1)),2&t&&(qe("ngIf",i.hasBackdrop),$e(3),qe("ngIf",!i._content))},directives:[Ca,OO,um],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),$J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[Wr,mt,Od,Uo],Uo,mt]}),n})();class BJ extends Q{notifyNext(e,t,i,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class QJ extends Q{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function VJ(n,e,t,i,r=new QJ(n,t,i)){if(!r.closed)return e instanceof Z?e.subscribe(r):K_(e)(r)}const xP={};function SP(...n){let e,t;return ml(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&P(n[0])&&(n=n[0]),ev(n,t).lift(new jJ(e))}class jJ{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new UJ(e,this.resultSelector))}}class UJ extends BJ{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(xP),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(VJ(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const r=this.values,o=this.toRespond?r[i]===xP?--this.toRespond:this.toRespond:0;r[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}let HJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({}),n})();const DP=new Set;let bc,WJ=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qJ}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!DP.has(n))try{bc||(bc=document.createElement("style"),bc.setAttribute("type","text/css"),document.head.appendChild(bc)),bc.sheet&&(bc.sheet.insertRule(`@media ${n} {body{ }}`,0),DP.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(U(zn))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qJ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let TP=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ie}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return EP(Jp(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=SP(EP(Jp(t)).map(o=>this._registerQuery(o).observable));return s=gd(s.pipe(sn(1)),s.pipe(ZR(1),rm(0))),s.pipe(We(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Z(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(ys(i),We(({matches:o})=>({query:t,matches:o})),Lt(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(U(WJ),U(it))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EP(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function GJ(n,e){if(1&n){const t=hs();oe(0,"div",1),oe(1,"button",2),yt("click",function(){return fr(t),en().action()}),at(2),ae(),ae()}if(2&n){const t=en();$e(2),Kl(t.data.action)}}function XJ(n,e){}const kP=new pe("MatSnackBarData");class xm{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const ZJ=Math.pow(2,31)-1;class wO{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Ie,this._afterOpened=new Ie,this._onAction=new Ie,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,ZJ))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let YJ=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(T(wO),T(kP))},n.\u0275cmp=ft({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,i){1&t&&(oe(0,"span"),at(1),ae(),vt(2,GJ,3,1,"div",0)),2&t&&($e(1),Kl(i.data.message),$e(1),qe("ngIf",i.hasAction))},directives:[Ca,vc],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const KJ={snackBarState:gs("state",[Jn("void, hidden",Ft({transform:"scale(0.8)",opacity:0})),Jn("visible",Ft({transform:"scale(1)",opacity:1})),Wn("* => visible",Kn("150ms cubic-bezier(0, 0, 0.2, 1)")),Wn("* => void, * => hidden",Kn("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ft({opacity:0})))])};let JJ=(()=>{class n extends hm{constructor(t,i,r,s,o){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ie,this._onExit=new Ie,this._onEnter=new Ie,this._animationState="void",this.attachDomPortal=a=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(a)),this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(sn(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(T(it),T(nt),T(pi),T(zn),T(xm))},n.\u0275cmp=ft({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,i){if(1&t&&Sn(fm,7),2&t){let r;Ve(r=je())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,i){1&t&&Qu("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&Uu("@state",i._animationState)},features:[Ae],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(oe(0,"div",0),vt(1,XJ,0,0,"ng-template",1),ae(),Pt(2,"div")),2&t&&($e(2),Xt("aria-live",i._live)("role",i._role))},directives:[fm],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[KJ.snackBarState]}}),n})(),AP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[_c,pm,Wr,LI,mt],mt]}),n})();const eee=new pe("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new xm}});let nee=(()=>{class n{constructor(t,i,r,s,o,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=YJ,this.snackBarContainerComponent=JJ,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s=be(be({},this._defaultConfig),r);return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=Gt.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:xm,useValue:i}]}),o=new Ed(this.snackBarContainerComponent,i.viewContainerRef,s),a=t.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r=be(be(be({},new xm),this._defaultConfig),i),s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new wO(o,s);if(t instanceof xn){const l=new dm(t,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new Ed(t,void 0,l),u=o.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Lt(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new mm;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,a=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return Gt.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:wO,useValue:i},{provide:kP,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(U(bs),U(lZ),U(Gt),U(TP),U(n,12),U(eee))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:AP}),n})();const iee=[[["caption"]],[["colgroup"],["col"]]],ree=["caption","colgroup, col"];function CO(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Vt(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const Oc=new pe("CDK_TABLE");let wc=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(T(xn))},n.\u0275dir=de({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Cc=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(T(xn))},n.\u0275dir=de({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Sm=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(T(xn))},n.\u0275dir=de({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class lee{}const cee=CO(lee);let uo=(()=>{class n extends cee{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=Vt(t),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(T(Oc,8))},n.\u0275dir=de({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(Rt(r,wc,5),Rt(r,Cc,5),Rt(r,Sm,5)),2&t){let s;Ve(s=je())&&(i.cell=s.first),Ve(s=je())&&(i.headerCell=s.first),Ve(s=je())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Ye([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ae]}),n})();class xO{constructor(e,t){const i=t.nativeElement.classList;for(const r of e._columnCssClassName)i.add(r)}}let SO=(()=>{class n extends xO{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(T(uo),T(nt))},n.\u0275dir=de({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ae]}),n})(),DO=(()=>{class n extends xO{constructor(t,i){var r;if(super(t,i),1===(null==(r=t._table)?void 0:r._elementRef.nativeElement.nodeType)){const s=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(T(uo),T(nt))},n.\u0275dir=de({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Ae]}),n})();class IP{constructor(){this.tasks=[],this.endTasks=[]}}const TO=new pe("_COALESCED_STYLE_SCHEDULER");let PP=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Ie}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new IP,this._getScheduleObservable().pipe(Lt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new IP;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Zn(Promise.resolve(void 0)):this._ngZone.onStable.pipe(sn(1))}}return n.\u0275fac=function(t){return new(t||n)(U(it))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),EO=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Ad?t.headerCell.template:this instanceof Rd?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(T(xn),T(gr))},n.\u0275dir=de({type:n,features:[wn]}),n})();class uee extends EO{}const dee=CO(uee);let Ad=(()=>{class n extends dee{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(T(xn),T(gr),T(Oc,8))},n.\u0275dir=de({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Ae,wn]}),n})();class hee extends EO{}const fee=CO(hee);let Rd=(()=>{class n extends fee{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(T(xn),T(gr),T(Oc,8))},n.\u0275dir=de({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Ae,wn]}),n})(),Dm=(()=>{class n extends EO{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(T(xn),T(gr),T(Oc,8))},n.\u0275dir=de({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Ae]}),n})(),ho=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(T(Ln))},n.\u0275dir=de({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ft({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&fi(0,0)},directives:[ho],encapsulation:2}),n})(),AO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ft({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&fi(0,0)},directives:[ho],encapsulation:2}),n})(),Tm=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(T(xn))},n.\u0275dir=de({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const FP=["top","bottom","left","right"];class pee{constructor(e,t,i,r,s=!0,o=!0,a){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(h=>h)&&!i.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],o=s.children.length,a=this._getCellWidths(s,r),l=this._getStickyStartColumnPositions(a,t),c=this._getStickyEndColumnPositions(a,i),u=t.lastIndexOf(!0),d=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,f=h?"right":"left",p=h?"left":"right";for(const m of e)for(let v=0;v<o;v++){const O=m.children[v];t[v]&&this._addStickyStyle(O,f,l[v],v===u),i[v]&&this._addStickyStyle(O,p,c[v],v===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:a.slice(0,u+1).map((m,v)=>t[v]?m:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:a.slice(d).map((m,v)=>i[v+d]?m:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,o=[],a=[],l=[];for(let u=0,d=0;u<r.length;u++){if(!s[u])continue;o[u]=d;const h=r[u];l[u]=this._isNativeHtmlTable?Array.from(h.children):[h];const f=h.getBoundingClientRect().height;d+=f,a[u]=f}const c=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var u,d;for(let h=0;h<r.length;h++){if(!s[h])continue;const f=o[h],p=h===c;for(const m of l[h])this._addStickyStyle(m,i,f,p)}"top"===i?null==(u=this._positionListener)||u.stickyHeaderRowsUpdated({sizes:a,offsets:o,elements:l}):null==(d=this._positionListener)||d.stickyFooterRowsUpdated({sizes:a,offsets:o,elements:l})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);FP.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of FP)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const RO=new pe("CDK_SPL");let Em=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(T(Ln),T(nt))},n.\u0275dir=de({type:n,selectors:[["","rowOutlet",""]]}),n})(),Mm=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(T(Ln),T(nt))},n.\u0275dir=de({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),km=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(T(Ln),T(nt))},n.\u0275dir=de({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Am=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(T(Ln),T(nt))},n.\u0275dir=de({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Rm=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=o,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=h,this._onDestroy=new Ie,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new At,this.viewChange=new Bi({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Vt(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Vt(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Lt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Kp(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===s&&o.push(i[a]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let a=0;a<o.length;a++){let l=o[a];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),t.push(l)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(o=>{const a=r&&r.has(o)?r.get(o):[];if(a.length){const l=a.shift();return l.dataIndex=i,l}return{data:t,rowDef:o,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Im(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Im(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Im(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Im(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,a)=>o||!!a.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],Kp(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Kp(this.dataSource)?t=this.dataSource.connect(this):function(n){return!!n&&(n instanceof Z||"function"==typeof n.lift&&"function"==typeof n.subscribe)}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Ne(this.dataSource)),this._renderChangeSubscription=t.pipe(Lt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(a=>this._columnDefsByName.get(a)),s=r.map(a=>a.sticky),o=r.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const o=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),o}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))ho.mostRecentCellOutlet&&ho.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const o=t.get(i).context;o.count=r,o.first=0===i,o.last=i===r-1,o.even=i%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[i].dataIndex,o.renderIndex=i):o.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const o of r.outlets)s.appendChild(o.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new pee(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ne()).pipe(Lt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const i=0===this._rowOutlet.viewContainer.length;if(i!==this._isShowingNoDataRow){const r=this._noDataRowOutlet.viewContainer;i?r.createEmbeddedView(t.templateRef):r.clear(),this._isShowingNoDataRow=i}}}}return n.\u0275fac=function(t){return new(t||n)(T(gr),T(pi),T(nt),zs("role"),T(lo,8),T(lt),T(zn),T(vd),T(TO),T(Td),T(RO,12))},n.\u0275cmp=ft({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(Rt(r,Tm,5),Rt(r,uo,5),Rt(r,Dm,5),Rt(r,Ad,5),Rt(r,Rd,5)),2&t){let s;Ve(s=je())&&(i._noDataRow=s.first),Ve(s=je())&&(i._contentColumnDefs=s),Ve(s=je())&&(i._contentRowDefs=s),Ve(s=je())&&(i._contentHeaderRowDefs=s),Ve(s=je())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(Sn(Em,7),Sn(Mm,7),Sn(km,7),Sn(Am,7)),2&t){let r;Ve(r=je())&&(i._rowOutlet=r.first),Ve(r=je())&&(i._headerRowOutlet=r.first),Ve(r=je())&&(i._footerRowOutlet=r.first),Ve(r=je())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&Ht("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Ye([{provide:Oc,useExisting:n},{provide:vd,useClass:BR},{provide:TO,useClass:PP},{provide:RO,useValue:null}])],ngContentSelectors:ree,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(Hn(iee),Tt(0),Tt(1,1),fi(2,0),fi(3,1),fi(4,2),fi(5,3))},directives:[Mm,Em,Am,km],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function Im(n,e){return n.concat(Array.from(e))}let gee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[oO]]}),n})();const _ee=[[["caption"]],[["colgroup"],["col"]]],vee=["caption","colgroup, col"];let IO=(()=>{class n extends Rm{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275cmp=ft({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,i){2&t&&Ht("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[Ye([{provide:vd,useClass:BR},{provide:Rm,useExisting:n},{provide:Oc,useExisting:n},{provide:TO,useClass:PP},{provide:RO,useValue:null}]),Ae],ngContentSelectors:vee,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(Hn(_ee),Tt(0),Tt(1,1),fi(2,0),fi(3,1),fi(4,2),fi(5,3))},directives:[Mm,Em,Am,km],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),Pm=(()=>{class n extends wc{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["","matCellDef",""]],features:[Ye([{provide:wc,useExisting:n}]),Ae]}),n})(),Fm=(()=>{class n extends Cc{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["","matHeaderCellDef",""]],features:[Ye([{provide:Cc,useExisting:n}]),Ae]}),n})(),Nm=(()=>{class n extends uo{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Ye([{provide:uo,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Ae]}),n})(),Lm=(()=>{class n extends SO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[Ae]}),n})(),$m=(()=>{class n extends DO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[Ae]}),n})(),PO=(()=>{class n extends Ad{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Ye([{provide:Ad,useExisting:n}]),Ae]}),n})(),FO=(()=>{class n extends Dm{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275dir=de({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Ye([{provide:Dm,useExisting:n}]),Ae]}),n})(),NO=(()=>{class n extends MO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275cmp=ft({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[Ye([{provide:MO,useExisting:n}]),Ae],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&fi(0,0)},directives:[ho],encapsulation:2}),n})(),LO=(()=>{class n extends AO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Dt(n)))(i||n)}}(),n.\u0275cmp=ft({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[Ye([{provide:AO,useExisting:n}]),Ae],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&fi(0,0)},directives:[ho],encapsulation:2}),n})(),Eee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[gee,mt],mt]}),n})(),Pee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[Wr,mt,pm,Pa,sm,dI],mt]}),n})();const Fee=["*",[["mat-toolbar-row"]]],Nee=["*","mat-toolbar-row"],Lee=Sd(class{constructor(n){this._elementRef=n}});let $ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=de({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Bee=(()=>{class n extends Lee{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(T(nt),T(zn),T(lt))},n.\u0275cmp=ft({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&Rt(r,$ee,5),2&t){let s;Ve(s=je())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&Ht("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Ae],ngContentSelectors:Nee,decls:2,vars:0,template:function(t,i){1&t&&(Hn(Fee),Tt(0),Tt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Qee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({imports:[[mt],mt]}),n})();const Hee={provide:new pe("mat-tooltip-scroll-strategy"),deps:[bs],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let zee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[Hee],imports:[[dI,Wr,_c,mt],mt,Uo]}),n})();var qee=K(746),mi=K.n(qee);const LP=K(829).v4;var xc,Qi,Gee=K(962),Qm=K.n(Gee),$P=K(594),Xee=K(930),fo=K.n(Xee),Zee=K(516),gi=K.n(Zee),Yee=K(703),ti=K.n(Yee);function Vm(n){return"$"+n}function Kee(n){return n.substring(1)}function zo(){this._store={}}function Id(n){if(this._store=new zo,n&&Array.isArray(n))for(var e=0,t=n.length;e<t;e++)this.add(n[e])}zo.prototype.get=function(n){var e=Vm(n);return this._store[e]},zo.prototype.set=function(n,e){var t=Vm(n);return this._store[t]=e,!0},zo.prototype.has=function(n){return Vm(n)in this._store},zo.prototype.delete=function(n){var e=Vm(n),t=e in this._store;return delete this._store[e],t},zo.prototype.forEach=function(n){for(var e=Object.keys(this._store),t=0,i=e.length;t<i;t++){var r=e[t];n(this._store[r],r=Kee(r))}},Object.defineProperty(zo.prototype,"size",{get:function(){return Object.keys(this._store).length}}),Id.prototype.add=function(n){return this._store.set(n,!0)},Id.prototype.has=function(n){return this._store.has(n)},Id.prototype.forEach=function(n){this._store.forEach(function(e,t){n(t)})},Object.defineProperty(Id.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var n=Object.getOwnPropertyDescriptor(Map,Symbol.species);return n&&"get"in n&&Map[Symbol.species]===Map}()?(xc=Set,Qi=Map):(xc=Id,Qi=zo);var $O,QO,BP=Function.prototype.toString,ite=BP.call(Object);function Qn(n){var e,t,i;if(!n||"object"!=typeof n)return n;if(Array.isArray(n)){for(e=[],t=0,i=n.length;t<i;t++)e[t]=Qn(n[t]);return e}if(n instanceof Date)return n.toISOString();if(function(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer||"undefined"!=typeof Blob&&n instanceof Blob}(n))return function(n){if(n instanceof ArrayBuffer)return function(n){if("function"==typeof n.slice)return n.slice(0);var e=new ArrayBuffer(n.byteLength),t=new Uint8Array(e),i=new Uint8Array(n);return t.set(i),e}(n);var e=n.size,t=n.type;return"function"==typeof n.slice?n.slice(0,e,t):n.webkitSlice(0,e,t)}(n);if(!function(n){var e=Object.getPrototypeOf(n);if(null===e)return!0;var t=e.constructor;return"function"==typeof t&&t instanceof t&&BP.call(t)==ite}(n))return n;for(t in e={},n)if(Object.prototype.hasOwnProperty.call(n,t)){var r=Qn(n[t]);void 0!==r&&(e[t]=r)}return e}function QP(n){var e=!1;return fo()(function(t){if(e)throw new Error("once called more than once");e=!0,n.apply(this,t)})}function VP(n){return fo()(function(e){e=Qn(e);var t=this,i="function"==typeof e[e.length-1]&&e.pop(),r=new Promise(function(s,o){var a;try{var l=QP(function(c,u){c?o(c):s(u)});e.push(l),(a=n.apply(t,e))&&"function"==typeof a.then&&s(a)}catch(c){o(c)}});return i&&r.then(function(s){i(null,s)},i),r})}function kn(n,e){return VP(fo()(function(t){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(n,e,t){if(n.constructor.listeners("debug").length){for(var i=["api",n.name,e],r=0;r<t.length-1;r++)i.push(t[r]);n.constructor.emit("debug",i);var s=t[t.length-1];t[t.length-1]=function(o,a){var l=["api",n.name,e];l=l.concat(o?["error",o]:["success",a]),n.constructor.emit("debug",l),s(o,a)}}}(i,n,t),this.taskqueue.isReady?e.apply(this,t):new Promise(function(r,s){i.taskqueue.addTask(function(o){o?s(o):r(i[n].apply(i,t))})})}))}function Pd(n,e){for(var t={},i=0,r=e.length;i<r;i++){var s=e[i];s in n&&(t[s]=n[s])}return t}function jP(n){return n}function ate(n){return[{ok:n}]}function UP(n,e,t){var i=e.docs,r=new Qi;i.forEach(function(m){r.has(m.id)?r.get(m.id).push(m):r.set(m.id,[m])});var s=r.size,o=0,a=new Array(s);var d=[];r.forEach(function(m,v){d.push(v)});var h=0;!function f(){if(!(h>=d.length)){var m=Math.min(h+6,d.length),v=d.slice(h,m);(function(m,v){m.forEach(function(O,b){var x=v+b,I=r.get(O),F=Pd(I[0],["atts_since","attachments"]);F.open_revs=I.map(function(B){return B.rev}),F.open_revs=F.open_revs.filter(jP);var j=jP;0===F.open_revs.length&&(delete F.open_revs,j=ate),["revs","attachments","binary","ajax","latest"].forEach(function(B){B in e&&(F[B]=e[B])}),n.get(O,F,function(B,re){var se;se=B?[{error:B}]:j(re),function(m,v,O){a[m]={id:v,docs:O},function(){var m;++o===s&&(m=[],a.forEach(function(v){v.docs.forEach(function(O){m.push({id:v.id,docs:[O]})})}),t(null,{results:m}))}()}(x,O,se),f()})})})(v,h),h+=v.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),$O=!!localStorage.getItem("_pouch_check_localstorage")}catch(n){$O=!1}function jm(){return $O}function Sc(){ti().call(this),this._listeners={},function(n){jm()&&addEventListener("storage",function(e){n.emit(e.key)})}(this)}function Or(n){if("undefined"!=typeof console&&"function"==typeof console[n]){var e=Array.prototype.slice.call(arguments,1);console[n].apply(console,e)}}function ute(n){var e=0;return n||(e=2e3),function(n,e){var t=6e5;return n=parseInt(n,10)||0,(e=parseInt(e,10))!=e||e<=n?e=(n||1)<<1:e+=1,e>t&&(n=t>>1,e=t),~~((e-n)*Math.random()+n)}(n,e)}function BO(n,e){Or("info","The above "+n+" is totally normal. "+e)}gi()(Sc,ti()),Sc.prototype.addListener=function(n,e,t,i){if(!this._listeners[e]){var r=this,s=!1;this._listeners[e]=o,this.on(n,o)}function o(){if(r._listeners[e])if(s)s="waiting";else{s=!0;var a=Pd(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);t.changes(a).on("change",function(c){c.seq>i.since&&!i.cancelled&&(i.since=c.seq,i.onChange(c))}).on("complete",function(){"waiting"===s&&mi()(o),s=!1}).on("error",function(){s=!1})}}},Sc.prototype.removeListener=function(n,e){e in this._listeners&&(ti().prototype.removeListener.call(this,n,this._listeners[e]),delete this._listeners[e])},Sc.prototype.notifyLocalWindows=function(n){jm()&&(localStorage[n]="a"===localStorage[n]?"b":"a")},Sc.prototype.notify=function(n){this.emit(n),this.notifyLocalWindows(n)},QO="function"==typeof Object.assign?Object.assign:function(n){for(var e=Object(n),t=1;t<arguments.length;t++){var i=arguments[t];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};var Dc=QO;function Wt(n,e,t){Error.call(this,t),this.status=n,this.name=e,this.message=t,this.error=!0}gi()(Wt,Error),Wt.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new Wt(401,"unauthorized","Name or password is incorrect.");var dte=new Wt(400,"bad_request","Missing JSON list of 'docs'"),qr=new Wt(404,"not_found","missing"),Tc=new Wt(409,"conflict","Document update conflict"),HP=new Wt(400,"bad_request","_id field must contain a string"),hte=new Wt(412,"missing_id","_id is required for puts"),fte=new Wt(400,"bad_request","Only reserved document ids may start with underscore."),WP=(new Wt(412,"precondition_failed","Database not open"),new Wt(500,"unknown_error","Database encountered an unknown error")),zP=new Wt(500,"badarg","Some query argument is invalid"),pte=(new Wt(400,"invalid_request","Request was invalid"),new Wt(400,"query_parse_error","Some query parameter is invalid")),qP=new Wt(500,"doc_validation","Bad special document member"),Um=new Wt(400,"bad_request","Something wrong with the request"),VO=new Wt(400,"bad_request","Document must be a JSON object"),jO=(new Wt(404,"not_found","Database not found"),new Wt(500,"indexed_db_went_bad","unknown")),GP=(new Wt(500,"web_sql_went_bad","unknown"),new Wt(500,"levelDB_went_went_bad","unknown"),new Wt(403,"forbidden","Forbidden by design doc validate_doc_update function"),new Wt(400,"bad_request","Invalid rev format")),mte=(new Wt(412,"file_exists","The database could not be created, the file already exists."),new Wt(412,"missing_stub","A pre-existing attachment stub wasn't found"));function pt(n,e){function t(i){for(var r=Object.getOwnPropertyNames(n),s=0,o=r.length;s<o;s++)"function"!=typeof n[r[s]]&&(this[r[s]]=n[r[s]]);void 0!==i&&(this.reason=i)}return t.prototype=Wt.prototype,new t(e)}function Ec(n){if("object"!=typeof n){var e=n;(n=WP).data=e}return"error"in n&&"conflict"===n.error&&(n.name="conflict",n.status=409),"name"in n||(n.name=n.error||"unknown"),"status"in n||(n.status=500),"message"in n||(n.message=n.message||n.reason),n}function UO(n){var e={},t=n.filter&&"function"==typeof n.filter;return e.query=n.query_params,function(r){r.doc||(r.doc={});var s=t&&function(n,e,t){try{return!n(e,t)}catch(r){var i="Filter function threw: "+r.toString();return pt(Um,i)}}(n.filter,r.doc,e);if("object"==typeof s)return s;if(s)return!1;if(n.include_docs){if(!n.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function Hm(n){for(var e=[],t=0,i=n.length;t<i;t++)e=e.concat(n[t]);return e}function XP(n){var e;if(n?"string"!=typeof n?e=pt(HP):/^_/.test(n)&&!/^_(design|local)/.test(n)&&(e=pt(fte)):e=pt(hte),e)throw e}function Os(n){return"boolean"==typeof n._remote?n._remote:"function"==typeof n.type&&(Or("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===n.type())}function HO(n){if(!n)return null;var e=n.split("/");return 2===e.length?e:1===e.length?[n,n]:null}function ZP(n){var e=HO(n);return e?e.join("/"):null}new Wt(413,"invalid_url","Provided URL is invalid");var YP=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],KP="queryKey",vte=/(?:^|&)([^&=]*)=?([^&]*)/g,yte=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function JP(n){for(var e=yte.exec(n),t={},i=14;i--;){var r=YP[i],s=e[i]||"",o=-1!==["user","password"].indexOf(r);t[r]=o?decodeURIComponent(s):s}return t[KP]={},t[YP[12]].replace(vte,function(a,l,c){l&&(t[KP][l]=c)}),t}function WO(n,e){var t=[],i=[];for(var r in e)e.hasOwnProperty(r)&&(t.push(r),i.push(e[r]));return t.push(n),Function.apply(null,t).apply(null,i)}function Wm(n,e,t){return new Promise(function(i,r){n.get(e,function(s,o){if(s){if(404!==s.status)return r(s);o={}}var a=o._rev,l=t(o);if(!l)return i({updated:!1,rev:a});l._id=e,l._rev=a,i(function(n,e,t){return n.put(e).then(function(i){return{updated:!0,rev:i.rev}},function(i){if(409!==i.status)throw i;return Wm(n,e._id,t)})}(n,l,t))})})}var zO=function(n){return atob(n)},Fd=function(n){return btoa(n)};function qO(n,e){n=n||[],e=e||{};try{return new Blob(n,e)}catch(s){if("TypeError"!==s.name)throw s;for(var i=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<n.length;r+=1)i.append(n[r]);return i.getBlob(e.type)}}function Ote(n){for(var e=n.length,t=new ArrayBuffer(e),i=new Uint8Array(t),r=0;r<e;r++)i[r]=n.charCodeAt(r);return t}function GO(n,e){return qO([Ote(n)],{type:e})}function XO(n,e){return GO(zO(n),e)}function eF(n,e){var t=new FileReader,i="function"==typeof t.readAsBinaryString;t.onloadend=function(r){var s=r.target.result||"";if(i)return e(s);e(function(n){for(var e="",t=new Uint8Array(n),i=t.byteLength,r=0;r<i;r++)e+=String.fromCharCode(t[r]);return e}(s))},i?t.readAsBinaryString(n):t.readAsArrayBuffer(n)}function tF(n,e){eF(n,function(t){e(t)})}function ZO(n,e){tF(n,function(t){e(Fd(t))})}var xte=self.setImmediate||self.setTimeout;function Ete(n,e,t,i,r){(t>0||i<e.size)&&(e=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.slice(e,t)}(e,t,i)),function(n,e){var t=new FileReader;t.onloadend=function(i){var r=i.target.result||new ArrayBuffer(0);e(r)},t.readAsArrayBuffer(n)}(e,function(s){n.append(s),r()})}function Mte(n,e,t,i,r){(t>0||i<e.length)&&(e=e.substring(t,i)),n.appendBinary(e),r()}function YO(n,e){var t="string"==typeof n,i=t?n.length:n.size,r=Math.min(32768,i),s=Math.ceil(i/r),o=0,a=t?new(Qm()):new(Qm().ArrayBuffer),l=t?Mte:Ete;function c(){xte(d)}function u(){var f=function(n){return Fd(n)}(a.end(!0));e(f),a.destroy()}function d(){var h=o*r;o++,l(a,n,h,h+r,o<s?c:u)}d()}function nF(n){return Qm().hash(n)}function iF(n,e){var t=Qn(n);return e?(delete t._rev_tree,nF(JSON.stringify(t))):LP().replace(/-/g,"").toLowerCase()}var zm=LP;function La(n){for(var e,t,i,s,r=n.rev_tree.slice();s=r.pop();){var o=s.ids,a=o[2],l=s.pos;if(a.length)for(var c=0,u=a.length;c<u;c++)r.push({pos:l+1,ids:a[c]});else{var d=!!o[1].deleted,h=o[0];(!e||(i!==d?i:t!==l?t<l:e<h))&&(e=h,t=l,i=d)}}return t+"-"+e}function $a(n,e){for(var i,t=n.slice();i=t.pop();)for(var r=i.pos,s=i.ids,o=s[2],a=e(0===o.length,r,s[0],i.ctx,s[1]),l=0,c=o.length;l<c;l++)t.push({pos:r+1,ids:o[l],ctx:a})}function kte(n,e){return n.pos-e.pos}function KO(n){var e=[];$a(n,function(r,s,o,a,l){r&&e.push({rev:s+"-"+o,pos:s,opts:l})}),e.sort(kte).reverse();for(var t=0,i=e.length;t<i;t++)delete e[t].pos;return e}function JO(n){for(var e=La(n),t=KO(n.rev_tree),i=[],r=0,s=t.length;r<s;r++){var o=t[r];o.rev!==e&&!o.opts.deleted&&i.push(o.rev)}return i}function rF(n){for(var i,e=[],t=n.slice();i=t.pop();){var r=i.pos,s=i.ids,o=s[0],a=s[1],l=s[2],c=0===l.length,u=i.history?i.history.slice():[];u.push({id:o,opts:a}),c&&e.push({pos:r+1-u.length,ids:u});for(var d=0,h=l.length;d<h;d++)t.push({pos:r+1,ids:l[d],history:u})}return e.reverse()}function Rte(n,e){return n.pos-e.pos}function Pte(n,e,t){var i=function(n,e,t){for(var s,i=0,r=n.length;i<r;)t(n[s=i+r>>>1],e)<0?i=s+1:r=s;return i}(n,e,t);n.splice(i,0,e)}function sF(n,e){for(var t,i,r=e,s=n.length;r<s;r++){var o=n[r],a=[o.id,o.opts,[]];i?(i[2].push(a),i=a):t=i=a}return t}function Fte(n,e){return n[0]<e[0]?-1:1}function oF(n,e){for(var t=[{tree1:n,tree2:e}],i=!1;t.length>0;){var r=t.pop(),s=r.tree1,o=r.tree2;(s[1].status||o[1].status)&&(s[1].status="available"===s[1].status||"available"===o[1].status?"available":"missing");for(var a=0;a<o[2].length;a++)if(s[2][0]){for(var l=!1,c=0;c<s[2].length;c++)s[2][c][0]===o[2][a][0]&&(t.push({tree1:s[2][c],tree2:o[2][a]}),l=!0);l||(i="new_branch",Pte(s[2],o[2][a],Fte))}else i="new_leaf",s[2][0]=o[2][a]}return{conflicts:i,tree:n}}function aF(n,e,t){var o,i=[],r=!1,s=!1;if(!n.length)return{tree:[e],conflicts:"new_leaf"};for(var a=0,l=n.length;a<l;a++){var c=n[a];if(c.pos===e.pos&&c.ids[0]===e.ids[0])o=oF(c.ids,e.ids),i.push({pos:c.pos,ids:o.tree}),r=r||o.conflicts,s=!0;else if(!0!==t){var u=c.pos<e.pos?c:e,d=c.pos<e.pos?e:c,f=[],p=[];for(p.push({ids:u.ids,diff:d.pos-u.pos,parent:null,parentIdx:null});p.length>0;){var m=p.pop();if(0!==m.diff)for(var v=m.ids[2],O=0,b=v.length;O<b;O++)p.push({ids:v[O],diff:m.diff-1,parent:m.ids,parentIdx:O});else m.ids[0]===d.ids[0]&&f.push(m)}var x=f[0];x?(o=oF(x.ids,d.ids),x.parent[2][x.parentIdx]=o.tree,i.push({pos:u.pos,ids:u.ids}),r=r||o.conflicts,s=!0):i.push(c)}else i.push(c)}return s||i.push(e),i.sort(Rte),{tree:i,conflicts:r||"internal_node"}}function lF(n,e,t){var i=aF(n,e),r=function(n,e){for(var i,r,t=rF(n),s=0,o=t.length;s<o;s++){var c,a=t[s],l=a.ids;if(l.length>e){i||(i={});var u=l.length-e;c={pos:a.pos+u,ids:sF(l,u)};for(var d=0;d<u;d++)i[a.pos+d+"-"+l[d].id]=!0}else c={pos:a.pos,ids:sF(l,0)};r=r?aF(r,c,!0).tree:[c]}return i&&$a(r,function(f,p,m){delete i[p+"-"+m]}),{tree:r,revs:i?Object.keys(i):[]}}(i.tree,t);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function $te(n){return n.ids}function po(n,e){e||(e=La(n));for(var r,t=e.substring(e.indexOf("-")+1),i=n.rev_tree.map($te);r=i.pop();){if(r[0]===t)return!!r[1].deleted;i=i.concat(r[2])}}function Ba(n){return/^_local/.test(n)}function Nd(n,e,t){ti().call(this);var i=this;this.db=n;var r=(e=e?Qn(e):{}).complete=QP(function(a,l){a?function(n,e){return"listenerCount"in n?n.listenerCount(e):ti().listenerCount(n,e)}(i,"error")>0&&i.emit("error",a):i.emit("complete",l),i.removeAllListeners(),n.removeListener("destroyed",s)});function s(){i.cancel()}t&&(i.on("complete",function(a){t(null,a)}),i.on("error",t)),n.once("destroyed",s),e.onChange=function(a,l,c){i.isCancelled||function(n,e,t,i){try{n.emit("change",e,t,i)}catch(r){Or("error",'Error in .on("change", function):',r)}}(i,a,l,c)};var o=new Promise(function(a,l){e.complete=function(c,u){c?l(c):a(u)}});i.once("cancel",function(){n.removeListener("destroyed",s),e.complete(null,{status:"cancelled"})}),this.then=o.then.bind(o),this.catch=o.catch.bind(o),this.then(function(a){r(null,a)},r),n.taskqueue.isReady?i.validateChanges(e):n.taskqueue.addTask(function(a){a?e.complete(a):i.isCancelled?i.emit("cancel"):i.validateChanges(e)})}function Vte(n,e,t){var i=[{rev:n._rev}];"all_docs"===t.style&&(i=KO(e.rev_tree).map(function(s){return{rev:s.rev}}));var r={id:e.id,changes:i,doc:n};return po(e,n._rev)&&(r.deleted=!0),t.conflicts&&(r.doc._conflicts=JO(e),r.doc._conflicts.length||delete r.doc._conflicts),r}function cF(n,e){return n<e?-1:n>e?1:0}function ew(n,e){return function(t,i){t||i[0]&&i[0].error?((t=t||i[0]).docId=e,n(t)):n(null,i.length?i[0]:i)}}function Ute(n,e){var t=cF(n._id,e._id);return 0!==t?t:cF(n._revisions?n._revisions.start:0,e._revisions?e._revisions.start:0)}function uF(n){var e=n._compactionQueue[0],t=e.opts,i=e.callback;n.get("_local/compaction").catch(function(){return!1}).then(function(r){r&&r.last_seq&&(t.last_seq=r.last_seq),n._compact(t,function(s,o){s?i(s):i(null,o),mi()(function(){n._compactionQueue.shift(),n._compactionQueue.length&&uF(n)})})})}function tn(){for(var n in ti().call(this),tn.prototype)"function"==typeof this[n]&&(this[n]=this[n].bind(this))}function Ld(){this.isReady=!1,this.failed=!1,this.queue=[]}function ht(n,e){if(!(this instanceof ht))return new ht(n,e);var t=this;if(e=e||{},n&&"object"==typeof n&&(n=(e=n).name,delete e.name),void 0===e.deterministic_revs&&(e.deterministic_revs=!0),this.__opts=e=Qn(e),t.auto_compaction=e.auto_compaction,t.prefix=ht.prefix,"string"!=typeof n)throw new Error("Missing/invalid DB name");var r=function(n,e){var t=n.match(/([a-z-]*):\/\/(.*)/);if(t)return{name:/https?/.test(t[1])?t[1]+"://"+t[2]:t[2],adapter:t[1]};var i=ht.adapters,r=ht.preferredAdapters,s=ht.prefix,o=e.adapter;if(!o)for(var a=0;a<r.length&&"idb"===(o=r[a])&&"websql"in i&&jm()&&localStorage["_pouch__websqldb_"+s+n];++a)Or("log",'PouchDB is downgrading "'+n+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var l=i[o];return{name:l&&"use_prefix"in l&&!l.use_prefix?n:s+n,adapter:o}}((e.prefix||"")+n,e);if(e.name=r.name,e.adapter=e.adapter||r.adapter,t.name=n,t._adapter=e.adapter,ht.emit("debug",["adapter","Picked adapter: ",e.adapter]),!ht.adapters[e.adapter]||!ht.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);tn.call(t),t.taskqueue=new Ld,t.adapter=e.adapter,ht.adapters[e.adapter].call(t,e,function(s){if(s)return t.taskqueue.fail(s);(function(n){function e(i){n.removeListener("closed",t),i||n.constructor.emit("destroyed",n.name)}function t(){n.removeListener("destroyed",e),n.constructor.emit("unref",n)}n.once("destroyed",e),n.once("closed",t),n.constructor.emit("ref",n)})(t),t.emit("created",t),ht.emit("created",t.name),t.taskqueue.ready(t)})}gi()(Nd,ti()),Nd.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Nd.prototype.validateChanges=function(n){var e=n.complete,t=this;ht._changesFilterPlugin?ht._changesFilterPlugin.validate(n,function(i){if(i)return e(i);t.doChanges(n)}):t.doChanges(n)},Nd.prototype.doChanges=function(n){var e=this,t=n.complete;if("live"in(n=Qn(n))&&!("continuous"in n)&&(n.continuous=n.live),n.processChange=Vte,"latest"===n.since&&(n.since="now"),n.since||(n.since=0),"now"!==n.since){if(ht._changesFilterPlugin){if(ht._changesFilterPlugin.normalize(n),ht._changesFilterPlugin.shouldFilter(this,n))return ht._changesFilterPlugin.filter(this,n)}else["doc_ids","filter","selector","view"].forEach(function(s){s in n&&Or("warn",'The "'+s+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in n||(n.descending=!1),n.limit=0===n.limit?1:n.limit,n.complete=t;var i=this.db._changes(n);if(i&&"function"==typeof i.cancel){var r=e.cancel;e.cancel=fo()(function(s){i.cancel(),r.apply(this,s)})}}else this.db.info().then(function(s){e.isCancelled?t(null,{status:"cancelled"}):(n.since=s.update_seq,e.doChanges(n))},t)},gi()(tn,ti()),tn.prototype.post=kn("post",function(n,e,t){if("function"==typeof e&&(t=e,e={}),"object"!=typeof n||Array.isArray(n))return t(pt(VO));this.bulkDocs({docs:[n]},e,ew(t,n._id))}),tn.prototype.put=kn("put",function(n,e,t){if("function"==typeof e&&(t=e,e={}),"object"!=typeof n||Array.isArray(n))return t(pt(VO));if(XP(n._id),Ba(n._id)&&"function"==typeof this._putLocal)return n._deleted?this._removeLocal(n,t):this._putLocal(n,t);var o,a,c,u,i=this;function s(o){"function"==typeof i._put&&!1!==e.new_edits?i._put(n,e,o):i.bulkDocs({docs:[n]},e,ew(o,n._id))}e.force&&n._rev?(a=(o=n._rev.split("-"))[1],c=parseInt(o[0],10)+1,u=iF(),n._revisions={start:c,ids:[u,a]},n._rev=c+"-"+u,e.new_edits=!1,s(function(o){t(o,o?null:{ok:!0,id:n._id,rev:n._rev})})):s(t)}),tn.prototype.putAttachment=kn("putAttachment",function(n,e,t,i,r){var s=this;function o(a){var l="_rev"in a?parseInt(a._rev,10):0;return a._attachments=a._attachments||{},a._attachments[e]={content_type:r,data:i,revpos:++l},s.put(a)}return"function"==typeof r&&(r=i,i=t,t=null),void 0===r&&(r=i,i=t,t=null),r||Or("warn","Attachment",e,"on document",n,"is missing content_type"),s.get(n).then(function(a){if(a._rev!==t)throw pt(Tc);return o(a)},function(a){if(a.reason===qr.message)return o({_id:n});throw a})}),tn.prototype.removeAttachment=kn("removeAttachment",function(n,e,t,i){var r=this;r.get(n,function(s,o){if(s)i(s);else{if(o._rev===t)return o._attachments?(delete o._attachments[e],0===Object.keys(o._attachments).length&&delete o._attachments,void r.put(o,i)):i();i(pt(Tc))}})}),tn.prototype.remove=kn("remove",function(n,e,t,i){var r;"string"==typeof e?(r={_id:n,_rev:e},"function"==typeof t&&(i=t,t={})):(r=n,"function"==typeof e?(i=e,t={}):(i=t,t=e)),(t=t||{}).was_delete=!0;var s={_id:r._id,_rev:r._rev||t.rev,_deleted:!0};if(Ba(s._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[s]},t,ew(i,s._id))}),tn.prototype.revsDiff=kn("revsDiff",function(n,e,t){"function"==typeof e&&(t=e,e={});var i=Object.keys(n);if(!i.length)return t(null,{});var r=0,s=new Qi;function o(l,c){s.has(l)||s.set(l,{missing:[]}),s.get(l).missing.push(c)}i.map(function(l){this._getRevisionTree(l,function(c,u){if(c&&404===c.status&&"missing"===c.message)s.set(l,{missing:n[l]});else{if(c)return t(c);!function(l,c){var u=n[l].slice(0);$a(c,function(d,h,f,p,m){var v=h+"-"+f,O=u.indexOf(v);-1!==O&&(u.splice(O,1),"available"!==m.status&&o(l,v))}),u.forEach(function(d){o(l,d)})}(l,u)}if(++r===i.length){var d={};return s.forEach(function(h,f){d[f]=h}),t(null,d)}})},this)}),tn.prototype.bulkGet=kn("bulkGet",function(n,e){UP(this,n,e)}),tn.prototype.compactDocument=kn("compactDocument",function(n,e,t){var i=this;this._getRevisionTree(n,function(r,s){if(r)return t(r);var o=function(n){var e={},t=[];return $a(n,function(i,r,s,o){var a=r+"-"+s;return i&&(e[a]=0),void 0!==o&&t.push({from:o,to:a}),a}),t.reverse(),t.forEach(function(i){e[i.from]=void 0===e[i.from]?1+e[i.to]:Math.min(e[i.from],1+e[i.to])}),e}(s),a=[],l=[];Object.keys(o).forEach(function(c){o[c]>e&&a.push(c)}),$a(s,function(c,u,d,h,f){var p=u+"-"+d;"available"===f.status&&-1!==a.indexOf(p)&&l.push(p)}),i._doCompaction(n,l,t)})}),tn.prototype.compact=kn("compact",function(n,e){"function"==typeof n&&(e=n,n={});var t=this;n=n||{},t._compactionQueue=t._compactionQueue||[],t._compactionQueue.push({opts:n,callback:e}),1===t._compactionQueue.length&&uF(t)}),tn.prototype._compact=function(n,e){var t=this,r=[];t.changes({return_docs:!1,last_seq:n.last_seq||0}).on("change",function(a){r.push(t.compactDocument(a.id,0))}).on("complete",function(a){var l=a.last_seq;Promise.all(r).then(function(){return Wm(t,"_local/compaction",function(u){return(!u.last_seq||u.last_seq<l)&&(u.last_seq=l,u)})}).then(function(){e(null,{ok:!0})}).catch(e)}).on("error",e)},tn.prototype.get=kn("get",function(n,e,t){if("function"==typeof e&&(t=e,e={}),"string"!=typeof n)return t(pt(HP));if(Ba(n)&&"function"==typeof this._getLocal)return this._getLocal(n,t);var i=[],r=this;function s(){var l=[],c=i.length;if(!c)return t(null,l);i.forEach(function(u){r.get(n,{rev:u,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},function(d,h){if(d)l.push({missing:u});else{for(var f,p=0,m=l.length;p<m;p++)if(l[p].ok&&l[p].ok._rev===h._rev){f=!0;break}f||l.push({ok:h})}--c||t(null,l)})})}if(!e.open_revs)return this._get(n,e,function(l,c){if(l)return l.docId=n,t(l);var u=c.doc,d=c.metadata,h=c.ctx;if(e.conflicts){var f=JO(d);f.length&&(u._conflicts=f)}if(po(d,u._rev)&&(u._deleted=!0),e.revs||e.revs_info){for(var p=u._rev.split("-"),m=parseInt(p[0],10),v=p[1],O=rF(d.rev_tree),b=null,x=0;x<O.length;x++){var I=O[x],F=I.ids.map(function(Se){return Se.id}).indexOf(v);(F===m-1||!b&&-1!==F)&&(b=I)}if(!b)return(l=new Error("invalid rev tree")).docId=n,t(l);var B=b.ids.map(function(Se){return Se.id}).indexOf(u._rev.split("-")[1])+1;if(b.ids.splice(B,b.ids.length-B),b.ids.reverse(),e.revs&&(u._revisions={start:b.pos+b.ids.length-1,ids:b.ids.map(function(Se){return Se.id})}),e.revs_info){var se=b.pos+b.ids.length;u._revs_info=b.ids.map(function(Se){return{rev:--se+"-"+Se.id,status:Se.opts.status}})}}if(e.attachments&&u._attachments){var ee=u._attachments,ve=Object.keys(ee).length;if(0===ve)return t(null,u);Object.keys(ee).forEach(function(Se){this._getAttachment(u._id,Se,ee[Se],{rev:u._rev,binary:e.binary,ctx:h},function(ke,we){var J=u._attachments[Se];J.data=we,delete J.stub,delete J.length,--ve||t(null,u)})},r)}else{if(u._attachments)for(var De in u._attachments)u._attachments.hasOwnProperty(De)&&(u._attachments[De].stub=!0);t(null,u)}});if("all"===e.open_revs)this._getRevisionTree(n,function(l,c){if(l)return t(l);i=KO(c).map(function(u){return u.rev}),s()});else{if(!Array.isArray(e.open_revs))return t(pt(WP,"function_clause"));i=e.open_revs;for(var o=0;o<i.length;o++){var a=i[o];if("string"!=typeof a||!/^\d+-/.test(a))return t(pt(GP))}s()}}),tn.prototype.getAttachment=kn("getAttachment",function(n,e,t,i){var r=this;t instanceof Function&&(i=t,t={}),this._get(n,t,function(s,o){return s?i(s):o.doc._attachments&&o.doc._attachments[e]?(t.ctx=o.ctx,t.binary=!0,void r._getAttachment(n,e,o.doc._attachments[e],t,i)):i(pt(qr))})}),tn.prototype.allDocs=kn("allDocs",function(n,e){if("function"==typeof n&&(e=n,n={}),n.skip=void 0!==n.skip?n.skip:0,n.start_key&&(n.startkey=n.start_key),n.end_key&&(n.endkey=n.end_key),"keys"in n){if(!Array.isArray(n.keys))return e(new TypeError("options.keys must be an array"));var t=["startkey","endkey","key"].filter(function(i){return i in n})[0];if(t)return void e(pt(pte,"Query parameter `"+t+"` is not compatible with multi-get"));if(!Os(this)&&(function(n){var e="limit"in n?n.keys.slice(n.skip,n.limit+n.skip):n.skip>0?n.keys.slice(n.skip):n.keys;n.keys=e,n.skip=0,delete n.limit,n.descending&&(e.reverse(),n.descending=!1)}(n),0===n.keys.length))return this._allDocs({limit:0},e)}return this._allDocs(n,e)}),tn.prototype.changes=function(n,e){return"function"==typeof n&&(e=n,n={}),(n=n||{}).return_docs="return_docs"in n?n.return_docs:!n.live,new Nd(this,n,e)},tn.prototype.close=kn("close",function(n){return this._closed=!0,this.emit("closed"),this._close(n)}),tn.prototype.info=kn("info",function(n){var e=this;this._info(function(t,i){if(t)return n(t);i.db_name=i.db_name||e.name,i.auto_compaction=!(!e.auto_compaction||Os(e)),i.adapter=e.adapter,n(null,i)})}),tn.prototype.id=kn("id",function(n){return this._id(n)}),tn.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},tn.prototype.bulkDocs=kn("bulkDocs",function(n,e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},Array.isArray(n)&&(n={docs:n}),!n||!n.docs||!Array.isArray(n.docs))return t(pt(dte));for(var i=0;i<n.docs.length;++i)if("object"!=typeof n.docs[i]||Array.isArray(n.docs[i]))return t(pt(VO));var r;if(n.docs.forEach(function(a){a._attachments&&Object.keys(a._attachments).forEach(function(l){r=r||function(n){return"_"===n.charAt(0)&&n+" is not a valid attachment name, attachment names cannot start with '_'"}(l),a._attachments[l].content_type||Or("warn","Attachment",l,"on document",a._id,"is missing content_type")})}),r)return t(pt(Um,r));"new_edits"in e||(e.new_edits=!("new_edits"in n)||n.new_edits);var s=this;!e.new_edits&&!Os(s)&&n.docs.sort(Ute),function(n){for(var e=0;e<n.length;e++){var t=n[e];if(t._deleted)delete t._attachments;else if(t._attachments)for(var i=Object.keys(t._attachments),r=0;r<i.length;r++){var s=i[r];t._attachments[s]=Pd(t._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}(n.docs);var o=n.docs.map(function(a){return a._id});return this._bulkDocs(n,e,function(a,l){if(a)return t(a);if(e.new_edits||(l=l.filter(function(d){return d.error})),!Os(s))for(var c=0,u=l.length;c<u;c++)l[c].id=l[c].id||o[c];t(null,l)})}),tn.prototype.registerDependentDatabase=kn("registerDependentDatabase",function(n,e){var t=new this.constructor(n,this.__opts);Wm(this,"_local/_pouch_dependentDbs",function(r){return r.dependentDbs=r.dependentDbs||{},!r.dependentDbs[n]&&(r.dependentDbs[n]=!0,r)}).then(function(){e(null,{db:t})}).catch(e)}),tn.prototype.destroy=kn("destroy",function(n,e){"function"==typeof n&&(e=n,n={});var t=this,i=!("use_prefix"in t)||t.use_prefix;function r(){t._destroy(n,function(s,o){if(s)return e(s);t._destroyed=!0,t.emit("destroyed"),e(null,o||{ok:!0})})}if(Os(t))return r();t.get("_local/_pouch_dependentDbs",function(s,o){if(s)return 404!==s.status?e(s):r();var l=t.constructor,c=Object.keys(o.dependentDbs).map(function(u){var d=i?u.replace(new RegExp("^"+l.prefix),""):u;return new l(d,t.__opts).destroy()});Promise.all(c).then(r,e)})}),Ld.prototype.execute=function(){var n;if(this.failed)for(;n=this.queue.shift();)n(this.failed);else for(;n=this.queue.shift();)n()},Ld.prototype.fail=function(n){this.failed=n,this.execute()},Ld.prototype.ready=function(n){this.isReady=!0,this.db=n,this.execute()},Ld.prototype.addTask=function(n){this.queue.push(n),this.failed&&this.execute()},gi()(ht,tn);var Xte="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},dF=fetch,Mc=Headers;ht.adapters={},ht.preferredAdapters=[],ht.prefix="_pouch_";var hF=new(ti());function fF(n,e){for(var t=n,i=0,r=e.length;i<r&&(t=t[e[i]]);i++);return t}function pF(n){for(var e=[],t="",i=0,r=n.length;i<r;i++){var s=n[i];"."===s?i>0&&"\\"===n[i-1]?t=t.substring(0,t.length-1)+".":(e.push(t),t=""):t+=s}return e.push(t),e}(function(n){Object.keys(ti().prototype).forEach(function(t){"function"==typeof ti().prototype[t]&&(n[t]=hF[t].bind(hF))});var e=n._destructionListeners=new Qi;n.on("ref",function(i){e.has(i.name)||e.set(i.name,[]),e.get(i.name).push(i)}),n.on("unref",function(i){if(e.has(i.name)){var r=e.get(i.name),s=r.indexOf(i);s<0||(r.splice(s,1),r.length>1?e.set(i.name,r):e.delete(i.name))}}),n.on("destroyed",function(i){if(e.has(i)){var r=e.get(i);e.delete(i),r.forEach(function(s){s.emit("destroyed",!0)})}})})(ht),ht.adapter=function(n,e,t){e.valid()&&(ht.adapters[n]=e,t&&ht.preferredAdapters.push(n))},ht.plugin=function(n){if("function"==typeof n)n(ht);else{if("object"!=typeof n||0===Object.keys(n).length)throw new Error('Invalid plugin: got "'+n+'", expected an object or a function');Object.keys(n).forEach(function(e){ht.prototype[e]=n[e]})}return this.__defaults&&(ht.__defaults=Dc({},this.__defaults)),ht},ht.defaults=function(n){function e(t,i){if(!(this instanceof e))return new e(t,i);i=i||{},t&&"object"==typeof t&&(t=(i=t).name,delete i.name),i=Dc({},e.__defaults,i),ht.call(this,t,i)}return gi()(e,ht),e.preferredAdapters=ht.preferredAdapters.slice(),Object.keys(ht).forEach(function(t){t in e||(e[t]=ht[t])}),e.__defaults=Dc({},this.__defaults,n),e},ht.fetch=function(n,e){return dF(n,e)};var Jte=["$or","$nor","$not"];function mF(n){return Jte.indexOf(n)>-1}function gF(n){return Object.keys(n)[0]}function $d(n){var e={};return n.forEach(function(t){Object.keys(t).forEach(function(i){var r=t[i];if("object"!=typeof r&&(r={$eq:r}),mF(i))e[i]=r instanceof Array?r.map(function(o){return $d([o])}):$d([r]);else{var s=e[i]=e[i]||{};Object.keys(r).forEach(function(o){var a=r[o];return"$gt"===o||"$gte"===o?function(n,e,t){void 0===t.$eq&&(void 0!==t.$gte?"$gte"===n?e>t.$gte&&(t.$gte=e):e>=t.$gte&&(delete t.$gte,t.$gt=e):void 0!==t.$gt?"$gte"===n?e>t.$gt&&(delete t.$gt,t.$gte=e):e>t.$gt&&(t.$gt=e):t[n]=e)}(o,a,s):"$lt"===o||"$lte"===o?function(n,e,t){void 0===t.$eq&&(void 0!==t.$lte?"$lte"===n?e<t.$lte&&(t.$lte=e):e<=t.$lte&&(delete t.$lte,t.$lt=e):void 0!==t.$lt?"$lte"===n?e<t.$lt&&(delete t.$lt,t.$lte=e):e<t.$lt&&(t.$lt=e):t[n]=e)}(o,a,s):"$ne"===o?function(n,e){"$ne"in e?e.$ne.push(n):e.$ne=[n]}(a,s):"$eq"===o?function(n,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=n}(a,s):void(s[o]=a)})}})}),e}function _F(n){for(var e in n){if(Array.isArray(n))for(var t in n)n[t].$and&&(n[t]=$d(n[t].$and));var i=n[e];"object"==typeof i&&_F(i)}return n}function vF(n,e){for(var t in n){"$and"===t&&(e=!0);var i=n[t];"object"==typeof i&&(e=vF(i,e))}return e}function sne(n){var e=Qn(n),t=!1;vF(e,!1)&&("$and"in(e=_F(e))&&(e=$d(e.$and)),t=!0),["$or","$nor"].forEach(function(a){a in e&&e[a].forEach(function(l){for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=l[d];("object"!=typeof h||null===h)&&(l[d]={$eq:h})}})}),"$not"in e&&(e.$not=$d([e.$not]));for(var i=Object.keys(e),r=0;r<i.length;r++){var s=i[r],o=e[s];"object"!=typeof o||null===o?o={$eq:o}:"$ne"in o&&!t&&(o.$ne=[o.$ne]),e[s]=o}return e}function qn(n,e){if(n===e)return 0;n=Qa(n),e=Qa(e);var t=iw(n),i=iw(e);if(t-i!=0)return t-i;switch(typeof n){case"number":return n-e;case"boolean":return n<e?-1:1;case"string":return function(n,e){return n===e?0:n>e?1:-1}(n,e)}return Array.isArray(n)?function(n,e){for(var t=Math.min(n.length,e.length),i=0;i<t;i++){var r=qn(n[i],e[i]);if(0!==r)return r}return n.length===e.length?0:n.length>e.length?1:-1}(n,e):function(n,e){for(var t=Object.keys(n),i=Object.keys(e),r=Math.min(t.length,i.length),s=0;s<r;s++){var o=qn(t[s],i[s]);if(0!==o||0!==(o=qn(n[t[s]],e[i[s]])))return o}return t.length===i.length?0:t.length>i.length?1:-1}(n,e)}function Qa(n){switch(typeof n){case"undefined":return null;case"number":return n===1/0||n===-1/0||isNaN(n)?null:n;case"object":var e=n;if(Array.isArray(n)){var t=n.length;n=new Array(t);for(var i=0;i<t;i++)n[i]=Qa(e[i])}else{if(n instanceof Date)return n.toJSON();if(null!==n)for(var r in n={},e)if(e.hasOwnProperty(r)){var s=e[r];void 0!==s&&(n[r]=Qa(s))}}}return n}function Gr(n){return iw(n=Qa(n))+""+function(n){if(null!==n)switch(typeof n){case"boolean":return n?1:0;case"number":return function(n){if(0===n)return"1";var e=n.toExponential().split(/e\+?/),t=parseInt(e[1],10),i=n<0,r=i?"0":"2",o=function(n,e,t){var i=function(n,e,t){for(var i="",r=3-n.length;i.length<r;)i+="0";return i}(n);return i+n}(((i?-t:t)- -324).toString());r+=""+o;var a=Math.abs(parseFloat(e[0]));i&&(a=10-a);var l=a.toFixed(20);return r+""+l.replace(/\.?0+$/,"")}(n);case"string":return n.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var e=Array.isArray(n),t=e?n:Object.keys(n),i=-1,r=t.length,s="";if(e)for(;++i<r;)s+=Gr(t[i]);else for(;++i<r;){var o=t[i];s+=Gr(o)+Gr(n[o])}return s}return""}(n)+"\0"}function cne(n,e){var i,t=e;if("1"===n[e])i=0,e++;else{var s="0"===n[e];e++;var o="",a=n.substring(e,e+3),l=parseInt(a,10)+-324;for(s&&(l=-l),e+=3;;){var c=n[e];if("\0"===c)break;o+=c,e++}i=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),s&&(i-=10),0!==l&&(i=parseFloat(i+"e"+l))}return{num:i,length:e-t}}function une(n,e){var t=n.pop();if(e.length){var i=e[e.length-1];t===i.element&&(e.pop(),i=e[e.length-1]);var r=i.element,s=i.index;Array.isArray(r)?r.push(t):s===n.length-2?r[n.pop()]=t:n.push(t)}}function iw(n){var t=["boolean","number","string","object"].indexOf(typeof n);return~t?null===n?1:Array.isArray(n)?5:t<3?t+2:t+3:Array.isArray(n)?5:void 0}function kc(n,e,t){return t.every(function(i){var r=e[i],s=pF(i),o=fF(n,s);return mF(i)?function(n,e,t){return"$or"===n?e.some(function(i){return kc(t,i,Object.keys(i))}):"$not"===n?!kc(t,e,Object.keys(e)):!e.find(function(i){return kc(t,i,Object.keys(i))})}(i,r,n):rw(r,n,s,o)})}function rw(n,e,t,i){return!n||("object"==typeof n?Object.keys(n).every(function(r){return function(n,e,t,i,r){if(!OF[n])throw new Error('unknown operator "'+n+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return OF[n](e,t,i,r)}(r,e,n[r],t,i)}):n===i)}function Bd(n){return null!=n}function Va(n){return void 0!==n}function bF(n,e){return e.some(function(t){return n instanceof Array?n.indexOf(t)>-1:n===t})}var OF={$elemMatch:function(n,e,t,i){return!(!Array.isArray(i)||0===i.length)&&i.some("object"==typeof i[0]?function(r){return kc(r,e,Object.keys(e))}:function(r){return rw(e,n,t,r)})},$allMatch:function(n,e,t,i){return!(!Array.isArray(i)||0===i.length)&&i.every("object"==typeof i[0]?function(r){return kc(r,e,Object.keys(e))}:function(r){return rw(e,n,t,r)})},$eq:function(n,e,t,i){return Va(i)&&0===qn(i,e)},$gte:function(n,e,t,i){return Va(i)&&qn(i,e)>=0},$gt:function(n,e,t,i){return Va(i)&&qn(i,e)>0},$lte:function(n,e,t,i){return Va(i)&&qn(i,e)<=0},$lt:function(n,e,t,i){return Va(i)&&qn(i,e)<0},$exists:function(n,e,t,i){return e?Va(i):!Va(i)},$mod:function(n,e,t,i){return Bd(i)&&function(n,e){var t=e[0],i=e[1];if(0===t)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(t,10)!==t)throw new Error("Divisor is not an integer");if(parseInt(i,10)!==i)throw new Error("Modulus is not an integer");return parseInt(n,10)===n&&n%t===i}(i,e)},$ne:function(n,e,t,i){return e.every(function(r){return 0!==qn(i,r)})},$in:function(n,e,t,i){return Bd(i)&&bF(i,e)},$nin:function(n,e,t,i){return Bd(i)&&!bF(i,e)},$size:function(n,e,t,i){return Bd(i)&&function(n,e){return n.length===e}(i,e)},$all:function(n,e,t,i){return Array.isArray(i)&&function(n,e){return e.every(function(t){return n.indexOf(t)>-1})}(i,e)},$regex:function(n,e,t,i){return Bd(i)&&function(n,e){return new RegExp(e).test(n)}(i,e)},$type:function(n,e,t,i){return function(n,e){switch(e){case"null":return null===n;case"boolean":return"boolean"==typeof n;case"number":return"number"==typeof n;case"string":return"string"==typeof n;case"array":return n instanceof Array;case"object":return"[object Object]"==={}.toString.call(n)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(i,e)}};function Ene(n,e){if(n.selector&&n.filter&&"_selector"!==n.filter)return e(new Error('selector invalid for filter "'+("string"==typeof n.filter?n.filter:"function")+'"'));e()}function Mne(n){n.view&&!n.filter&&(n.filter="_view"),n.selector&&!n.filter&&(n.filter="_selector"),n.filter&&"string"==typeof n.filter&&("_view"===n.filter?n.view=ZP(n.view):n.filter=ZP(n.filter))}function kne(n,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!Os(n.db)}function Ane(n,e){var t=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var i=pt(Um,"`view` filter parameter not found or invalid.");return t(i)}var r=HO(e.view);n.db.get("_design/"+r[0],function(o,a){if(n.isCancelled)return t(null,{status:"cancelled"});if(o)return t(Ec(o));var l=a&&a.views&&a.views[r[1]]&&a.views[r[1]].map;if(!l)return t(pt(qr,a.views?"missing json key: "+r[1]:"missing json key: views"));e.filter=function(n){return WO(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+n+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}(l),n.doChanges(e)})}else if(e.selector)e.filter=function(o){return function(n,e){if("object"!=typeof e)throw new Error("Selector error: expected a JSON object");var i=function(n,e,t){if(n=n.filter(function(o){return kc(o.doc,e.selector,t)}),e.sort){var i=function(n){function e(t){return n.map(function(i){var s=pF(gF(i));return fF(t,s)})}return function(t,i){var o=qn(e(t.doc),e(i.doc));return 0!==o?o:function(n,e){return n<e?-1:n>e?1:0}(t.doc._id,i.doc._id)}}(e.sort);n=n.sort(i),"string"!=typeof e.sort[0]&&"desc"===function(n){return n[gF(n)]}(e.sort[0])&&(n=n.reverse())}if("limit"in e||"skip"in e){var r=e.skip||0;n=n.slice(r,("limit"in e?e.limit:n.length)+r)}return n}([{doc:n}],{selector:e=sne(e)},Object.keys(e));return i&&1===i.length}(o,e.selector)},n.doChanges(e);else{var s=HO(e.filter);n.db.get("_design/"+s[0],function(o,a){if(n.isCancelled)return t(null,{status:"cancelled"});if(o)return t(Ec(o));var l=a&&a.filters&&a.filters[s[1]];if(!l)return t(pt(qr,a&&a.filters?"missing json key: "+s[1]:"missing json key: filters"));e.filter=function(n){return WO('"use strict";\nreturn '+n+";",{})}(l),n.doChanges(e)})}}function wF(n){return n.reduce(function(e,t){return e[t]=!0,e},{})}ht.plugin(function(n){n._changesFilterPlugin={validate:Ene,normalize:Mne,shouldFilter:kne,filter:Ane}}),ht.version="7.2.2";var Ine=wF(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Pne=wF(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function CF(n){if(!/^\d+-/.test(n))return pt(GP);var e=n.indexOf("-"),t=n.substring(0,e),i=n.substring(e+1);return{prefix:parseInt(t,10),id:i}}function xF(n,e,t){t||(t={deterministic_revs:!0});var i,r,s,o={status:"available"};if(n._deleted&&(o.deleted=!0),e)if(n._id||(n._id=zm()),r=iF(n,t.deterministic_revs),n._rev){if((s=CF(n._rev)).error)return s;n._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[r,o,[]]]]}],i=s.prefix+1}else n._rev_tree=[{pos:1,ids:[r,o,[]]}],i=1;else if(n._revisions&&(n._rev_tree=function(n,e){for(var t=n.start-n.ids.length+1,i=n.ids,r=[i[0],e,[]],s=1,o=i.length;s<o;s++)r=[i[s],{status:"missing"},[r]];return[{pos:t,ids:r}]}(n._revisions,o),i=n._revisions.start,r=n._revisions.ids[0]),!n._rev_tree){if((s=CF(n._rev)).error)return s;n._rev_tree=[{pos:i=s.prefix,ids:[r=s.id,o,[]]}]}XP(n._id),n._rev=i+"-"+r;var a={metadata:{},data:{}};for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)){var c="_"===l[0];if(c&&!Ine[l]){var u=pt(qP,l);throw u.message=qP.message+": "+l,u}c&&!Pne[l]?a.metadata[l.slice(1)]=n[l]:a.data[l]=n[l]}return a}function Bne(n,e,t){if(n.stub)return t();"string"==typeof n.data?function(n,e,t){var i=function(n){try{return zO(n)}catch(t){return{error:pt(zP,"Attachment is not a valid base64 string")}}}(n.data);if(i.error)return t(i.error);n.length=i.length,n.data="blob"===e?GO(i,n.content_type):"base64"===e?Fd(i):i,YO(i,function(r){n.digest="md5-"+r,t()})}(n,e,t):function(n,e,t){YO(n.data,function(i){n.digest="md5-"+i,n.length=n.data.size||n.data.length||0,"binary"===e?tF(n.data,function(r){n.data=r,t()}):"base64"===e?ZO(n.data,function(r){n.data=r,t()}):t()})}(n,e,t)}function Une(n,e,t,i,r,s,o,a,l){n=n||1e3;var u=a.new_edits,d=new Qi,h=0,f=e.length;function p(){++h===f&&l&&l()}e.forEach(function(m,v){if(m._id&&Ba(m._id))t[m._deleted?"_removeLocal":"_putLocal"](m,{ctx:r},function(x,I){s[v]=x||I,p()});else{var b=m.metadata.id;d.has(b)?(f--,d.get(b).push([m,v])):d.set(b,[[m,v]])}}),d.forEach(function(m,v){var O=0;function b(){++O<m.length?x():p()}function x(){var I=m[O],F=I[0],j=I[1];if(i.has(v))!function(n,e,t,i,r,s,o,a){if(function(n,e){for(var o,t=n.slice(),i=e.split("-"),r=parseInt(i[0],10),s=i[1];o=t.pop();){if(o.pos===r&&o.ids[0]===s)return!0;for(var a=o.ids[2],l=0,c=a.length;l<c;l++)t.push({pos:o.pos+1,ids:a[l]})}return!1}(e.rev_tree,t.metadata.rev)&&!a)return i[r]=t,s();var l=e.winningRev||La(e),c="deleted"in e?e.deleted:po(e,l),u="deleted"in t.metadata?t.metadata.deleted:po(t.metadata),d=/^1-/.test(t.metadata.rev);if(c&&!u&&a&&d){var h=t.data;h._rev=l,h._id=t.metadata.id,t=xF(h,a)}var f=lF(e.rev_tree,t.metadata.rev_tree[0],n);if(a&&(c&&u&&"new_leaf"!==f.conflicts||!c&&"new_leaf"!==f.conflicts||c&&!u&&"new_branch"===f.conflicts)){var m=pt(Tc);return i[r]=m,s()}var v=t.metadata.rev;t.metadata.rev_tree=f.tree,t.stemmedRevs=f.stemmedRevs||[],e.rev_map&&(t.metadata.rev_map=e.rev_map);var O=La(t.metadata),b=po(t.metadata,O),x=c===b?0:c<b?-1:1;o(t,O,b,v===O?b:po(t.metadata,v),!0,x,r,s)}(n,i.get(v),F,s,j,b,o,u);else{var B=lF([],F.metadata.rev_tree[0],n);F.metadata.rev_tree=B.tree,F.stemmedRevs=B.stemmedRevs||[],function(m,v,O){var b=La(m.metadata),x=po(m.metadata,b);if("was_delete"in a&&x)return s[v]=pt(qr,"deleted"),O();var I=u&&function(n){return"missing"===n.metadata.rev_tree[0].ids[1].status}(m);if(I){var F=pt(Tc);return s[v]=F,O()}o(m,b,x,x,!1,x?0:1,v,O)}(F,j,b)}}x()})}var An="document-store",ni="by-sequence",wr="attach-store",ja="attach-seq-store",Si="meta-store",ws="local-store",sw="detect-blob-support";function zne(n){try{return JSON.stringify(n)}catch(e){return $P.stringify(n)}}function Cs(n){return function(e){var t="unknown_error";e.target&&e.target.error&&(t=e.target.error.name||e.target.error.message),n(pt(jO,t))}}function ow(n,e,t){return{data:zne(n),winningRev:e,deletedOrLocal:t?"1":"0",seq:n.seq,id:n.id}}function Ua(n){if(!n)return null;var e=function(n){try{return JSON.parse(n)}catch(e){return $P.parse(n)}}(n.data);return e.winningRev=n.winningRev,e.deleted="1"===n.deletedOrLocal,e.seq=n.seq,e}function qm(n){if(!n)return n;var e=n._doc_id_rev.lastIndexOf(":");return n._id=n._doc_id_rev.substring(0,e-1),n._rev=n._doc_id_rev.substring(e+1),delete n._doc_id_rev,n}function SF(n,e,t,i){t?i(n?"string"!=typeof n?n:XO(n,e):qO([""],{type:e})):n?"string"!=typeof n?eF(n,function(r){i(Fd(r))}):i(n):i("")}function DF(n,e,t,i){var r=Object.keys(n._attachments||{});if(!r.length)return i&&i();var s=0;function o(){++s===r.length&&i&&i()}r.forEach(function(l){e.attachments&&e.include_docs?function(l,c){var u=l._attachments[c],d=u.digest;t.objectStore(wr).get(d).onsuccess=function(f){u.body=f.target.result.body,o()}}(n,l):(n._attachments[l].stub=!0,o())})}function aw(n,e){return Promise.all(n.map(function(t){if(t.doc&&t.doc._attachments){var i=Object.keys(t.doc._attachments);return Promise.all(i.map(function(r){var s=t.doc._attachments[r];if("body"in s){var o=s.body,a=s.content_type;return new Promise(function(l){SF(o,a,e,function(c){t.doc._attachments[r]=Dc(Pd(s,["digest","content_type"]),{data:c}),l()})})}}))}}))}function TF(n,e,t){var i=[],r=t.objectStore(ni),s=t.objectStore(wr),o=t.objectStore(ja),a=n.length;function l(){--a||!i.length||i.forEach(function(u){o.index("digestSeq").count(IDBKeyRange.bound(u+"::",u+"::\uffff",!1,!1)).onsuccess=function(h){h.target.result||s.delete(u)}})}n.forEach(function(u){r.index("_doc_id_rev").getKey(e+"::"+u).onsuccess=function(f){var p=f.target.result;if("number"!=typeof p)return l();r.delete(p),o.index("seq").openCursor(IDBKeyRange.only(p)).onsuccess=function(v){var O=v.target.result;if(O){var b=O.value.digestSeq.split("::")[0];i.push(b),o.delete(O.primaryKey),O.continue()}else l()}}})}function Xr(n,e,t){try{return{txn:n.transaction(e,t)}}catch(i){return{error:i}}}var Qd=new Sc;function qne(n,e,t,i,r,s){for(var a,l,c,u,d,h,f,p,o=e.docs,m=0,v=o.length;m<v;m++){var O=o[m];O._id&&Ba(O._id)||(O=o[m]=xF(O,t.new_edits,n)).error&&!f&&(f=O)}if(f)return s(f);var b=!1,x=0,I=new Array(o.length),F=new Qi,j=!1;function se(){b=!0,ve()}function ve(){!p||!b||(p.docCount+=x,h.put(p))}function Se(){j||(Qd.notify(i._meta.name),s(null,I))}function J(V,N,q,te,he,_e,ge,W){V.metadata.winningRev=N,V.metadata.deleted=q;var me=V.data;if(me._id=V.metadata.id,me._rev=V.metadata.rev,te&&(me._deleted=!0),me._attachments&&Object.keys(me._attachments).length)return function(V,N,q,te,he,_e){var W=0,me=Object.keys(V.data._attachments);function Te(){W===me.length&&C(V,N,q,te,he,_e)}function Je(){W++,Te()}me.forEach(function(Ue){var Qe=V.data._attachments[Ue];if(Qe.stub)W++,Te();else{var Xe=Qe.data;delete Qe.data,Qe.revpos=parseInt(N,10),function(V,N,q){u.count(V).onsuccess=function(he){if(he.target.result)return q();u.put({digest:V,body:N}).onsuccess=q}}(Qe.digest,Xe,Je)}})}(V,N,q,he,ge,W);x+=_e,ve(),C(V,N,q,he,ge,W)}function C(V,N,q,te,he,_e){var ge=V.data,W=V.metadata;function me(Qe){var Xe=V.stemmedRevs||[];te&&i.auto_compaction&&(Xe=Xe.concat(function(n){var e=[];return $a(n.rev_tree,function(t,i,r,s,o){"available"===o.status&&!t&&(e.push(i+"-"+r),o.status="missing")}),e}(V.metadata))),Xe&&Xe.length&&TF(Xe,V.metadata.id,a),W.seq=Qe.target.result;var gt=ow(W,N,q);l.put(gt).onsuccess=Je}function Je(){I[he]={ok:!0,id:W.id,rev:W.rev},F.set(V.metadata.id,V.metadata),function(V,N,q){var te=0,he=Object.keys(V.data._attachments||{});if(!he.length)return q();function _e(){++te===he.length&&q()}function ge(me){var Je=d.put({seq:N,digestSeq:V.data._attachments[me].digest+"::"+N});Je.onsuccess=_e,Je.onerror=function(Ue){Ue.preventDefault(),Ue.stopPropagation(),_e()}}for(var W=0;W<he.length;W++)ge(he[W])}(V,W.seq,_e)}ge._doc_id_rev=W.id+"::"+W.rev,delete ge._id,delete ge._rev;var Ue=c.put(ge);Ue.onsuccess=me,Ue.onerror=function(Qe){Qe.preventDefault(),Qe.stopPropagation(),c.index("_doc_id_rev").getKey(ge._doc_id_rev).onsuccess=function(On){c.put(ge,On.target.result).onsuccess=me}}}!function(n,e,t){if(!n.length)return t();var r,i=0;function s(){i++,n.length===i&&(r?t(r):t())}n.forEach(function(o){var a=o.data&&o.data._attachments?Object.keys(o.data._attachments):[],l=0;if(!a.length)return s();function c(d){r=d,++l===a.length&&s()}for(var u in o.data._attachments)o.data._attachments.hasOwnProperty(u)&&Bne(o.data._attachments[u],e,c)})}(o,i._meta.blobSupport?"blob":"base64",function(V){if(V)return s(V);!function(){var N=Xr(r,[An,ni,wr,ws,ja,Si],"readwrite");if(N.error)return s(N.error);(a=N.txn).onabort=Cs(s),a.ontimeout=Cs(s),a.oncomplete=Se,l=a.objectStore(An),c=a.objectStore(ni),u=a.objectStore(wr),d=a.objectStore(ja),(h=a.objectStore(Si)).get(Si).onsuccess=function(q){p=q.target.result,ve()},function(V){var N=[];if(o.forEach(function(_e){_e.data&&_e.data._attachments&&Object.keys(_e.data._attachments).forEach(function(ge){var W=_e.data._attachments[ge];W.stub&&N.push(W.digest)})}),!N.length)return V();var te,q=0;N.forEach(function(_e){!function(V,N){u.get(V).onsuccess=function(te){if(te.target.result)N();else{var he=pt(mte,"unknown stub attachment with digest "+V);he.status=412,N(he)}}}(_e,function(ge){ge&&!te&&(te=ge),++q===N.length&&V(te)})})}(function(q){if(q)return j=!0,s(q);!function(){if(o.length)for(var V=0,te=0,he=o.length;te<he;te++){var _e=o[te];_e._id&&Ba(_e._id)?N():l.get(_e.metadata.id).onsuccess=q}function N(){++V===o.length&&Une(n.revs_limit,o,i,F,a,I,J,t,se)}function q(W){var me=Ua(W.target.result);me&&F.set(me.id,me),N()}}()})}()})}function EF(n,e,t,i,r){var o,a,l;function c(f){a=f.target.result,o&&r(o,a,l)}function u(f){o=f.target.result,a&&r(o,a,l)}function h(f){var p=f.target.result;if(!p)return r();r([p.key],[p.value],p)}-1===i&&(i=1e3),"function"==typeof n.getAll&&"function"==typeof n.getAllKeys&&i>1&&!t?(l={continue:function(){if(!o.length)return r();var p,f=o[o.length-1];if(e&&e.upper)try{p=IDBKeyRange.bound(f,e.upper,!0,e.upperOpen)}catch(m){if("DataError"===m.name&&0===m.code)return r()}else p=IDBKeyRange.lowerBound(f,!0);o=null,a=null,n.getAll(e=p,i).onsuccess=c,n.getAllKeys(e,i).onsuccess=u}},n.getAll(e,i).onsuccess=c,n.getAllKeys(e,i).onsuccess=u):t?n.openCursor(e,"prev").onsuccess=h:n.openCursor(e).onsuccess=h}var lw=!1,cw=[];function MF(){lw||!cw.length||(lw=!0,cw.shift()())}var uw,Ac=new Qi,dw=new Qi;function kF(n,e){var t=this;!function(n,e,t){cw.push(function(){n(function(s,o){(function(n,e,t,i){try{n(e,t)}catch(r){i.emit("error",r)}})(e,s,o,t),lw=!1,mi()(function(){MF()})})}),MF()}(function(i){!function(n,e,t){var i=e.name,r=null;function o(p,m){var v=p.objectStore(An);v.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),v.openCursor().onsuccess=function(O){var b=O.target.result;if(b){var x=b.value,I=po(x);x.deletedOrLocal=I?"1":"0",v.put(x),b.continue()}else m()}}function l(p,m){var v=p.objectStore(ws),O=p.objectStore(An),b=p.objectStore(ni);O.openCursor().onsuccess=function(I){var F=I.target.result;if(F){var j=F.value,B=j.id,re=Ba(B),se=La(j);if(re){var ee=B+"::"+se,ve=B+"::",De=B+"::~",Se=b.index("_doc_id_rev"),ke=IDBKeyRange.bound(ve,De,!1,!1),we=Se.openCursor(ke);we.onsuccess=function(J){if(we=J.target.result){var C=we.value;C._doc_id_rev===ee&&v.put(C),b.delete(we.primaryKey),we.continue()}else O.delete(F.primaryKey),F.continue()}}else F.continue()}else m&&m()}}function u(p,m){var v=p.objectStore(ni),O=p.objectStore(wr),b=p.objectStore(ja);O.count().onsuccess=function(I){if(!I.target.result)return m();v.openCursor().onsuccess=function(j){var B=j.target.result;if(!B)return m();for(var re=B.value,se=B.primaryKey,ee=Object.keys(re._attachments||{}),ve={},De=0;De<ee.length;De++)ve[re._attachments[ee[De]].digest]=!0;var ke=Object.keys(ve);for(De=0;De<ke.length;De++)b.put({seq:se,digestSeq:ke[De]+"::"+se});B.continue()}}}function d(p){var v=p.objectStore(ni),O=p.objectStore(An);O.openCursor().onsuccess=function(x){var re,se,ee,ve,I=x.target.result;if(I){var F=function(x){return x.data?Ua(x):(x.deleted="1"===x.deletedOrLocal,x)}(I.value);if(F.winningRev=F.winningRev||La(F),F.seq)return B();re=F.id+"::",se=F.id+"::\uffff",ee=v.index("_doc_id_rev").openCursor(IDBKeyRange.bound(re,se)),ve=0,ee.onsuccess=function(De){var Se=De.target.result;if(!Se)return F.seq=ve,B();var ke=Se.primaryKey;ke>ve&&(ve=ke),Se.continue()}}function B(){var re=ow(F,F.winningRev,F.deleted);O.put(re).onsuccess=function(){I.continue()}}}}n._meta=null,n._remote=!1,n.type=function(){return"idb"},n._id=VP(function(p){p(null,n._meta.instanceId)}),n._bulkDocs=function(m,v,O){qne(e,m,v,n,r,O)},n._get=function(m,v,O){var b,x,I,F=v.ctx;if(!F){var j=Xr(r,[An,ni,wr],"readonly");if(j.error)return O(j.error);F=j.txn}function B(){O(I,{doc:b,metadata:x,ctx:F})}F.objectStore(An).get(m).onsuccess=function(re){if(!(x=Ua(re.target.result)))return I=pt(qr,"missing"),B();var se;if(v.rev)se=v.latest?function(n,e){for(var i,t=e.rev_tree.slice();i=t.pop();){var r=i.pos,s=i.ids,o=s[0],a=s[1],l=s[2],c=0===l.length,u=i.history?i.history.slice():[];if(u.push({id:o,pos:r,opts:a}),c)for(var d=0,h=u.length;d<h;d++){var f=u[d];if(f.pos+"-"+f.id===n)return r+"-"+o}for(var m=0,v=l.length;m<v;m++)t.push({pos:r+1,ids:l[m],history:u})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+n)}(v.rev,x):v.rev;else if(se=x.winningRev,po(x))return I=pt(qr,"deleted"),B();var ve=F.objectStore(ni),De=x.id+"::"+se;ve.index("_doc_id_rev").get(De).onsuccess=function(Se){if((b=Se.target.result)&&(b=qm(b)),!b)return I=pt(qr,"missing"),B();B()}}},n._getAttachment=function(p,m,v,O,b){var x;if(O.ctx)x=O.ctx;else{var I=Xr(r,[An,ni,wr],"readonly");if(I.error)return b(I.error);x=I.txn}var F=v.digest,j=v.content_type;x.objectStore(wr).get(F).onsuccess=function(B){SF(B.target.result.body,j,O.binary,function(se){b(null,se)})}},n._info=function(m){var v,O,b=Xr(r,[Si,ni],"readonly");if(b.error)return m(b.error);var x=b.txn;x.objectStore(Si).get(Si).onsuccess=function(I){O=I.target.result.docCount},x.objectStore(ni).openCursor(null,"prev").onsuccess=function(I){var F=I.target.result;v=F?F.key:0},x.oncomplete=function(){m(null,{doc_count:O,update_seq:v,idb_attachment_format:n._meta.blobSupport?"binary":"base64"})}},n._allDocs=function(m,v){!function(n,e,t){var u,d,o="keys"in n&&n.keys,a=n.skip||0,l="number"==typeof n.limit?n.limit:-1;if(!o&&(u=function(n,e,t,i,r){try{if(n&&e)return r?IDBKeyRange.bound(e,n,!t,!1):IDBKeyRange.bound(n,e,!1,!t);if(n)return r?IDBKeyRange.upperBound(n):IDBKeyRange.lowerBound(n);if(e)return r?IDBKeyRange.lowerBound(e,!t):IDBKeyRange.upperBound(e,!t);if(i)return IDBKeyRange.only(i)}catch(s){return{error:s}}return null}("startkey"in n&&n.startkey,"endkey"in n&&n.endkey,!1!==n.inclusive_end,"key"in n&&n.key,n.descending),(d=u&&u.error)&&("DataError"!==d.name||0!==d.code)))return t(pt(jO,d.name));var h=[An,ni,Si];n.attachments&&h.push(wr);var f=Xr(e,h,"readonly");if(f.error)return t(f.error);var p=f.txn;p.oncomplete=function(){n.attachments?aw(x,n.binary).then(De):De()},p.onabort=Cs(t);var I,F,we,m=p.objectStore(An),v=p.objectStore(ni),O=p.objectStore(Si),b=v.index("_doc_id_rev"),x=[];function re(ke,we){var J={id:we.id,key:we.id,value:{rev:ke}};we.deleted?o&&(x.push(J),J.value.deleted=!0,J.doc=null):a--<=0&&(x.push(J),n.include_docs&&function(ke,we,J){b.get(ke.id+"::"+J).onsuccess=function(k){if(we.doc=qm(k.target.result)||{},n.conflicts){var L=JO(ke);L.length&&(we.doc._conflicts=L)}DF(we.doc,n,p)}}(we,J,ke))}function se(ke){for(var we=0,J=ke.length;we<J&&x.length!==l;we++){var C=ke[we];if(C.error&&o)x.push(C);else{var S=Ua(C);re(S.winningRev,S)}}}function ee(ke,we,J){!J||(se(we),x.length<l&&J.continue())}function De(){var ke={total_rows:I,offset:n.skip,rows:x};n.update_seq&&void 0!==F&&(ke.update_seq=F),t(null,ke)}if(O.get(Si).onsuccess=function(ke){I=ke.target.result.docCount},n.update_seq&&(we=function(ke){ke.target.result&&ke.target.result.length>0&&(F=ke.target.result[0])},v.openCursor(null,"prev").onsuccess=function(C){var S=C.target.result,k=void 0;return S&&S.key&&(k=S.key),we({target:{result:[k]}})}),!d&&0!==l){if(o)return function(n,e,t){var i=new Array(n.length),r=0;n.forEach(function(s,o){e.get(s).onsuccess=function(a){i[o]=a.target.result?a.target.result:{key:s,error:"not_found"},++r===n.length&&t(n,i,{})}})}(n.keys,m,ee);if(-1===l)return function(n,e,t){if("function"!=typeof n.getAll){var i=[];n.openCursor(e).onsuccess=function(s){var o=s.target.result;o?(i.push(o.value),o.continue()):t({target:{result:i}})}}else n.getAll(e).onsuccess=t}(m,u,function(ke){var we=ke.target.result;n.descending&&(we=we.reverse()),se(we)});EF(m,u,n.descending,l+a,ee)}}(m,r,v)},n._changes=function(m){return function(n,e,t,i){if((n=Qn(n)).continuous){var r=t+":"+zm();return Qd.addListener(t,r,e,n),Qd.notify(t),{cancel:function(){Qd.removeListener(t,r)}}}var s=n.doc_ids&&new xc(n.doc_ids);n.since=n.since||0;var o=n.since,a="limit"in n?n.limit:-1;0===a&&(a=1);var h,f,p,m,l=[],c=0,u=UO(n),d=new Qi;function O(re,se,ee,ve){return ee.seq!==se?ve():ee.winningRev===re._rev?ve(ee,re):void(m.get(re._id+"::"+ee.winningRev).onsuccess=function(ke){ve(ee,qm(ke.target.result))})}function x(){n.complete(null,{results:l,last_seq:o})}var F=[An,ni];n.attachments&&F.push(wr);var j=Xr(i,F,"readonly");if(j.error)return n.complete(j.error);(h=j.txn).onabort=Cs(n.complete),h.oncomplete=function(){!n.continuous&&n.attachments?aw(l).then(x):x()},f=h.objectStore(ni),p=h.objectStore(An),m=f.index("_doc_id_rev"),EF(f,n.since&&!n.descending?IDBKeyRange.lowerBound(n.since,!0):null,n.descending,a,function(re,se,ee){if(ee&&re.length){var ve=new Array(re.length),De=new Array(re.length),we=0;se.forEach(function(J,C){!function(re,se,ee){if(s&&!s.has(re._id))return ee();var ve=d.get(re._id);if(ve)return O(re,se,ve,ee);p.get(re._id).onsuccess=function(De){ve=Ua(De.target.result),d.set(re._id,ve),O(re,se,ve,ee)}}(qm(J),re[C],function(L,V){De[C]=L,ve[C]=V,++we===re.length&&function(){for(var J=[],C=0,S=ve.length;C<S&&c!==a;C++){var k=ve[C];k&&J.push(Se(De[C],k))}Promise.all(J).then(function(V){for(var N=0,q=V.length;N<q;N++)V[N]&&n.onChange(V[N])}).catch(n.complete),c!==a&&ee.continue()}()})})}function Se(J,C){var S=n.processChange(C,J,n);o=S.seq=J.seq;var k=u(S);return"object"==typeof k?Promise.reject(k):k?(c++,n.return_docs&&l.push(S),n.attachments&&n.include_docs?new Promise(function(L){DF(C,n,h,function(){aw([S],n.binary).then(function(){L(S)})})}):Promise.resolve(S)):Promise.resolve()}})}(m,n,i,r)},n._close=function(p){r.close(),Ac.delete(i),p()},n._getRevisionTree=function(p,m){var v=Xr(r,[An],"readonly");if(v.error)return m(v.error);v.txn.objectStore(An).get(p).onsuccess=function(x){var I=Ua(x.target.result);I?m(null,I.rev_tree):m(pt(qr))}},n._doCompaction=function(p,m,v){var b=Xr(r,[An,ni,wr,ja],"readwrite");if(b.error)return v(b.error);var x=b.txn;x.objectStore(An).get(p).onsuccess=function(F){var j=Ua(F.target.result);$a(j.rev_tree,function(se,ee,ve,De,Se){-1!==m.indexOf(ee+"-"+ve)&&(Se.status="missing")}),TF(m,p,x);var B=j.winningRev,re=j.deleted;x.objectStore(An).put(ow(j,B,re))},x.onabort=Cs(v),x.oncomplete=function(){v()}},n._getLocal=function(p,m){var v=Xr(r,[ws],"readonly");if(v.error)return m(v.error);var b=v.txn.objectStore(ws).get(p);b.onerror=Cs(m),b.onsuccess=function(x){var I=x.target.result;I?(delete I._doc_id_rev,m(null,I)):m(pt(qr))}},n._putLocal=function(p,m,v){"function"==typeof m&&(v=m,m={}),delete p._revisions;var O=p._rev,b=p._id;p._rev=O?"0-"+(parseInt(O.split("-")[1],10)+1):"0-1";var I,x=m.ctx;if(!x){var F=Xr(r,[ws],"readwrite");if(F.error)return v(F.error);(x=F.txn).onerror=Cs(v),x.oncomplete=function(){I&&v(null,I)}}var B,j=x.objectStore(ws);O?(B=j.get(b)).onsuccess=function(re){var se=re.target.result;se&&se._rev===O?j.put(p).onsuccess=function(){I={ok:!0,id:p._id,rev:p._rev},m.ctx&&v(null,I)}:v(pt(Tc))}:((B=j.add(p)).onerror=function(re){v(pt(Tc)),re.preventDefault(),re.stopPropagation()},B.onsuccess=function(){I={ok:!0,id:p._id,rev:p._rev},m.ctx&&v(null,I)})},n._removeLocal=function(p,m,v){"function"==typeof m&&(v=m,m={});var O=m.ctx;if(!O){var b=Xr(r,[ws],"readwrite");if(b.error)return v(b.error);(O=b.txn).oncomplete=function(){x&&v(null,x)}}var x,I=p._id,F=O.objectStore(ws),j=F.get(I);j.onerror=Cs(v),j.onsuccess=function(B){var re=B.target.result;re&&re._rev===p._rev?(F.delete(I),x={ok:!0,id:I,rev:"0-0"},m.ctx&&v(null,x)):v(pt(qr))}},n._destroy=function(p,m){Qd.removeAllListeners(i);var v=dw.get(i);v&&v.result&&(v.result.close(),Ac.delete(i));var O=indexedDB.deleteDatabase(i);O.onsuccess=function(){dw.delete(i),jm()&&i in localStorage&&delete localStorage[i],m(null,{ok:!0})},O.onerror=Cs(m)};var h=Ac.get(i);if(h)return r=h.idb,n._meta=h.global,mi()(function(){t(null,n)});var f=indexedDB.open(i,5);dw.set(i,f),f.onupgradeneeded=function(p){var m=p.target.result;if(p.oldVersion<1)return function(p){var m=p.createObjectStore(An,{keyPath:"id"});p.createObjectStore(ni,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),p.createObjectStore(wr,{keyPath:"digest"}),p.createObjectStore(Si,{keyPath:"id",autoIncrement:!1}),p.createObjectStore(sw),m.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),p.createObjectStore(ws,{keyPath:"_id"});var v=p.createObjectStore(ja,{autoIncrement:!0});v.createIndex("seq","seq"),v.createIndex("digestSeq","digestSeq",{unique:!0})}(m);var v=p.currentTarget.transaction;p.oldVersion<3&&function(p){p.createObjectStore(ws,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(m),p.oldVersion<4&&function(p){var m=p.createObjectStore(ja,{autoIncrement:!0});m.createIndex("seq","seq"),m.createIndex("digestSeq","digestSeq",{unique:!0})}(m);var O=[o,l,u,d],b=p.oldVersion;!function x(){var I=O[b-1];b++,I&&I(v,x)}()},f.onsuccess=function(p){(r=p.target.result).onversionchange=function(){r.close(),Ac.delete(i)},r.onabort=function(B){Or("error","Database has a global failure",B.target.error),r.close(),Ac.delete(i)};var O,b,x,I,m=r.transaction([Si,sw,An],"readwrite"),v=!1;function F(){void 0===x||!v||(n._meta={name:i,instanceId:I,blobSupport:x},Ac.set(i,{idb:r,global:n._meta}),t(null,n))}function j(){if(void 0!==b&&void 0!==O){var B=i+"_id";B in O?I=O[B]:O[B]=I=zm(),O.docCount=b,m.objectStore(Si).put(O)}}m.objectStore(Si).get(Si).onsuccess=function(B){O=B.target.result||{id:Si},j()},function(n,e){n.objectStore(An).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(i){b=i.target.result,j()}}(m),uw||(uw=function(n){return new Promise(function(e){var t=qO([""]),i=n.objectStore(sw).put(t,"key");i.onsuccess=function(){var r=navigator.userAgent.match(/Chrome\/(\d+)/),s=navigator.userAgent.match(/Edge\//);e(s||!r||parseInt(r[1],10)>=43)},i.onerror=n.onabort=function(r){r.preventDefault(),r.stopPropagation(),e(!1)}}).catch(function(){return!1})}(m)),uw.then(function(B){x=B,F()}),m.oncomplete=function(){v=!0,F()},m.onabort=Cs(t)},f.onerror=function(p){var m=p.target.error&&p.target.error.message;m?-1!==m.indexOf("stored database is a higher version")&&(m=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):m="Failed to open indexedDB, are you in private browsing mode?",Or("error",m),t(pt(jO,m))}}(t,n,i)},e,t.constructor)}kF.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}};var hw={};function fw(n){var e=n.doc||n.ok,t=e&&e._attachments;!t||Object.keys(t).forEach(function(i){var r=t[i];r.data=XO(r.data,r.content_type)})}function Ha(n){return/^_design/.test(n)?"_design/"+encodeURIComponent(n.slice(8)):/^_local/.test(n)?"_local/"+encodeURIComponent(n.slice(7)):encodeURIComponent(n)}function AF(n){return n._attachments&&Object.keys(n._attachments)?Promise.all(Object.keys(n._attachments).map(function(e){var t=n._attachments[e];if(t.data&&"string"!=typeof t.data)return new Promise(function(i){ZO(t.data,i)}).then(function(i){t.data=i})})):Promise.resolve()}function Vn(n,e){return Xm(n,n.db+"/"+e)}function Xm(n,e){return n.protocol+"://"+n.host+(n.port?":"+n.port:"")+"/"+n.path+(n.path?"/":"")+e}function Zm(n){return"?"+Object.keys(n).map(function(e){return e+"="+encodeURIComponent(n[e])}).join("&")}function pw(n,e){var t=this,i=function(n,e){if(function(n){if(!n.prefix)return!1;var e=JP(n.prefix).protocol;return"http"===e||"https"===e}(e)){var t=e.name.substr(e.prefix.length);n=e.prefix.replace(/\/?$/,"/")+encodeURIComponent(t)}var r=JP(n);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var s=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=s.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=s.join("/"),r}(n.name,n),r=Vn(i,"");n=Qn(n);var l,s=function(d,h){if((h=h||{}).headers=h.headers||new Mc,h.credentials="include",n.auth||i.auth){var f=n.auth||i.auth,m=Fd(unescape(encodeURIComponent(f.username+":"+f.password)));h.headers.set("Authorization","Basic "+m)}var v=n.headers||{};return Object.keys(v).forEach(function(b){h.headers.append(b,v[b])}),function(n){var e="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",t=-1!==e.indexOf("msie"),i=-1!==e.indexOf("trident"),r=-1!==e.indexOf("edge");return(t||i||r)&&(!("method"in n)||"GET"===n.method)}(h)&&(d+=(-1===d.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(n.fetch||dF)(d,h)};function o(d,h){return kn(d,fo()(function(f){c().then(function(){return h.apply(this,f)}).catch(function(p){f.pop()(p)})})).bind(t)}function a(d,h,f){var p={};return(h=h||{}).headers=h.headers||new Mc,h.headers.get("Content-Type")||h.headers.set("Content-Type","application/json"),h.headers.get("Accept")||h.headers.set("Accept","application/json"),s(d,h).then(function(m){return p.ok=m.ok,p.status=m.status,m.json()}).then(function(m){if(p.data=m,!p.ok){p.data.status=p.status;var v=Ec(p.data);if(f)return f(v);throw v}if(Array.isArray(p.data)&&(p.data=p.data.map(function(O){return O.error||O.missing?Ec(O):O})),!f)return p;f(null,p.data)})}function c(){return n.skip_setup?Promise.resolve():l||((l=a(r).catch(function(d){return d&&d.status&&404===d.status?(BO(404,"PouchDB is just detecting if the remote exists."),a(r,{method:"PUT"})):Promise.reject(d)}).catch(function(d){return!(!d||!d.status||412!==d.status)||Promise.reject(d)})).catch(function(){l=null}),l)}function u(d){return d.split("/").map(encodeURIComponent).join("/")}mi()(function(){e(null,t)}),t._remote=!0,t.type=function(){return"http"},t.id=o("id",function(d){s(Xm(i,"")).then(function(h){return h.json()}).catch(function(){return{}}).then(function(h){var f=h&&h.uuid?h.uuid+i.db:Vn(i,"");d(null,f)})}),t.compact=o("compact",function(d,h){"function"==typeof d&&(h=d,d={}),d=Qn(d),a(Vn(i,"_compact"),{method:"POST"}).then(function(){!function f(){t.info(function(p,m){m&&!m.compact_running?h(null,{ok:!0}):setTimeout(f,d.interval||200)})}()})}),t.bulkGet=kn("bulkGet",function(d,h){var f=this;function p(b){var x={};d.revs&&(x.revs=!0),d.attachments&&(x.attachments=!0),d.latest&&(x.latest=!0),a(Vn(i,"_bulk_get"+Zm(x)),{method:"POST",body:JSON.stringify({docs:d.docs})}).then(function(I){d.attachments&&d.binary&&I.data.results.forEach(function(F){F.docs.forEach(fw)}),b(null,I.data)}).catch(b)}function m(){var x=Math.ceil(d.docs.length/50),I=0,F=new Array(x);function j(se){return function(ee,ve){F[se]=ve.results,++I===x&&h(null,{results:Hm(F)})}}for(var B=0;B<x;B++){var re=Pd(d,["revs","attachments","binary","latest"]);re.docs=d.docs.slice(50*B,Math.min(d.docs.length,50*(B+1))),UP(f,re,j(B))}}var v=Xm(i,""),O=hw[v];"boolean"!=typeof O?p(function(b,x){b?(hw[v]=!1,BO(b.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),m()):(hw[v]=!0,h(null,x))}):O?p(h):m()}),t._info=function(d){c().then(function(){return s(Vn(i,""))}).then(function(h){return h.json()}).then(function(h){h.host=Vn(i,""),d(null,h)}).catch(d)},t.fetch=function(d,h){return c().then(function(){var f="/"===d.substring(0,1)?Xm(i,d.substring(1)):Vn(i,d);return s(f,h)})},t.get=o("get",function(d,h,f){"function"==typeof h&&(f=h,h={});var p={};function m(b){var x=b._attachments,I=x&&Object.keys(x);if(x&&I.length)return function(n,e){return new Promise(function(t,i){var l,r=0,s=0,o=0,a=n.length;function u(){++o===a?l?i(l):t():f()}function d(){r--,u()}function h(p){r--,l=l||p,u()}function f(){for(;r<5&&s<a;)r++,n[s++]().then(d,h)}f()})}(I.map(function(B){return function(){return function(B){var re=x[B],se=Ha(b._id)+"/"+u(B)+"?rev="+b._rev;return s(Vn(i,se)).then(function(ee){return"buffer"in ee?ee.buffer():ee.blob()}).then(function(ee){if(h.binary){var ve=Object.getOwnPropertyDescriptor(ee.__proto__,"type");return(!ve||ve.set)&&(ee.type=re.content_type),ee}return new Promise(function(De){ZO(ee,De)})}).then(function(ee){delete re.stub,delete re.length,re.data=ee})}(B)}}))}(h=Qn(h)).revs&&(p.revs=!0),h.revs_info&&(p.revs_info=!0),h.latest&&(p.latest=!0),h.open_revs&&("all"!==h.open_revs&&(h.open_revs=JSON.stringify(h.open_revs)),p.open_revs=h.open_revs),h.rev&&(p.rev=h.rev),h.conflicts&&(p.conflicts=h.conflicts),h.update_seq&&(p.update_seq=h.update_seq),d=Ha(d),a(Vn(i,d+Zm(p))).then(function(b){return Promise.resolve().then(function(){if(h.attachments)return function(b){return Array.isArray(b)?Promise.all(b.map(function(x){if(x.ok)return m(x.ok)})):m(b)}(b.data)}).then(function(){f(null,b.data)})}).catch(function(b){b.docId=d,f(b)})}),t.remove=o("remove",function(d,h,f,p){var m;"string"==typeof h?(m={_id:d,_rev:h},"function"==typeof f&&(p=f,f={})):(m=d,"function"==typeof h?(p=h,f={}):(p=f,f=h));var v=m._rev||f.rev;a(Vn(i,Ha(m._id))+"?rev="+v,{method:"DELETE"},p).catch(p)}),t.getAttachment=o("getAttachment",function(d,h,f,p){"function"==typeof f&&(p=f,f={});var O,m=f.rev?"?rev="+f.rev:"",v=Vn(i,Ha(d))+"/"+u(h)+m;s(v,{method:"GET"}).then(function(b){if(O=b.headers.get("content-type"),b.ok)return"undefined"==typeof process||process.browser||"function"!=typeof b.buffer?b.blob():b.buffer();throw b}).then(function(b){"undefined"!=typeof process&&!process.browser&&(b.type=O),p(null,b)}).catch(function(b){p(b)})}),t.removeAttachment=o("removeAttachment",function(d,h,f,p){a(Vn(i,Ha(d)+"/"+u(h))+"?rev="+f,{method:"DELETE"},p).catch(p)}),t.putAttachment=o("putAttachment",function(d,h,f,p,m,v){"function"==typeof m&&(v=m,m=p,p=f,f=null);var O=Ha(d)+"/"+u(h),b=Vn(i,O);if(f&&(b+="?rev="+f),"string"==typeof p){var x;try{x=zO(p)}catch(I){return v(pt(zP,"Attachment is not a valid base64 string"))}p=x?GO(x,m):""}a(b,{headers:new Mc({"Content-Type":m}),method:"PUT",body:p},v).catch(v)}),t._bulkDocs=function(d,h,f){d.new_edits=h.new_edits,c().then(function(){return Promise.all(d.docs.map(AF))}).then(function(){return a(Vn(i,"_bulk_docs"),{method:"POST",body:JSON.stringify(d)},f)}).catch(f)},t._put=function(d,h,f){c().then(function(){return AF(d)}).then(function(){return a(Vn(i,Ha(d._id)),{method:"PUT",body:JSON.stringify(d)})}).then(function(p){f(null,p.data)}).catch(function(p){p.docId=d&&d._id,f(p)})},t.allDocs=o("allDocs",function(d,h){"function"==typeof d&&(h=d,d={});var p,f={},m="GET";(d=Qn(d)).conflicts&&(f.conflicts=!0),d.update_seq&&(f.update_seq=!0),d.descending&&(f.descending=!0),d.include_docs&&(f.include_docs=!0),d.attachments&&(f.attachments=!0),d.key&&(f.key=JSON.stringify(d.key)),d.start_key&&(d.startkey=d.start_key),d.startkey&&(f.startkey=JSON.stringify(d.startkey)),d.end_key&&(d.endkey=d.end_key),d.endkey&&(f.endkey=JSON.stringify(d.endkey)),void 0!==d.inclusive_end&&(f.inclusive_end=!!d.inclusive_end),void 0!==d.limit&&(f.limit=d.limit),void 0!==d.skip&&(f.skip=d.skip);var v=Zm(f);void 0!==d.keys&&(m="POST",p={keys:d.keys}),a(Vn(i,"_all_docs"+v),{method:m,body:JSON.stringify(p)}).then(function(O){d.include_docs&&d.attachments&&d.binary&&O.data.rows.forEach(fw),h(null,O.data)}).catch(h)}),t._changes=function(d){var h="batch_size"in d?d.batch_size:25;(d=Qn(d)).continuous&&!("heartbeat"in d)&&(d.heartbeat=1e4);var f="timeout"in d?d.timeout:3e4;"timeout"in d&&d.timeout&&f-d.timeout<5e3&&(f=d.timeout+5e3),"heartbeat"in d&&d.heartbeat&&f-d.heartbeat<5e3&&(f=d.heartbeat+5e3);var p={};"timeout"in d&&d.timeout&&(p.timeout=d.timeout);var m=void 0!==d.limit&&d.limit,v=m;if(d.style&&(p.style=d.style),(d.include_docs||d.filter&&"function"==typeof d.filter)&&(p.include_docs=!0),d.attachments&&(p.attachments=!0),d.continuous&&(p.feed="longpoll"),d.seq_interval&&(p.seq_interval=d.seq_interval),d.conflicts&&(p.conflicts=!0),d.descending&&(p.descending=!0),d.update_seq&&(p.update_seq=!0),"heartbeat"in d&&d.heartbeat&&(p.heartbeat=d.heartbeat),d.filter&&"string"==typeof d.filter&&(p.filter=d.filter),d.view&&"string"==typeof d.view&&(p.filter="_view",p.view=d.view),d.query_params&&"object"==typeof d.query_params)for(var O in d.query_params)d.query_params.hasOwnProperty(O)&&(p[O]=d.query_params[O]);var x,b="GET";d.doc_ids?(p.filter="_doc_ids",b="POST",x={doc_ids:d.doc_ids}):d.selector&&(p.filter="_selector",b="POST",x={selector:d.selector});var F,I=new Xte,j=function(se,ee){if(!d.aborted){p.since=se,"object"==typeof p.since&&(p.since=JSON.stringify(p.since)),d.descending?m&&(p.limit=v):p.limit=!m||v>h?h:v;var ve=Vn(i,"_changes"+Zm(p)),De={signal:I.signal,method:b,body:JSON.stringify(x)};F=se,!d.aborted&&c().then(function(){return a(ve,De,ee)}).catch(ee)}},B={results:[]},re=function(se,ee){if(!d.aborted){var ve=0;if(ee&&ee.results){ve=ee.results.length,B.last_seq=ee.last_seq;var De=null,Se=null;"number"==typeof ee.pending&&(De=ee.pending),("string"==typeof B.last_seq||"number"==typeof B.last_seq)&&(Se=B.last_seq),ee.results=ee.results.filter(function(J){v--;var C=UO(d)(J);return C&&(d.include_docs&&d.attachments&&d.binary&&fw(J),d.return_docs&&B.results.push(J),d.onChange(J,De,Se)),C})}else if(se)return d.aborted=!0,void d.complete(se);ee&&ee.last_seq&&(F=ee.last_seq),(!d.continuous||m&&v<=0)&&(m&&v<=0||ee&&ve<h||d.descending)?d.complete(null,B):mi()(function(){j(F,re)})}};return j(d.since||0,re),{cancel:function(){d.aborted=!0,I.abort()}}},t.revsDiff=o("revsDiff",function(d,h,f){"function"==typeof h&&(f=h,h={}),a(Vn(i,"_revs_diff"),{method:"POST",body:JSON.stringify(d)},f).catch(f)}),t._close=function(d){d()},t._destroy=function(d,h){a(Vn(i,""),{method:"DELETE"}).then(function(f){h(null,f)}).catch(function(f){404===f.status?h(null,{ok:!0}):h(f)})}}function Wa(n){this.status=400,this.name="query_parse_error",this.message=n,this.error=!0;try{Error.captureStackTrace(this,Wa)}catch(e){}}function Ym(n){this.status=404,this.name="not_found",this.message=n,this.error=!0;try{Error.captureStackTrace(this,Ym)}catch(e){}}function Km(n){this.status=500,this.name="invalid_value",this.message=n,this.error=!0;try{Error.captureStackTrace(this,Km)}catch(e){}}function RF(n,e){return e&&n.then(function(t){mi()(function(){e(null,t)})},function(t){mi()(function(){e(t)})}),n}function mw(n,e){return function(){var t=arguments,i=this;return n.add(function(){return e.apply(i,t)})}}function IF(n){var e=new xc(n),t=new Array(e.size),i=-1;return e.forEach(function(r){t[++i]=r}),t}function gw(n){var e=new Array(n.size),t=-1;return n.forEach(function(i,r){e[++t]=r}),e}function PF(n){return new Km("builtin "+n+" function requires map values to be numbers or number arrays")}function _w(n){for(var e=0,t=0,i=n.length;t<i;t++){var r=n[t];if("number"!=typeof r){if(!Array.isArray(r))throw PF("_sum");e="number"==typeof e?[e]:e;for(var s=0,o=r.length;s<o;s++){var a=r[s];if("number"!=typeof a)throw PF("_sum");void 0===e[s]?e.push(a):e[s]+=a}}else"number"==typeof e?e+=r:e[0]+=r}return e}pw.valid=function(){return!0},gi()(Wa,Error),gi()(Ym,Error),gi()(Km,Error);var mie=Or.bind(null,"log"),gie=Array.isArray,_ie=JSON.parse;function FF(n,e){return WO("return ("+n.replace(/;\s*$/,"")+");",{emit:e,sum:_w,log:mie,isArray:gie,toJSON:_ie})}function Vd(){this.promise=new Promise(function(n){n()})}function NF(n){if(!n)return"undefined";switch(typeof n){case"function":case"string":return n.toString();default:return JSON.stringify(n)}}function LF(n,e,t,i,r,s){var a,o=function(n,e){return NF(n)+NF(e)+"undefined"}(t,i);if(!r&&(a=n._cachedViews=n._cachedViews||{})[o])return a[o];var l=n.info().then(function(c){var u=c.db_name+"-mrview-"+(r?"temp":nF(o));return Wm(n,"_local/"+s,function(h){h.views=h.views||{};var f=e;-1===f.indexOf("/")&&(f=e+"/"+e);var p=h.views[f]=h.views[f]||{};if(!p[u])return p[u]=!0,h}).then(function(){return n.registerDependentDatabase(u).then(function(h){var f=h.db;f.auto_compaction=!0;var p={name:u,db:f,sourceDB:n,adapter:n.adapter,mapFun:t,reduceFun:i};return p.db.get("_local/lastSeq").catch(function(m){if(404!==m.status)throw m}).then(function(m){return p.seq=m?m.seq:0,a&&p.db.once("destroyed",function(){delete a[o]}),p})})})});return a&&(a[o]=l),l}Vd.prototype.add=function(n){return this.promise=this.promise.catch(function(){}).then(function(){return n()}),this.promise},Vd.prototype.finish=function(){return this.promise};var $F={},BF=new Vd;function vw(n){return-1===n.indexOf("/")?[n,n]:n.split("/")}function VF(n,e){try{n.emit("error",e)}catch(t){Or("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Or("error",e)}}var yw__sum=function(n,e){return _w(e)},yw__count=function(n,e){return e.length},yw__stats=function(n,e){return{sum:_w(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:function(i){for(var r=0,s=0,o=i.length;s<o;s++){var a=i[s];r+=a*a}return r}(e)}},jF=function(n,e,t,i){function r(C,S,k){try{S(k)}catch(L){VF(C,L)}}function s(C,S,k,L,V){try{return{output:S(k,L,V)}}catch(N){return VF(C,N),{error:N}}}function o(C,S){var k=qn(C.key,S.key);return 0!==k?k:qn(C.value,S.value)}function a(C,S,k){return k=k||0,"number"==typeof S?C.slice(k,S+k):k>0?C.slice(k):C}function l(C){var S=C.value;return S&&"object"==typeof S&&S._id||C.id}function u(C){return function(S){return C.include_docs&&C.attachments&&C.binary&&function(C){C.rows.forEach(function(S){var k=S.doc&&S.doc._attachments;!k||Object.keys(k).forEach(function(L){var V=k[L];k[L].data=XO(V.data,V.content_type)})})}(S),S}}function d(C,S,k,L){var V=S[C];void 0!==V&&(L&&(V=encodeURIComponent(JSON.stringify(V))),k.push(C+"="+V))}function h(C){if(void 0!==C){var S=Number(C);return isNaN(S)||S!==parseInt(C,10)?C:S}}function m(C,S){var k=C.descending?"endkey":"startkey",L=C.descending?"startkey":"endkey";if(void 0!==C[k]&&void 0!==C[L]&&qn(C[k],C[L])>0)throw new Wa("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(S.reduce&&!1!==C.reduce){if(C.include_docs)throw new Wa("{include_docs:true} is invalid for reduce");if(C.keys&&C.keys.length>1&&!C.group&&!C.group_level)throw new Wa("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(V){var N=function(C){if(C){if("number"!=typeof C)return new Wa('Invalid value for integer: "'+C+'"');if(C<0)return new Wa('Invalid value for positive integer: "'+C+'"')}}(C[V]);if(N)throw N})}function x(C){return function(S){if(404===S.status)return C;throw S}}function j(C){var S="string"==typeof C?C:C.name,k=$F[S];return k||(k=$F[S]=new Vd),k}function B(C){return mw(j(C),function(){return function(C){var S,k;var V=function(n,e){if("function"==typeof n&&2===n.length){var t=n;return function(i){return t(i,e)}}return FF(n.toString(),e)}(C.mapFun,function(me,Te){var Je={id:k._id,key:Qa(me)};null!=Te&&(Je.value=Qa(Te)),S.push(Je)}),N=C.seq||0;function q(me,Te){return function(){return function(C,S,k){var L="_local/lastSeq";return C.db.get(L).catch(x({_id:L,seq:0})).then(function(V){var N=gw(S);return Promise.all(N.map(function(q){return function(C,S,k){var L="_local/doc_"+C,V={_id:L,keys:[]},N=k.get(C),q=N[0];return(function(n){return 1===n.length&&/^1-/.test(n[0].rev)}(N[1])?Promise.resolve(V):S.db.get(L).catch(x(V))).then(function(W){return function(W){return W.keys.length?S.db.allDocs({keys:W.keys,include_docs:!0}):Promise.resolve({rows:[]})}(W).then(function(me){return function(W,me){for(var Te=[],Je=new xc,Ue=0,Qe=me.rows.length;Ue<Qe;Ue++){var gt=me.rows[Ue].doc;if(gt&&(Te.push(gt),Je.add(gt._id),gt._deleted=!q.has(gt._id),!gt._deleted)){var On=q.get(gt._id);"value"in On&&(gt.value=On.value)}}var nn=gw(q);return nn.forEach(function(Jr){if(!Je.has(Jr)){var es={_id:Jr},zh=q.get(Jr);"value"in zh&&(es.value=zh.value),Te.push(es)}}),W.keys=IF(nn.concat(W.keys)),Te.push(W),Te}(W,me)})})}(q,C,S)})).then(function(q){var te=Hm(q);return V.seq=k,te.push(V),C.db.bulkDocs({docs:te})})})}(C,me,Te)}}var te=new Vd;function he(){return C.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:N,limit:50}).then(_e)}function _e(me){var Te=me.results;if(Te.length){var Je=function(me){for(var Te=new Qi,Je=0,Ue=me.length;Je<Ue;Je++){var Qe=me[Je];if("_"!==Qe.doc._id[0]){S=[],(k=Qe.doc)._deleted||r(C.sourceDB,V,k),S.sort(o);var Xe=W(S);Te.set(Qe.doc._id,[Xe,Qe.changes])}N=Qe.seq}return Te}(Te);if(te.add(q(Je,N)),!(Te.length<50))return he()}}function W(me){for(var Je,Te=new Qi,Ue=0,Qe=me.length;Ue<Qe;Ue++){var Xe=me[Ue],gt=[Xe.key,Xe.id];Ue>0&&0===qn(Xe.key,Je)&&gt.push(Ue),Te.set(Gr(gt),Xe),Je=Xe.key}return Te}return he().then(function(){return te.finish()}).then(function(){C.seq=N})}(C)})()}function ee(C,S){return mw(j(C),function(){return function(C,S){var k,L=C.reduceFun&&!1!==S.reduce,V=S.skip||0;function N(Ue){return Ue.include_docs=!0,C.db.allDocs(Ue).then(function(Qe){return k=Qe.total_rows,Qe.rows.map(function(Xe){if("value"in Xe.doc&&"object"==typeof Xe.doc.value&&null!==Xe.doc.value){var gt=Object.keys(Xe.doc.value).sort(),On=["id","key","value"];if(!(gt<On||gt>On))return Xe.doc.value}var nn=function(n){for(var e=[],t=[],i=0;;){var r=n[i++];if("\0"!==r)switch(r){case"1":e.push(null);break;case"2":e.push("1"===n[i]),i++;break;case"3":var s=cne(n,i);e.push(s.num),i+=s.length;break;case"4":for(var o="";;){var a=n[i];if("\0"===a)break;o+=a,i++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),e.push(o);break;case"5":var l={element:[],index:e.length};e.push(l.element),t.push(l);break;case"6":var c={element:{},index:e.length};e.push(c.element),t.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===e.length)return e.pop();une(e,t)}}}(Xe.doc._id);return{key:nn[0],id:nn[1],value:"value"in Xe.doc?Xe.doc.value:null}})})}function q(Ue){var Qe;if(Qe=L?function(C,S,k){0===k.group_level&&delete k.group_level;var L=k.group||k.group_level,V=function(n){var e=n.toString(),t=function(n){if(/^_sum/.test(n))return yw__sum;if(/^_count/.test(n))return yw__count;if(/^_stats/.test(n))return yw__stats;if(/^_/.test(n))throw new Error(n+" is not a supported reduce function.")}(e);return t||FF(e)}(C.reduceFun),N=[],q=isNaN(k.group_level)?Number.POSITIVE_INFINITY:k.group_level;S.forEach(function(W){var me=N[N.length-1],Te=L?W.key:null;if(L&&Array.isArray(Te)&&(Te=Te.slice(0,q)),me&&0===qn(me.groupKey,Te))return me.keys.push([W.key,W.id]),void me.values.push(W.value);N.push({keys:[[W.key,W.id]],values:[W.value],groupKey:Te})}),S=[];for(var te=0,he=N.length;te<he;te++){var _e=N[te],ge=s(C.sourceDB,V,_e.keys,_e.values,!1);if(ge.error&&ge.error instanceof Km)throw ge.error;S.push({value:ge.error?null:ge.output,key:_e.groupKey})}return{rows:a(S,k.limit,k.skip)}}(C,Ue,S):{total_rows:k,offset:V,rows:Ue},S.update_seq&&(Qe.update_seq=C.seq),S.include_docs){var Xe=IF(Ue.map(l));return C.sourceDB.allDocs({keys:Xe,include_docs:!0,conflicts:S.conflicts,attachments:S.attachments,binary:S.binary}).then(function(gt){var On=new Qi;return gt.rows.forEach(function(nn){On.set(nn.id,nn.doc)}),Ue.forEach(function(nn){var Jr=l(nn),es=On.get(Jr);es&&(nn.doc=es)}),Qe})}return Qe}if(void 0!==S.keys&&!S.keys.length&&(S.limit=0,delete S.keys),void 0!==S.keys){var he=S.keys.map(function(Ue){var Qe={startkey:Gr([Ue]),endkey:Gr([Ue,{}])};return S.update_seq&&(Qe.update_seq=!0),N(Qe)});return Promise.all(he).then(Hm).then(q)}var ge,W,_e={descending:S.descending};if(S.update_seq&&(_e.update_seq=!0),"start_key"in S&&(ge=S.start_key),"startkey"in S&&(ge=S.startkey),"end_key"in S&&(W=S.end_key),"endkey"in S&&(W=S.endkey),void 0!==ge&&(_e.startkey=Gr(S.descending?[ge,{}]:[ge])),void 0!==W){var me=!1!==S.inclusive_end;S.descending&&(me=!me),_e.endkey=Gr(me?[W,{}]:[W])}if(void 0!==S.key){var Te=Gr([S.key]),Je=Gr([S.key,{}]);_e.descending?(_e.endkey=Te,_e.startkey=Je):(_e.startkey=Te,_e.endkey=Je)}return L||("number"==typeof S.limit&&(_e.limit=S.limit),_e.skip=V),N(_e).then(q)}(C,S)})()}function ke(C,S,k){if("function"==typeof C._query)return function(C,S,k){return new Promise(function(L,V){C._query(S,k,function(N,q){if(N)return V(N);L(q)})})}(C,S,k);if(Os(C))return function(C,S,k){var V,q,te,L=[],N="GET";if(d("reduce",k,L),d("include_docs",k,L),d("attachments",k,L),d("limit",k,L),d("descending",k,L),d("group",k,L),d("group_level",k,L),d("skip",k,L),d("stale",k,L),d("conflicts",k,L),d("startkey",k,L,!0),d("start_key",k,L,!0),d("endkey",k,L,!0),d("end_key",k,L,!0),d("inclusive_end",k,L),d("key",k,L,!0),d("update_seq",k,L),L=""===(L=L.join("&"))?"":"?"+L,void 0!==k.keys){var _e="keys="+encodeURIComponent(JSON.stringify(k.keys));_e.length+L.length+1<=2e3?L+=("?"===L[0]?"&":"?")+_e:(N="POST","string"==typeof S?V={keys:k.keys}:S.keys=k.keys)}if("string"==typeof S){var ge=vw(S);return C.fetch("_design/"+ge[0]+"/_view/"+ge[1]+L,{headers:new Mc({"Content-Type":"application/json"}),method:N,body:JSON.stringify(V)}).then(function(W){return q=W.ok,te=W.status,W.json()}).then(function(W){if(!q)throw W.status=te,Ec(W);return W.rows.forEach(function(me){if(me.value&&me.value.error&&"builtin_reduce_error"===me.value.error)throw new Error(me.reason)}),W}).then(u(k))}return V=V||{},Object.keys(S).forEach(function(W){V[W]=Array.isArray(S[W])?S[W]:S[W].toString()}),C.fetch("_temp_view"+L,{headers:new Mc({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(V)}).then(function(W){return q=W.ok,te=W.status,W.json()}).then(function(W){if(!q)throw W.status=te,Ec(W);return W}).then(u(k))}(C,S,k);if("string"!=typeof S)return m(k,S),BF.add(function(){return LF(C,"temp_view/temp_view",S.map,S.reduce,!0,n).then(function(he){return function(n,e){return n.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}(B(he).then(function(){return ee(he,k)}),function(){return he.db.destroy()})})}),BF.finish();var L=S,V=vw(L),q=V[1];return C.get("_design/"+V[0]).then(function(te){var he=te.views&&te.views[q];if(!he)throw new Ym("ddoc "+te._id+" has no view named "+q);return function(n,e){var t=n.views&&n.views[e];if("string"!=typeof t.map)throw new Ym("ddoc "+n._id+" has no string view named "+e+", instead found object of type: "+typeof t.map)}(te,q),m(k,he),LF(C,L,he.map,he.reduce,!1,n).then(function(ge){return"ok"===k.stale||"update_after"===k.stale?("update_after"===k.stale&&mi()(function(){B(ge)}),ee(ge,k)):B(ge).then(function(){return ee(ge,k)})})})}var J=function(n){return fo()(function(e){var t=e.pop(),i=n.apply(this,e);return"function"==typeof t&&RF(i,t),i})}(function(){var C=this;return"function"==typeof C._viewCleanup?function(C){return new Promise(function(S,k){C._viewCleanup(function(L,V){if(L)return k(L);S(V)})})}(C):Os(C)?function(C){return C.fetch("_view_cleanup",{headers:new Mc({"Content-Type":"application/json"}),method:"POST"}).then(function(S){return S.json()})}(C):function(C){return C.get("_local/"+n).then(function(S){var k=new Qi;Object.keys(S.views).forEach(function(V){var N=vw(V),q="_design/"+N[0],te=N[1],he=k.get(q);he||(he=new xc,k.set(q,he)),he.add(te)});var L={keys:gw(k),include_docs:!0};return C.allDocs(L).then(function(V){var N={};V.rows.forEach(function(he){var _e=he.key.substring(8);k.get(he.key).forEach(function(ge){var W=_e+"/"+ge;S.views[W]||(W=ge);var me=Object.keys(S.views[W]),Te=he.doc&&he.doc.views&&he.doc.views[ge];me.forEach(function(Je){N[Je]=N[Je]||Te})})});var te=Object.keys(N).filter(function(he){return!N[he]}).map(function(he){return mw(j(he),function(){return new C.constructor(he,C.__opts).destroy()})()});return Promise.all(te).then(function(){return{ok:!0}})})},x({ok:!0}))}(C)});return{query:function(C,S,k){var L=this;"function"==typeof S&&(k=S,S={}),S=S?function(C){return C.group_level=h(C.group_level),C.limit=h(C.limit),C.skip=h(C.skip),C}(S):{},"function"==typeof C&&(C={map:C});var V=Promise.resolve().then(function(){return ke(L,C,S)});return RF(V,k),V},viewCleanup:J}}("mrviews"),Eie={query:function(n,e,t){return jF.query.call(this,n,e,t)},viewCleanup:function(n){return jF.viewCleanup.call(this,n)}};function UF(n){return/^1-/.test(n)}function HF(n,e){var t=Object.keys(e._attachments);return Promise.all(t.map(function(i){return n.getAttachment(e._id,i,{rev:e._rev})}))}function Rie(n,e,t,i){t=Qn(t);var r=[],s=!0;return Promise.resolve().then(function(){var h=Object.keys(t).filter(function(f){var p=t[f].missing;return 1===p.length&&UF(p[0])});if(h.length>0)return function(h){return n.allDocs({keys:h,include_docs:!0,conflicts:!0}).then(function(f){if(i.cancelled)throw new Error("cancelled");f.rows.forEach(function(p){p.deleted||!p.doc||!UF(p.value.rev)||function(h){return h._attachments&&Object.keys(h._attachments).length>0}(p.doc)||function(h){return h._conflicts&&h._conflicts.length>0}(p.doc)||(p.doc._conflicts&&delete p.doc._conflicts,r.push(p.doc),delete t[p.id])})})}(h)}).then(function(){var h=function(n){var e=[];return Object.keys(n).forEach(function(t){n[t].missing.forEach(function(r){e.push({id:t,rev:r})})}),{docs:e,revs:!0,latest:!0}}(t);if(h.docs.length)return n.bulkGet(h).then(function(f){if(i.cancelled)throw new Error("cancelled");return Promise.all(f.results.map(function(p){return Promise.all(p.docs.map(function(m){var v=m.ok;return m.error&&(s=!1),v&&v._attachments?function(n,e,t){var i=Os(e)&&!Os(n),r=Object.keys(t._attachments);return i?n.get(t._id).then(function(s){return Promise.all(r.map(function(o){return function(n,e,t){return!n._attachments||!n._attachments[t]||n._attachments[t].digest!==e._attachments[t].digest}(s,t,o)?e.getAttachment(t._id,o):n.getAttachment(s._id,o)}))}).catch(function(s){if(404!==s.status)throw s;return HF(e,t)}):HF(e,t)}(e,n,v).then(function(O){var b=Object.keys(v._attachments);return O.forEach(function(x,I){var F=v._attachments[b[I]];delete F.stub,delete F.length,F.data=x}),v}):v}))})).then(function(p){r=r.concat(Hm(p).filter(Boolean))})})}).then(function(){return{ok:s,docs:r}})}var zF="pouchdb";function bw(n,e,t,i,r){return n.get(e).catch(function(s){if(404===s.status)return("http"===n.adapter||"https"===n.adapter)&&BO(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:e,history:[],replicator:zF,version:1};throw s}).then(function(s){if(!r.cancelled&&s.last_seq!==t)return s.history=(s.history||[]).filter(function(o){return o.session_id!==i}),s.history.unshift({last_seq:t,session_id:i}),s.history=s.history.slice(0,5),s.version=1,s.replicator=zF,s.session_id=i,s.last_seq=t,n.put(s).catch(function(o){if(409===o.status)return bw(n,e,t,i,r);throw o})})}function jd(n,e,t,i,r){this.src=n,this.target=e,this.id=t,this.returnValue=i,this.opts=r||{}}jd.prototype.writeCheckpoint=function(n,e){var t=this;return this.updateTarget(n,e).then(function(){return t.updateSource(n,e)})},jd.prototype.updateTarget=function(n,e){return this.opts.writeTargetCheckpoint?bw(this.target,this.id,n,e,this.returnValue):Promise.resolve(!0)},jd.prototype.updateSource=function(n,e){if(this.opts.writeSourceCheckpoint){var t=this;return bw(this.src,this.id,n,e,this.returnValue).catch(function(i){if(XF(i))return t.opts.writeSourceCheckpoint=!1,!0;throw i})}return Promise.resolve(!0)};var qF={undefined:function(n,e){return 0===qn(n.last_seq,e.last_seq)?e.last_seq:0},1:function(n,e){return function(n,e){return n.session_id===e.session_id?{last_seq:n.last_seq,history:n.history}:GF(n.history,e.history)}(e,n).last_seq}};function GF(n,e){var t=n[0],i=n.slice(1),r=e[0],s=e.slice(1);return t&&0!==e.length?Ow(t.session_id,e)?{last_seq:t.last_seq,history:n}:Ow(r.session_id,i)?{last_seq:r.last_seq,history:s}:GF(i,s):{last_seq:0,history:[]}}function Ow(n,e){var t=e[0],i=e.slice(1);return!(!n||0===e.length)&&(n===t.session_id||Ow(n,i))}function XF(n){return"number"==typeof n.status&&4===Math.floor(n.status/100)}function YF(n,e,t,i,r){var o,x,s=[],a={seq:0,changes:[],docs:[]},l=!1,c=!1,u=!1,d=0,h=t.continuous||t.live||!1,f=t.batch_size||100,p=t.batches_limit||10,m=!1,v=t.doc_ids,O=t.selector,I=[],F=zm();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var j={};function B(){return x?Promise.resolve():function(n,e,t){var i=t.doc_ids?t.doc_ids.sort(qn):"",r=t.filter?t.filter.toString():"",s="",o="",a="";return t.selector&&(a=JSON.stringify(t.selector)),t.filter&&t.query_params&&(s=JSON.stringify(function(n){return Object.keys(n).sort(qn).reduce(function(e,t){return e[t]=n[t],e},{})}(t.query_params))),t.filter&&"_view"===t.filter&&(o=t.view.toString()),Promise.all([n.id(),e.id()]).then(function(l){var c=l[0]+l[1]+r+o+s+i+a;return new Promise(function(u){YO(c,u)})}).then(function(l){return"_local/"+l.replace(/\//g,".").replace(/\+/g,"_")})}(n,e,t).then(function(N){x=new jd(n,e,N,i,!1===t.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===t.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===t.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})})}function re(){if(I=[],0!==o.docs.length){var N=o.docs;return e.bulkDocs({docs:N,new_edits:!1},{timeout:t.timeout}).then(function(te){if(i.cancelled)throw we(),new Error("cancelled");var he=Object.create(null);te.forEach(function(ge){ge.error&&(he[ge.id]=ge)});var _e=Object.keys(he).length;r.doc_write_failures+=_e,r.docs_written+=N.length-_e,N.forEach(function(ge){var W=he[ge._id];if(W){r.errors.push(W);var me=(W.name||"").toLowerCase();if("unauthorized"!==me&&"forbidden"!==me)throw W;i.emit("denied",Qn(W))}else I.push(ge)})},function(te){throw r.doc_write_failures+=N.length,te})}}function se(){if(o.error)throw new Error("There was a problem getting docs.");r.last_seq=d=o.seq;var N=Qn(r);return I.length&&(N.docs=I,"number"==typeof o.pending&&(N.pending=o.pending,delete o.pending),i.emit("change",N)),l=!0,x.writeCheckpoint(o.seq,F).then(function(){if(l=!1,i.cancelled)throw we(),new Error("cancelled");o=void 0,k()}).catch(function(q){throw V(q),q})}function ve(){return Rie(n,e,o.diffs,i).then(function(N){o.error=!N.ok,N.docs.forEach(function(q){delete o.diffs[q._id],r.docs_read++,o.docs.push(q)})})}function De(){if(!i.cancelled&&!o){if(0===s.length)return void Se(!0);o=s.shift(),(N={},o.changes.forEach(function(q){"_user/"!==q.id&&(N[q.id]=q.changes.map(function(te){return te.rev}))}),e.revsDiff(N).then(function(q){if(i.cancelled)throw we(),new Error("cancelled");o.diffs=q})).then(ve).then(re).then(se).then(De).catch(function(N){ke("batch processing terminated with error",N)})}var N}function Se(N){0!==a.changes.length?(N||c||a.changes.length>=f)&&(s.push(a),a={seq:0,changes:[],docs:[]},("pending"===i.state||"stopped"===i.state)&&(i.state="active",i.emit("active")),De()):0===s.length&&!o&&((h&&j.live||c)&&(i.state="pending",i.emit("paused")),c&&we())}function ke(N,q){u||(q.message||(q.message=N),r.ok=!1,r.status="aborting",s=[],a={seq:0,changes:[],docs:[]},we(q))}function we(N){if(!(u||i.cancelled&&(r.status="cancelled",l)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=d,u=!0,N){(N=pt(N)).result=r;var q=(N.name||"").toLowerCase();"unauthorized"===q||"forbidden"===q?(i.emit("error",N),i.removeAllListeners()):function(n,e,t,i){if(!1===n.retry)return e.emit("error",t),void e.removeAllListeners();if("function"!=typeof n.back_off_function&&(n.back_off_function=ute),e.emit("requestError",t),"active"===e.state||"pending"===e.state){e.emit("paused",t),e.state="stopped";var r=function(){n.current_back_off=0};e.once("paused",function(){e.removeListener("active",r)}),e.once("active",r)}n.current_back_off=n.current_back_off||0,n.current_back_off=n.back_off_function(n.current_back_off),setTimeout(i,n.current_back_off)}(t,i,N,function(){YF(n,e,t,i)})}else i.emit("complete",r),i.removeAllListeners()}function J(N,q,te){if(i.cancelled)return we();"number"==typeof q&&(a.pending=q),!UO(t)(N)||(a.seq=N.seq||te,a.changes.push(N),mi()(function(){Se(0===s.length&&j.live)}))}function C(N){if(m=!1,i.cancelled)return we();if(N.results.length>0)j.since=N.results[N.results.length-1].seq,k(),Se(!0);else{var q=function(){h?(j.live=!0,k()):c=!0,Se(!0)};o||0!==N.results.length?q():(l=!0,x.writeCheckpoint(N.last_seq,F).then(function(){l=!1,r.last_seq=d=N.last_seq,q()}).catch(V))}}function S(N){if(m=!1,i.cancelled)return we();ke("changes rejected",N)}function k(){if(!m&&!c&&s.length<p){m=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",N);var te=n.changes(j).on("change",J);te.then(q,q),te.then(C).catch(S),t.retry&&(i._changes=te,i._abortChanges=N)}function N(){te.cancel()}function q(){i.removeListener("cancel",N)}}function L(){B().then(function(){if(!i.cancelled)return x.getCheckpoint().then(function(N){j={since:d=N,limit:f,batch_size:f,style:"all_docs",doc_ids:v,selector:O,return_docs:!0},t.filter&&("string"!=typeof t.filter?j.include_docs=!0:j.filter=t.filter),"heartbeat"in t&&(j.heartbeat=t.heartbeat),"timeout"in t&&(j.timeout=t.timeout),t.query_params&&(j.query_params=t.query_params),t.view&&(j.view=t.view),k()});we()}).catch(function(N){ke("getCheckpoint rejected with ",N)})}function V(N){l=!1,ke("writeCheckpoint completed with error",N)}i.ready(n,e),i.cancelled?we():(i._addedListeners||(i.once("cancel",we),"function"==typeof t.complete&&(i.once("error",t.complete),i.once("complete",function(N){t.complete(null,N)})),i._addedListeners=!0),void 0===t.since?L():B().then(function(){return l=!0,x.writeCheckpoint(t.since,F)}).then(function(){l=!1,i.cancelled?we():(d=t.since,L())}).catch(V))}function Jm(){ti().call(this),this.cancelled=!1,this.state="pending";var n=this,e=new Promise(function(t,i){n.once("complete",t),n.once("error",i)});n.then=function(t,i){return e.then(t,i)},n.catch=function(t){return e.catch(t)},n.catch(function(){})}function eg(n,e){return"string"==typeof n?new(0,e.PouchConstructor)(n,e):n}function ww(n,e,t,i){if("function"==typeof t&&(i=t,t={}),void 0===t&&(t={}),t.doc_ids&&!Array.isArray(t.doc_ids))throw pt(Um,"`doc_ids` filter parameter is not a list.");t.complete=i,(t=Qn(t)).continuous=t.continuous||t.live,t.retry="retry"in t&&t.retry,t.PouchConstructor=t.PouchConstructor||this;var r=new Jm(t);return YF(eg(n,t),eg(e,t),t,r),r}function $ie(n,e,t,i){return"function"==typeof t&&(i=t,t={}),void 0===t&&(t={}),(t=Qn(t)).PouchConstructor=t.PouchConstructor||this,new Cw(n=eg(n,t),e=eg(e,t),t,i)}function Cw(n,e,t,i){var r=this;this.canceled=!1;var s=t.push?Dc({},t,t.push):t,o=t.pull?Dc({},t,t.pull):t;function a(x){r.emit("change",{direction:"pull",change:x})}function l(x){r.emit("change",{direction:"push",change:x})}function c(x){r.emit("denied",{direction:"push",doc:x})}function u(x){r.emit("denied",{direction:"pull",doc:x})}function d(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function h(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function f(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function p(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ww(n,e,s),this.pull=ww(e,n,o),this.pushPaused=!0,this.pullPaused=!0;var m={};function v(x){return function(I,F){("change"===I&&(F===a||F===l)||"denied"===I&&(F===u||F===c)||"paused"===I&&(F===h||F===d)||"active"===I&&(F===p||F===f))&&(I in m||(m[I]={}),m[I][x]=!0,2===Object.keys(m[I]).length&&r.removeAllListeners(I))}}function O(x,I,F){-1==x.listeners(I).indexOf(F)&&x.on(I,F)}t.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",function(x){"change"===x?(O(r.pull,"change",a),O(r.push,"change",l)):"denied"===x?(O(r.pull,"denied",u),O(r.push,"denied",c)):"active"===x?(O(r.pull,"active",p),O(r.push,"active",f)):"paused"===x&&(O(r.pull,"paused",h),O(r.push,"paused",d))}),this.on("removeListener",function(x){"change"===x?(r.pull.removeListener("change",a),r.push.removeListener("change",l)):"denied"===x?(r.pull.removeListener("denied",u),r.push.removeListener("denied",c)):"active"===x?(r.pull.removeListener("active",p),r.push.removeListener("active",f)):"paused"===x&&(r.pull.removeListener("paused",h),r.push.removeListener("paused",d))}),this.pull.on("removeListener",v("pull")),this.push.on("removeListener",v("push"));var b=Promise.all([this.push,this.pull]).then(function(x){var I={push:x[0],pull:x[1]};return r.emit("complete",I),i&&i(null,I),r.removeAllListeners(),I},function(x){if(r.cancel(),i?i(x):r.emit("error",x),r.removeAllListeners(),i)throw x});this.then=function(x,I){return b.then(x,I)},this.catch=function(x){return b.catch(x)}}jd.prototype.getCheckpoint=function(){var n=this;return n.opts&&n.opts.writeSourceCheckpoint&&!n.opts.writeTargetCheckpoint?n.src.get(n.id).then(function(e){return e.last_seq||0}).catch(function(e){if(404!==e.status)throw e;return 0}):n.target.get(n.id).then(function(e){return n.opts&&n.opts.writeTargetCheckpoint&&!n.opts.writeSourceCheckpoint?e.last_seq||0:n.src.get(n.id).then(function(t){return e.version!==t.version?0:(i=e.version?e.version.toString():"undefined")in qF?qF[i](e,t):0;var i},function(t){if(404===t.status&&e.last_seq)return n.src.put({_id:n.id,last_seq:0}).then(function(){return 0},function(i){return XF(i)?(n.opts.writeSourceCheckpoint=!1,e.last_seq):0});throw t})}).catch(function(e){if(404!==e.status)throw e;return 0})},gi()(Jm,ti()),Jm.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Jm.prototype.ready=function(n,e){var t=this;function i(){t.cancel()}t._readyCalled||(t._readyCalled=!0,n.once("destroyed",i),e.once("destroyed",i),t.once("complete",function(){n.removeListener("destroyed",i),e.removeListener("destroyed",i)}))},gi()(Cw,ti()),Cw.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},ht.plugin(function(n){n.adapter("idb",kF,!0)}).plugin(function(n){n.adapter("http",pw,!1),n.adapter("https",pw,!1)}).plugin(Eie).plugin(function(n){n.replicate=ww,n.sync=$ie,Object.defineProperty(n.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,i,r){return e.constructor.replicate(t,e,i,r)},to:function(t,i,r){return e.constructor.replicate(e,t,i,r)}}),this.replicateMethods}}),n.prototype.sync=function(e,t,i){return this.constructor.sync(this,e,t,i)}});const KF=ht;function zt(n,e,t){Error.call(this,t),this.status=n,this.name=e,this.message=t,this.error=!0}gi()(zt,Error),zt.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new zt(401,"unauthorized","Name or password is incorrect."),new zt(400,"bad_request","Missing JSON list of 'docs'"),new zt(404,"not_found","missing"),new zt(409,"conflict","Document update conflict"),new zt(400,"bad_request","_id field must contain a string"),new zt(412,"missing_id","_id is required for puts"),new zt(400,"bad_request","Only reserved document ids may start with underscore."),new zt(412,"precondition_failed","Database not open");var Qie=new zt(500,"unknown_error","Database encountered an unknown error");function xw(n){if("object"!=typeof n){var e=n;(n=Qie).data=e}return"error"in n&&"conflict"===n.error&&(n.name="conflict",n.status=409),"name"in n||(n.name=n.error||"unknown"),"status"in n||(n.status=500),"message"in n||(n.message=n.message||n.reason),n}new zt(500,"badarg","Some query argument is invalid"),new zt(400,"invalid_request","Request was invalid"),new zt(400,"query_parse_error","Some query parameter is invalid"),new zt(500,"doc_validation","Bad special document member"),new zt(400,"bad_request","Something wrong with the request"),new zt(400,"bad_request","Document must be a JSON object"),new zt(404,"not_found","Database not found"),new zt(500,"indexed_db_went_bad","unknown"),new zt(500,"web_sql_went_bad","unknown"),new zt(500,"levelDB_went_went_bad","unknown"),new zt(403,"forbidden","Forbidden by design doc validate_doc_update function"),new zt(400,"bad_request","Invalid rev format"),new zt(412,"file_exists","The database could not be created, the file already exists."),new zt(412,"missing_stub","A pre-existing attachment stub wasn't found"),new zt(413,"invalid_url","Provided URL is invalid"),"undefined"!=typeof AbortController&&AbortController,fetch;var Hd,Rc,tg=Headers;function ng(n){return"$"+n}function Vie(n){return n.substring(1)}function qo(){this._store={}}function Ud(n){if(this._store=new qo,n&&Array.isArray(n))for(var e=0,t=n.length;e<t;e++)this.add(n[e])}function zie(n){for(var e=n.length,t=new ArrayBuffer(e),i=new Uint8Array(t),r=0;r<e;r++)i[r]=n.charCodeAt(r);return t}function Gie(n,e){return function(n,e){return function(n,e){n=n||[],e=e||{};try{return new Blob(n,e)}catch(s){if("TypeError"!==s.name)throw s;for(var i=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<n.length;r+=1)i.append(n[r]);return i.getBlob(e.type)}}([zie(n)],{type:e})}(function(n){return atob(n)}(n),e)}function ii(n,e){if(n===e)return 0;n=za(n),e=za(e);var t=Tw(n),i=Tw(e);if(t-i!=0)return t-i;switch(typeof n){case"number":return n-e;case"boolean":return n<e?-1:1;case"string":return function(n,e){return n===e?0:n>e?1:-1}(n,e)}return Array.isArray(n)?function(n,e){for(var t=Math.min(n.length,e.length),i=0;i<t;i++){var r=ii(n[i],e[i]);if(0!==r)return r}return n.length===e.length?0:n.length>e.length?1:-1}(n,e):function(n,e){for(var t=Object.keys(n),i=Object.keys(e),r=Math.min(t.length,i.length),s=0;s<r;s++){var o=ii(t[s],i[s]);if(0!==o||0!==(o=ii(n[t[s]],e[i[s]])))return o}return t.length===i.length?0:t.length>i.length?1:-1}(n,e)}function za(n){switch(typeof n){case"undefined":return null;case"number":return n===1/0||n===-1/0||isNaN(n)?null:n;case"object":var e=n;if(Array.isArray(n)){var t=n.length;n=new Array(t);for(var i=0;i<t;i++)n[i]=za(e[i])}else{if(n instanceof Date)return n.toJSON();if(null!==n)for(var r in n={},e)if(e.hasOwnProperty(r)){var s=e[r];void 0!==s&&(n[r]=za(s))}}}return n}function Zr(n){return Tw(n=za(n))+""+function(n){if(null!==n)switch(typeof n){case"boolean":return n?1:0;case"number":return function(n){if(0===n)return"1";var e=n.toExponential().split(/e\+?/),t=parseInt(e[1],10),i=n<0,r=i?"0":"2",o=function(n,e,t){var i=function(n,e,t){for(var i="",r=3-n.length;i.length<r;)i+="0";return i}(n);return i+n}(((i?-t:t)- -324).toString());r+=""+o;var a=Math.abs(parseFloat(e[0]));i&&(a=10-a);var l=a.toFixed(20);return r+""+l.replace(/\.?0+$/,"")}(n);case"string":return n.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var e=Array.isArray(n),t=e?n:Object.keys(n),i=-1,r=t.length,s="";if(e)for(;++i<r;)s+=Zr(t[i]);else for(;++i<r;){var o=t[i];s+=Zr(o)+Zr(n[o])}return s}return""}(n)+"\0"}function tre(n,e){var i,t=e;if("1"===n[e])i=0,e++;else{var s="0"===n[e];e++;var o="",a=n.substring(e,e+3),l=parseInt(a,10)+-324;for(s&&(l=-l),e+=3;;){var c=n[e];if("\0"===c)break;o+=c,e++}i=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),s&&(i-=10),0!==l&&(i=parseFloat(i+"e"+l))}return{num:i,length:e-t}}function nre(n,e){var t=n.pop();if(e.length){var i=e[e.length-1];t===i.element&&(e.pop(),i=e[e.length-1]);var r=i.element,s=i.index;Array.isArray(r)?r.push(t):s===n.length-2?r[n.pop()]=t:n.push(t)}}function Tw(n){var t=["boolean","number","string","object"].indexOf(typeof n);return~t?null===n?1:Array.isArray(n)?5:t<3?t+2:t+3:Array.isArray(n)?5:void 0}function eN(n){return Qm().hash(n)}qo.prototype.get=function(n){var e=ng(n);return this._store[e]},qo.prototype.set=function(n,e){var t=ng(n);return this._store[t]=e,!0},qo.prototype.has=function(n){return ng(n)in this._store},qo.prototype.delete=function(n){var e=ng(n),t=e in this._store;return delete this._store[e],t},qo.prototype.forEach=function(n){for(var e=Object.keys(this._store),t=0,i=e.length;t<i;t++){var r=e[t];n(this._store[r],r=Vie(r))}},Object.defineProperty(qo.prototype,"size",{get:function(){return Object.keys(this._store).length}}),Ud.prototype.add=function(n){return this._store.set(n,!0)},Ud.prototype.has=function(n){return this._store.has(n)},Ud.prototype.forEach=function(n){this._store.forEach(function(e,t){n(t)})},Object.defineProperty(Ud.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var n=Object.getOwnPropertyDescriptor(Map,Symbol.species);return n&&"get"in n&&Map[Symbol.species]===Map}()?(Hd=Set,Rc=Map):(Hd=Ud,Rc=qo),K(527),self.setImmediate||self;var Ew,Mw,tN=Function.prototype.toString,vre=tN.call(Object);function mo(n){var e,t,i;if(!n||"object"!=typeof n)return n;if(Array.isArray(n)){for(e=[],t=0,i=n.length;t<i;t++)e[t]=mo(n[t]);return e}if(n instanceof Date)return n.toISOString();if(function(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer||"undefined"!=typeof Blob&&n instanceof Blob}(n))return function(n){if(n instanceof ArrayBuffer)return function(n){if("function"==typeof n.slice)return n.slice(0);var e=new ArrayBuffer(n.byteLength),t=new Uint8Array(e),i=new Uint8Array(n);return t.set(i),e}(n);var e=n.size,t=n.type;return"function"==typeof n.slice?n.slice(0,e,t):n.webkitSlice(0,e,t)}(n);if(!function(n){var e=Object.getPrototypeOf(n);if(null===e)return!0;var t=e.constructor;return"function"==typeof t&&t instanceof t&&tN.call(t)==vre}(n))return n;for(t in e={},n)if(Object.prototype.hasOwnProperty.call(n,t)){var r=mo(n[t]);void 0!==r&&(e[t]=r)}return e}function Ic(n){return fo()(function(e){e=mo(e);var t=this,i="function"==typeof e[e.length-1]&&e.pop(),r=new Promise(function(s,o){var a;try{var l=function(n){var e=!1;return fo()(function(t){if(e)throw new Error("once called more than once");e=!0,n.apply(this,t)})}(function(c,u){c?o(c):s(u)});e.push(l),(a=n.apply(t,e))&&"function"==typeof a.then&&s(a)}catch(c){o(c)}});return i&&r.then(function(s){i(null,s)},i),r})}try{localStorage.setItem("_pouch_check_localstorage",1),Ew=!!localStorage.getItem("_pouch_check_localstorage")}catch(n){Ew=!1}function rN(){return Ew}function Wd(){ti().call(this),this._listeners={},function(n){rN()&&addEventListener("storage",function(e){n.emit(e.key)})}(this)}function rg(n){if("undefined"!=typeof console&&"function"==typeof console[n]){var e=Array.prototype.slice.call(arguments,1);console[n].apply(console,e)}}gi()(Wd,ti()),Wd.prototype.addListener=function(n,e,t,i){if(!this._listeners[e]){var r=this,s=!1;this._listeners[e]=o,this.on(n,o)}function o(){if(r._listeners[e])if(s)s="waiting";else{s=!0;var a=function(n,e){for(var t={},i=0,r=e.length;i<r;i++){var s=e[i];s in n&&(t[s]=n[s])}return t}(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);t.changes(a).on("change",function(c){c.seq>i.since&&!i.cancelled&&(i.since=c.seq,i.onChange(c))}).on("complete",function(){"waiting"===s&&mi()(o),s=!1}).on("error",function(){s=!1})}}},Wd.prototype.removeListener=function(n,e){e in this._listeners&&(ti().prototype.removeListener.call(this,n,this._listeners[e]),delete this._listeners[e])},Wd.prototype.notifyLocalWindows=function(n){rN()&&(localStorage[n]="a"===localStorage[n]?"b":"a")},Wd.prototype.notify=function(n){this.emit(n),this.notifyLocalWindows(n)},Mw="function"==typeof Object.assign?Object.assign:function(n){for(var e=Object(n),t=1;t<arguments.length;t++){var i=arguments[t];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};var kw=Mw;function sN(n){for(var e=[],t=0,i=n.length;t<i;t++)e=e.concat(n[t]);return e}function qa(n){return"boolean"==typeof n._remote?n._remote:"function"==typeof n.type&&(rg("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===n.type())}function sg(n,e,t){return new Promise(function(i,r){n.get(e,function(s,o){if(s){if(404!==s.status)return r(s);o={}}var a=o._rev,l=t(o);if(!l)return i({updated:!1,rev:a});l._id=e,l._rev=a,i(function(n,e,t){return n.put(e).then(function(i){return{updated:!0,rev:i.rev}},function(i){if(409!==i.status)throw i;return sg(n,e._id,t)})}(n,l,t))})})}function Ga(n){this.status=400,this.name="query_parse_error",this.message=n,this.error=!0;try{Error.captureStackTrace(this,Ga)}catch(e){}}function Aw(n){this.status=404,this.name="not_found",this.message=n,this.error=!0;try{Error.captureStackTrace(this,Aw)}catch(e){}}function Rw(n){this.status=500,this.name="invalid_value",this.message=n,this.error=!0;try{Error.captureStackTrace(this,Rw)}catch(e){}}function cN(n,e){return e&&n.then(function(t){mi()(function(){e(null,t)})},function(t){mi()(function(){e(t)})}),n}function Iw(n,e){return function(){var t=arguments,i=this;return n.add(function(){return e.apply(i,t)})}}function uN(n){var e=new Hd(n),t=new Array(e.size),i=-1;return e.forEach(function(r){t[++i]=r}),t}function Pw(n){var e=new Array(n.size),t=-1;return n.forEach(function(i,r){e[++t]=r}),e}function zd(){this.promise=new Promise(function(n){n()})}function dN(n){if(!n)return"undefined";switch(typeof n){case"function":case"string":return n.toString();default:return JSON.stringify(n)}}function hN(n,e,t,i,r,s){var a,o=function(n,e){return dN(n)+dN(e)+"undefined"}(t,i);if(!r&&(a=n._cachedViews=n._cachedViews||{})[o])return a[o];var l=n.info().then(function(c){var u=c.db_name+"-mrview-"+(r?"temp":eN(o));return sg(n,"_local/"+s,function(h){h.views=h.views||{};var f=e;-1===f.indexOf("/")&&(f=e+"/"+e);var p=h.views[f]=h.views[f]||{};if(!p[u])return p[u]=!0,h}).then(function(){return n.registerDependentDatabase(u).then(function(h){var f=h.db;f.auto_compaction=!0;var p={name:u,db:f,sourceDB:n,adapter:n.adapter,mapFun:t,reduceFun:i};return p.db.get("_local/lastSeq").catch(function(m){if(404!==m.status)throw m}).then(function(m){return p.seq=m?m.seq:0,a&&p.db.once("destroyed",function(){delete a[o]}),p})})})});return a&&(a[o]=l),l}gi()(Ga,Error),gi()(Aw,Error),gi()(Rw,Error),zd.prototype.add=function(n){return this.promise=this.promise.catch(function(){}).then(function(){return n()}),this.promise},zd.prototype.finish=function(){return this.promise};var fN={},pN=new zd;function Fw(n){return-1===n.indexOf("/")?[n,n]:n.split("/")}function gN(n,e){try{n.emit("error",e)}catch(t){rg("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),rg("error",e)}}function Nw(n,e){for(var t=n,i=0,r=e.length;i<r&&(t=t[e[i]]);i++);return t}function Bre(n,e,t){for(var i=0,r=e.length;i<r-1;i++){var s=e[i];n=n[s]=n[s]||{}}n[e[r-1]]=t}function Lw(n,e){return n<e?-1:n>e?1:0}function qd(n){for(var e=[],t="",i=0,r=n.length;i<r;i++){var s=n[i];"."===s?i>0&&"\\"===n[i-1]?t=t.substring(0,t.length-1)+".":(e.push(t),t=""):t+=s}return e.push(t),e}var Qre=["$or","$nor","$not"];function _N(n){return Qre.indexOf(n)>-1}function ir(n){return Object.keys(n)[0]}function $w(n){return n[ir(n)]}function Gd(n){var e={};return n.forEach(function(t){Object.keys(t).forEach(function(i){var r=t[i];if("object"!=typeof r&&(r={$eq:r}),_N(i))e[i]=r instanceof Array?r.map(function(o){return Gd([o])}):Gd([r]);else{var s=e[i]=e[i]||{};Object.keys(r).forEach(function(o){var a=r[o];return"$gt"===o||"$gte"===o?function(n,e,t){void 0===t.$eq&&(void 0!==t.$gte?"$gte"===n?e>t.$gte&&(t.$gte=e):e>=t.$gte&&(delete t.$gte,t.$gt=e):void 0!==t.$gt?"$gte"===n?e>t.$gt&&(delete t.$gt,t.$gte=e):e>t.$gt&&(t.$gt=e):t[n]=e)}(o,a,s):"$lt"===o||"$lte"===o?function(n,e,t){void 0===t.$eq&&(void 0!==t.$lte?"$lte"===n?e<t.$lte&&(t.$lte=e):e<=t.$lte&&(delete t.$lte,t.$lt=e):void 0!==t.$lt?"$lte"===n?e<t.$lt&&(delete t.$lt,t.$lte=e):e<t.$lt&&(t.$lt=e):t[n]=e)}(o,a,s):"$ne"===o?function(n,e){"$ne"in e?e.$ne.push(n):e.$ne=[n]}(a,s):"$eq"===o?function(n,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=n}(a,s):void(s[o]=a)})}})}),e}function vN(n){for(var e in n){if(Array.isArray(n))for(var t in n)n[t].$and&&(n[t]=Gd(n[t].$and));var i=n[e];"object"==typeof i&&vN(i)}return n}function yN(n,e){for(var t in n){"$and"===t&&(e=!0);var i=n[t];"object"==typeof i&&(e=yN(i,e))}return e}function bN(n){var e=mo(n),t=!1;yN(e,!1)&&("$and"in(e=vN(e))&&(e=Gd(e.$and)),t=!0),["$or","$nor"].forEach(function(a){a in e&&e[a].forEach(function(l){for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=l[d];("object"!=typeof h||null===h)&&(l[d]={$eq:h})}})}),"$not"in e&&(e.$not=Gd([e.$not]));for(var i=Object.keys(e),r=0;r<i.length;r++){var s=i[r],o=e[s];"object"!=typeof o||null===o?o={$eq:o}:"$ne"in o&&!t&&(o.$ne=[o.$ne]),e[s]=o}return e}function Pc(n,e,t){return t.every(function(i){var r=e[i],s=qd(i),o=Nw(n,s);return _N(i)?function(n,e,t){return"$or"===n?e.some(function(i){return Pc(t,i,Object.keys(i))}):"$not"===n?!Pc(t,e,Object.keys(e)):!e.find(function(i){return Pc(t,i,Object.keys(i))})}(i,r,n):Bw(r,n,s,o)})}function Bw(n,e,t,i){return!n||("object"==typeof n?Object.keys(n).every(function(r){return function(n,e,t,i,r){if(!CN[n])throw new Error('unknown operator "'+n+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return CN[n](e,t,i,r)}(r,e,n[r],t,i)}):n===i)}function Xd(n){return null!=n}function Xa(n){return void 0!==n}function wN(n,e){return e.some(function(t){return n instanceof Array?n.indexOf(t)>-1:n===t})}var CN={$elemMatch:function(n,e,t,i){return!(!Array.isArray(i)||0===i.length)&&i.some("object"==typeof i[0]?function(r){return Pc(r,e,Object.keys(e))}:function(r){return Bw(e,n,t,r)})},$allMatch:function(n,e,t,i){return!(!Array.isArray(i)||0===i.length)&&i.every("object"==typeof i[0]?function(r){return Pc(r,e,Object.keys(e))}:function(r){return Bw(e,n,t,r)})},$eq:function(n,e,t,i){return Xa(i)&&0===ii(i,e)},$gte:function(n,e,t,i){return Xa(i)&&ii(i,e)>=0},$gt:function(n,e,t,i){return Xa(i)&&ii(i,e)>0},$lte:function(n,e,t,i){return Xa(i)&&ii(i,e)<=0},$lt:function(n,e,t,i){return Xa(i)&&ii(i,e)<0},$exists:function(n,e,t,i){return e?Xa(i):!Xa(i)},$mod:function(n,e,t,i){return Xd(i)&&function(n,e){var t=e[0],i=e[1];if(0===t)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(t,10)!==t)throw new Error("Divisor is not an integer");if(parseInt(i,10)!==i)throw new Error("Modulus is not an integer");return parseInt(n,10)===n&&n%t===i}(i,e)},$ne:function(n,e,t,i){return e.every(function(r){return 0!==ii(i,r)})},$in:function(n,e,t,i){return Xd(i)&&wN(i,e)},$nin:function(n,e,t,i){return Xd(i)&&!wN(i,e)},$size:function(n,e,t,i){return Xd(i)&&function(n,e){return n.length===e}(i,e)},$all:function(n,e,t,i){return Array.isArray(i)&&function(n,e){return e.every(function(t){return n.indexOf(t)>-1})}(i,e)},$regex:function(n,e,t,i){return Xd(i)&&function(n,e){return new RegExp(e).test(n)}(i,e)},$type:function(n,e,t,i){return function(n,e){switch(e){case"null":return null===n;case"boolean":return"boolean"==typeof n;case"number":return"number"==typeof n;case"string":return"string"==typeof n;case"array":return n instanceof Array;case"object":return"[object Object]"==={}.toString.call(n)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(i,e)}};function xN(n){return(n=mo(n)).index||(n.index={}),["type","name","ddoc"].forEach(function(e){n.index[e]&&(n[e]=n.index[e],delete n.index[e])}),n.fields&&(n.index.fields=n.fields,delete n.fields),n.type||(n.type="json"),n}function Zd(n,e,t,i){var r,s;t.headers=new tg({"Content-type":"application/json"}),n.fetch(e,t).then(function(o){return r=o.status,s=o.ok,o.json()}).then(function(o){if(s)i(null,o);else{o.status=r;var a=xw(o);i(a)}}).catch(i)}function Jre(n,e,t){e=xN(e),Zd(n,"_index",{method:"POST",body:JSON.stringify(e)},t)}function ese(n,e,t){Zd(n,"_find",{method:"POST",body:JSON.stringify(e)},t)}function tse(n,e,t){Zd(n,"_explain",{method:"POST",body:JSON.stringify(e)},t)}function nse(n,e){Zd(n,"_index",{method:"GET"},e)}function ise(n,e,t){var i=e.ddoc,s=e.name;return i?s?void Zd(n,"_index/"+[i,e.type||"json",s].map(encodeURIComponent).join("/"),{method:"DELETE"},t):t(new Error("you must provide an index's name")):t(new Error("you must provide an index's ddoc"))}function SN(n){return function(){for(var e=arguments.length,t=new Array(e),i=-1;++i<e;)t[i]=arguments[i];return n.call(this,t)}}function Yd(n){return SN(function(e){var t=e.pop(),i=n.apply(this,e);return function(n,e){n.then(function(t){mi()(function(){e(null,t)})},function(t){mi()(function(){e(t)})})}(i,t),i})}var Qw=SN(function(n){for(var e=[],t=0,i=n.length;t<i;t++){var r=n[t];Array.isArray(r)?e=e.concat(Qw.apply(null,r)):e.push(r)}return e});function Vw(n){for(var e={},t=0,i=n.length;t<i;t++)e=kw(e,n[t]);return e}function DN(n,e){for(var t=0,i=Math.min(n.length,e.length);t<i;t++)if(n[t]!==e[t])return!1;return!0}function TN(n,e){if(n.length!==e.length)return!1;for(var t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}var bse=function(n,e,t,i){function r(C,S,k){try{S(k)}catch(L){gN(C,L)}}function s(C,S,k,L,V){try{return{output:S(k,L,V)}}catch(N){return gN(C,N),{error:N}}}function o(C,S){var k=ii(C.key,S.key);return 0!==k?k:ii(C.value,S.value)}function a(C,S,k){return k=k||0,"number"==typeof S?C.slice(k,S+k):k>0?C.slice(k):C}function l(C){var S=C.value;return S&&"object"==typeof S&&S._id||C.id}function u(C){return function(S){return C.include_docs&&C.attachments&&C.binary&&function(C){C.rows.forEach(function(S){var k=S.doc&&S.doc._attachments;!k||Object.keys(k).forEach(function(L){var V=k[L];k[L].data=Gie(V.data,V.content_type)})})}(S),S}}function d(C,S,k,L){var V=S[C];void 0!==V&&(L&&(V=encodeURIComponent(JSON.stringify(V))),k.push(C+"="+V))}function h(C){if(void 0!==C){var S=Number(C);return isNaN(S)||S!==parseInt(C,10)?C:S}}function m(C,S){var k=C.descending?"endkey":"startkey",L=C.descending?"startkey":"endkey";if(void 0!==C[k]&&void 0!==C[L]&&ii(C[k],C[L])>0)throw new Ga("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(S.reduce&&!1!==C.reduce){if(C.include_docs)throw new Ga("{include_docs:true} is invalid for reduce");if(C.keys&&C.keys.length>1&&!C.group&&!C.group_level)throw new Ga("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(V){var N=function(C){if(C){if("number"!=typeof C)return new Ga('Invalid value for integer: "'+C+'"');if(C<0)return new Ga('Invalid value for positive integer: "'+C+'"')}}(C[V]);if(N)throw N})}function x(C){return function(S){if(404===S.status)return C;throw S}}function j(C){var S="string"==typeof C?C:C.name,k=fN[S];return k||(k=fN[S]=new zd),k}function B(C){return Iw(j(C),function(){return function(C){var S,k;var V=e(C.mapFun,function(me,Te){var Je={id:k._id,key:za(me)};null!=Te&&(Je.value=za(Te)),S.push(Je)}),N=C.seq||0;function q(me,Te){return function(){return function(C,S,k){var L="_local/lastSeq";return C.db.get(L).catch(x({_id:L,seq:0})).then(function(V){var N=Pw(S);return Promise.all(N.map(function(q){return function(C,S,k){var L="_local/doc_"+C,V={_id:L,keys:[]},N=k.get(C),q=N[0];return(function(n){return 1===n.length&&/^1-/.test(n[0].rev)}(N[1])?Promise.resolve(V):S.db.get(L).catch(x(V))).then(function(W){return function(W){return W.keys.length?S.db.allDocs({keys:W.keys,include_docs:!0}):Promise.resolve({rows:[]})}(W).then(function(me){return function(W,me){for(var Te=[],Je=new Hd,Ue=0,Qe=me.rows.length;Ue<Qe;Ue++){var gt=me.rows[Ue].doc;if(gt&&(Te.push(gt),Je.add(gt._id),gt._deleted=!q.has(gt._id),!gt._deleted)){var On=q.get(gt._id);"value"in On&&(gt.value=On.value)}}var nn=Pw(q);return nn.forEach(function(Jr){if(!Je.has(Jr)){var es={_id:Jr},zh=q.get(Jr);"value"in zh&&(es.value=zh.value),Te.push(es)}}),W.keys=uN(nn.concat(W.keys)),Te.push(W),Te}(W,me)})})}(q,C,S)})).then(function(q){var te=sN(q);return V.seq=k,te.push(V),C.db.bulkDocs({docs:te})})})}(C,me,Te)}}var te=new zd;function he(){return C.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:N,limit:50}).then(_e)}function _e(me){var Te=me.results;if(Te.length){var Je=function(me){for(var Te=new Rc,Je=0,Ue=me.length;Je<Ue;Je++){var Qe=me[Je];if("_"!==Qe.doc._id[0]){S=[],(k=Qe.doc)._deleted||r(C.sourceDB,V,k),S.sort(o);var Xe=W(S);Te.set(Qe.doc._id,[Xe,Qe.changes])}N=Qe.seq}return Te}(Te);if(te.add(q(Je,N)),!(Te.length<50))return he()}}function W(me){for(var Je,Te=new Rc,Ue=0,Qe=me.length;Ue<Qe;Ue++){var Xe=me[Ue],gt=[Xe.key,Xe.id];Ue>0&&0===ii(Xe.key,Je)&&gt.push(Ue),Te.set(Zr(gt),Xe),Je=Xe.key}return Te}return he().then(function(){return te.finish()}).then(function(){C.seq=N})}(C)})()}function ee(C,S){return Iw(j(C),function(){return function(C,S){var k,L=C.reduceFun&&!1!==S.reduce,V=S.skip||0;function N(Ue){return Ue.include_docs=!0,C.db.allDocs(Ue).then(function(Qe){return k=Qe.total_rows,Qe.rows.map(function(Xe){if("value"in Xe.doc&&"object"==typeof Xe.doc.value&&null!==Xe.doc.value){var gt=Object.keys(Xe.doc.value).sort(),On=["id","key","value"];if(!(gt<On||gt>On))return Xe.doc.value}var nn=function(n){for(var e=[],t=[],i=0;;){var r=n[i++];if("\0"!==r)switch(r){case"1":e.push(null);break;case"2":e.push("1"===n[i]),i++;break;case"3":var s=tre(n,i);e.push(s.num),i+=s.length;break;case"4":for(var o="";;){var a=n[i];if("\0"===a)break;o+=a,i++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),e.push(o);break;case"5":var l={element:[],index:e.length};e.push(l.element),t.push(l);break;case"6":var c={element:{},index:e.length};e.push(c.element),t.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===e.length)return e.pop();nre(e,t)}}}(Xe.doc._id);return{key:nn[0],id:nn[1],value:"value"in Xe.doc?Xe.doc.value:null}})})}function q(Ue){var Qe;if(Qe=L?function(C,S,k){0===k.group_level&&delete k.group_level;var L=k.group||k.group_level,V=t(C.reduceFun),N=[],q=isNaN(k.group_level)?Number.POSITIVE_INFINITY:k.group_level;S.forEach(function(W){var me=N[N.length-1],Te=L?W.key:null;if(L&&Array.isArray(Te)&&(Te=Te.slice(0,q)),me&&0===ii(me.groupKey,Te))return me.keys.push([W.key,W.id]),void me.values.push(W.value);N.push({keys:[[W.key,W.id]],values:[W.value],groupKey:Te})}),S=[];for(var te=0,he=N.length;te<he;te++){var _e=N[te],ge=s(C.sourceDB,V,_e.keys,_e.values,!1);if(ge.error&&ge.error instanceof Rw)throw ge.error;S.push({value:ge.error?null:ge.output,key:_e.groupKey})}return{rows:a(S,k.limit,k.skip)}}(C,Ue,S):{total_rows:k,offset:V,rows:Ue},S.update_seq&&(Qe.update_seq=C.seq),S.include_docs){var Xe=uN(Ue.map(l));return C.sourceDB.allDocs({keys:Xe,include_docs:!0,conflicts:S.conflicts,attachments:S.attachments,binary:S.binary}).then(function(gt){var On=new Rc;return gt.rows.forEach(function(nn){On.set(nn.id,nn.doc)}),Ue.forEach(function(nn){var Jr=l(nn),es=On.get(Jr);es&&(nn.doc=es)}),Qe})}return Qe}if(void 0!==S.keys&&!S.keys.length&&(S.limit=0,delete S.keys),void 0!==S.keys){var he=S.keys.map(function(Ue){var Qe={startkey:Zr([Ue]),endkey:Zr([Ue,{}])};return S.update_seq&&(Qe.update_seq=!0),N(Qe)});return Promise.all(he).then(sN).then(q)}var ge,W,_e={descending:S.descending};if(S.update_seq&&(_e.update_seq=!0),"start_key"in S&&(ge=S.start_key),"startkey"in S&&(ge=S.startkey),"end_key"in S&&(W=S.end_key),"endkey"in S&&(W=S.endkey),void 0!==ge&&(_e.startkey=Zr(S.descending?[ge,{}]:[ge])),void 0!==W){var me=!1!==S.inclusive_end;S.descending&&(me=!me),_e.endkey=Zr(me?[W,{}]:[W])}if(void 0!==S.key){var Te=Zr([S.key]),Je=Zr([S.key,{}]);_e.descending?(_e.endkey=Te,_e.startkey=Je):(_e.startkey=Te,_e.endkey=Je)}return L||("number"==typeof S.limit&&(_e.limit=S.limit),_e.skip=V),N(_e).then(q)}(C,S)})()}var J=function(n){return fo()(function(e){var t=e.pop(),i=n.apply(this,e);return"function"==typeof t&&cN(i,t),i})}(function(){var C=this;return"function"==typeof C._viewCleanup?function(C){return new Promise(function(S,k){C._viewCleanup(function(L,V){if(L)return k(L);S(V)})})}(C):qa(C)?function(C){return C.fetch("_view_cleanup",{headers:new tg({"Content-Type":"application/json"}),method:"POST"}).then(function(S){return S.json()})}(C):function(C){return C.get("_local/"+n).then(function(S){var k=new Rc;Object.keys(S.views).forEach(function(V){var N=Fw(V),q="_design/"+N[0],te=N[1],he=k.get(q);he||(he=new Hd,k.set(q,he)),he.add(te)});var L={keys:Pw(k),include_docs:!0};return C.allDocs(L).then(function(V){var N={};V.rows.forEach(function(he){var _e=he.key.substring(8);k.get(he.key).forEach(function(ge){var W=_e+"/"+ge;S.views[W]||(W=ge);var me=Object.keys(S.views[W]),Te=he.doc&&he.doc.views&&he.doc.views[ge];me.forEach(function(Je){N[Je]=N[Je]||Te})})});var te=Object.keys(N).filter(function(he){return!N[he]}).map(function(he){return Iw(j(he),function(){return new C.constructor(he,C.__opts).destroy()})()});return Promise.all(te).then(function(){return{ok:!0}})})},x({ok:!0}))}(C)});return{query:function(C,S,k){var L=this;"function"==typeof S&&(k=S,S={}),S=S?function(C){return C.group_level=h(C.group_level),C.limit=h(C.limit),C.skip=h(C.skip),C}(S):{},"function"==typeof C&&(C={map:C});var V=Promise.resolve().then(function(){return function(C,S,k){if("function"==typeof C._query)return function(C,S,k){return new Promise(function(L,V){C._query(S,k,function(N,q){if(N)return V(N);L(q)})})}(C,S,k);if(qa(C))return function(C,S,k){var V,q,te,L=[],N="GET";if(d("reduce",k,L),d("include_docs",k,L),d("attachments",k,L),d("limit",k,L),d("descending",k,L),d("group",k,L),d("group_level",k,L),d("skip",k,L),d("stale",k,L),d("conflicts",k,L),d("startkey",k,L,!0),d("start_key",k,L,!0),d("endkey",k,L,!0),d("end_key",k,L,!0),d("inclusive_end",k,L),d("key",k,L,!0),d("update_seq",k,L),L=""===(L=L.join("&"))?"":"?"+L,void 0!==k.keys){var _e="keys="+encodeURIComponent(JSON.stringify(k.keys));_e.length+L.length+1<=2e3?L+=("?"===L[0]?"&":"?")+_e:(N="POST","string"==typeof S?V={keys:k.keys}:S.keys=k.keys)}if("string"==typeof S){var ge=Fw(S);return C.fetch("_design/"+ge[0]+"/_view/"+ge[1]+L,{headers:new tg({"Content-Type":"application/json"}),method:N,body:JSON.stringify(V)}).then(function(W){return q=W.ok,te=W.status,W.json()}).then(function(W){if(!q)throw W.status=te,xw(W);return W.rows.forEach(function(me){if(me.value&&me.value.error&&"builtin_reduce_error"===me.value.error)throw new Error(me.reason)}),W}).then(u(k))}return V=V||{},Object.keys(S).forEach(function(W){V[W]=Array.isArray(S[W])?S[W]:S[W].toString()}),C.fetch("_temp_view"+L,{headers:new tg({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(V)}).then(function(W){return q=W.ok,te=W.status,W.json()}).then(function(W){if(!q)throw W.status=te,xw(W);return W}).then(u(k))}(C,S,k);if("string"!=typeof S)return m(k,S),pN.add(function(){return hN(C,"temp_view/temp_view",S.map,S.reduce,!0,n).then(function(he){return function(n,e){return n.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}(B(he).then(function(){return ee(he,k)}),function(){return he.db.destroy()})})}),pN.finish();var L=S,V=Fw(L),q=V[1];return C.get("_design/"+V[0]).then(function(te){var he=te.views&&te.views[q];if(!he)throw new Aw("ddoc "+te._id+" has no view named "+q);return i(te,q),m(k,he),hN(C,L,he.map,he.reduce,!1,n).then(function(ge){return"ok"===k.stale||"update_after"===k.stale?("update_after"===k.stale&&mi()(function(){B(ge)}),ee(ge,k)):B(ge).then(function(){return ee(ge,k)})})})}(L,C,S)});return cN(V,k),V},viewCleanup:J}}("indexes",function(n,e){return function(n,e){var t=function(n){for(var e=0,t=n.length;e<t;e++)if(-1!==n[e].indexOf("."))return!1;return!0}(n),i=1===n.length;return t?i?function(n,e){return function(t){e(t[n])}}(n[0],e):function(n,e){return function(t){for(var i=[],r=0,s=n.length;r<s;r++)i.push(t[n[r]]);e(i)}}(n,e):i?function(n,e){var t=qd(n);return function(i){for(var r=i,s=0,o=t.length;s<o;s++)if(void 0===(r=r[t[s]]))return;e(r)}}(n[0],e):function(n,e){return function(t){for(var i=[],r=0,s=n.length;r<s;r++){for(var o=qd(n[r]),a=t,l=0,c=o.length;l<c;l++)if(void 0===(a=a[o[l]]))return;i.push(a)}e(i)}}(n,e)}(Object.keys(n.fields),e)},function(){throw new Error("reduce not supported")},function(n,e){var t=n.views[e];if(!t.map||!t.map.fields)throw new Error("ddoc "+n._id+" with view "+e+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function jw(n){return n._customFindAbstractMapper||bse}function EN(n){return n.fields=n.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),n}function Cse(n,e){for(var t=[],i=0;i<e.def.fields.length;i++){var r=ir(e.def.fields[i]);t.push(n[r])}return t}function MN(n){return n.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=Qw(t.indexes,e.rows.filter(function(i){return"query"===i.doc.language}).map(function(i){return(void 0!==i.doc.views?Object.keys(i.doc.views):[]).map(function(s){return{ddoc:i.id,name:s,type:"json",def:EN(i.doc.views[s].options.def)}})})),t.indexes.sort(function(i,r){return Lw(i.name,r.name)}),t.total_rows=t.indexes.length,t})}var Uw={"\uffff":{}};const Ase={queryOpts:{limit:0,startkey:Uw,endkey:null},inMemoryFields:[]};function Rse(n,e){for(var t=n.def.fields.map(ir),i=0,r=t.length;i<r;i++)if(e===t[i])return!0;return!1}function Ise(n,e){return"$eq"!==ir(n[e])}function kN(n,e){var t=e.def.fields.map(ir);return n.slice().sort(function(i,r){var s=t.indexOf(i),o=t.indexOf(r);return-1===s&&(s=Number.MAX_VALUE),-1===o&&(o=Number.MAX_VALUE),Lw(s,o)})}function Nse(n,e,t,i){var r=Qw(n,function(n,e,t){for(var i=!1,r=0,s=(t=kN(t,n)).length;r<s;r++){var o=t[r];if(i||!Rse(n,o))return t.slice(r);r<s-1&&Ise(e,o)&&(i=!0)}return[]}(e,t,i),function(n){var e=[];return Object.keys(n).forEach(function(t){Object.keys(n[t]).forEach(function(r){"$ne"===r&&e.push(t)})}),e}(t));return kN(function(n){for(var e={},t=0;t<n.length;t++)e["$"+n[t]]=!0;return Object.keys(e).map(function(i){return i.substring(1)})}(r),e)}var $se=["$eq","$gt","$gte","$lt","$lte"];function AN(n){return-1===$se.indexOf(n)}function Qse(n,e,t,i){var r=n.def.fields.map(ir);return!!function(n,e,t){if(e){var i=function(n,e){return!(n.length>e.length)&&DN(n,e)}(e,n),r=DN(t,n);return i&&r}return function(n,e){n=n.slice();for(var t=0,i=e.length;t<i;t++){var r=e[t];if(!n.length)break;var s=n.indexOf(r);if(-1===s)return!1;n.splice(s,1)}return!0}(t,n)}(r,e,t)&&function(n,e){var i=e[n[0]];return void 0===i||!(1===Object.keys(i).length&&"$ne"===ir(i))}(r,i)}function Wse(n,e){switch(n){case"$eq":return{startkey:e,endkey:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}}function Zse(n,e){var t=n.selector,i=n.sort;if(function(n){return Object.keys(n).map(function(t){return n[t]}).some(function(t){return"object"==typeof t&&0===Object.keys(t).length})}(t))return kw({},Ase,{index:e[0]});var r=function(n,e){var r,t=Object.keys(n),i=e?e.map(ir):[];return r=t.length>=i.length?t:i,0===i.length?{fields:r}:{fields:r=r.sort(function(s,o){var a=i.indexOf(s);-1===a&&(a=Number.MAX_VALUE);var l=i.indexOf(o);return-1===l&&(l=Number.MAX_VALUE),a<l?-1:a>l?1:0}),sortOrder:e.map(ir)}}(t,i),s=r.fields,a=function(n,e,t,i,r){var s=function(n,e,t,i){return i.filter(function(r){return Qse(r,t,e,n)})}(n,e,t,i);if(0===s.length){if(r)throw{error:"no_usable_index",message:"There is no index available for this selector."};var o=i[0];return o.defaultUsed=!0,o}if(1===s.length&&!r)return s[0];var a=function(n){for(var e={},t=0,i=n.length;t<i;t++)e[n[t]]=!0;return e}(e);if(r){var c="_design/"+r[0],u=2===r.length&&r[1],d=s.find(function(h){return!!(u&&h.ddoc===c&&u===h.name||h.ddoc===c)});if(!d)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return d}return function(n,e){for(var t=null,i=-1,r=0,s=n.length;r<s;r++){var o=n[r],a=e(o);a>i&&(i=a,t=o)}return t}(s,function(h){for(var f=h.def.fields.map(ir),p=0,m=0,v=f.length;m<v;m++)a[f[m]]&&p++;return p})}(t,s,r.sortOrder,e,n.use_index),l=function(n,e){return e.defaultUsed?function(n){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(n)]}}(n):1===e.def.fields.length?function(n,e){var o,t=ir(e.def.fields[0]),i=n[t]||{},r=[];return Object.keys(i).forEach(function(a){AN(a)&&r.push(t);var c=function(n,e){switch(n){case"$eq":return{key:e};case"$lte":return{endkey:e};case"$gte":return{startkey:e};case"$lt":return{endkey:e,inclusive_end:!1};case"$gt":return{startkey:e,inclusive_start:!1}}return{startkey:null}}(a,i[a]);o=o?Vw([o,c]):c}),{queryOpts:o,inMemoryFields:r}}(n,e):function(n,e){var o,a,t=e.def.fields.map(ir),i=[],r=[],s=[];function l(se){!1!==o&&r.push(null),!1!==a&&s.push(Uw),i=t.slice(se)}for(var c=0,u=t.length;c<u;c++){var h=n[t[c]];if(!h||!Object.keys(h).length){l(c);break}if(Object.keys(h).some(AN)){l(c);break}if(c>0){var f="$gt"in h||"$gte"in h||"$lt"in h||"$lte"in h,p=Object.keys(n[t[c-1]]),m=TN(p,["$eq"]),v=TN(p,Object.keys(h));if(f&&!m&&!v){l(c);break}}for(var b=Object.keys(h),x=null,I=0;I<b.length;I++){var F=b[I],B=Wse(F,h[F]);x=x?Vw([x,B]):B}r.push("startkey"in x?x.startkey:null),s.push("endkey"in x?x.endkey:Uw),"inclusive_start"in x&&(o=x.inclusive_start),"inclusive_end"in x&&(a=x.inclusive_end)}var re={startkey:r,endkey:s};return void 0!==o&&(re.inclusive_start=o),void 0!==a&&(re.inclusive_end=a),{queryOpts:re,inMemoryFields:i}}(n,e)}(t,a);return{queryOpts:l.queryOpts,index:a,inMemoryFields:Nse(l.inMemoryFields,a,t,s)}}function RN(n,e,t){return e.selector&&(e.selector=bN(e.selector)),e.sort&&(e.sort=function(n){if(!Array.isArray(n))throw new Error("invalid sort json - should be an array");return n.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}(e.sort)),e.use_index&&(e.use_index=function(n){var e=[];return"string"==typeof n?e.push(n):e=n,e.map(function(t){return t.replace("_design/","")})}(e.use_index)),function(n){if("object"!=typeof n.selector)throw new Error("you must provide a selector when you find()")}(e),MN(n).then(function(i){n.constructor.emit("debug",["find","planning query",e]);var r=Zse(e,i.indexes);n.constructor.emit("debug",["find","query plan",r]);var s=r.index;!function(n,e){if(e.defaultUsed&&n.sort){var t=n.sort.filter(function(i){return"_id"!==Object.keys(i)[0]}).map(function(i){return Object.keys(i)[0]});if(t.length>0)throw new Error('Cannot sort on field(s) "'+t.join(",")+'" when using the default index')}}(e,s);var o=kw({include_docs:!0,reduce:!1,indexes_count:i.total_rows},r.queryOpts);return"startkey"in o&&"endkey"in o&&ii(o.startkey,o.endkey)>0?{docs:[]}:(e.sort&&"string"!=typeof e.sort[0]&&"desc"===$w(e.sort[0])&&(o.descending=!0,o=function(n){var e=mo(n);return delete e.startkey,delete e.endkey,delete e.inclusive_start,delete e.inclusive_end,"endkey"in n&&(e.startkey=n.endkey),"startkey"in n&&(e.endkey=n.startkey),"inclusive_start"in n&&(e.inclusive_end=n.inclusive_start),"inclusive_end"in n&&(e.inclusive_start=n.inclusive_end),e}(o)),r.inMemoryFields.length||("limit"in e&&(o.limit=e.limit),"skip"in e&&(o.skip=e.skip)),t?Promise.resolve(r,o):Promise.resolve().then(function(){if("_all_docs"===s.name)return function(n,e){var t=mo(e);return t.descending?("endkey"in t&&"string"!=typeof t.endkey&&(t.endkey=""),"startkey"in t&&"string"!=typeof t.startkey&&(t.limit=0)):("startkey"in t&&"string"!=typeof t.startkey&&(t.startkey=""),"endkey"in t&&"string"!=typeof t.endkey&&(t.limit=0)),"key"in t&&"string"!=typeof t.key&&(t.limit=0),t.limit>0&&t.indexes_count&&(t.original_limit=t.limit,t.limit+=t.indexes_count),n.allDocs(t).then(function(i){return i.rows=i.rows.filter(function(r){return!/^_design\//.test(r.id)}),t.original_limit&&(t.limit=t.original_limit),i.rows=i.rows.slice(0,t.limit),i})}(n,o);var l=function(n){return n.ddoc.substring(8)+"/"+n.name}(s);return jw(n).query.call(n,l,o)}).then(function(l){!1===o.inclusive_start&&(l.rows=function(n,e,t){for(var i=t.def.fields,r=0,s=n.length;r<s;r++){var a=Cse(n[r].doc,t);if(1===i.length)a=a[0];else for(;a.length>e.length;)a.pop();if(Math.abs(ii(a,e))>0)break}return r>0?n.slice(r):n}(l.rows,o.startkey,s)),r.inMemoryFields.length&&(l.rows=function(n,e,t){if(n=n.filter(function(o){return Pc(o.doc,e.selector,t)}),e.sort){var i=function(n){function e(t){return n.map(function(i){var s=qd(ir(i));return Nw(t,s)})}return function(t,i){var o=ii(e(t.doc),e(i.doc));return 0!==o?o:Lw(t.doc._id,i.doc._id)}}(e.sort);n=n.sort(i),"string"!=typeof e.sort[0]&&"desc"===$w(e.sort[0])&&(n=n.reverse())}if("limit"in e||"skip"in e){var r=e.skip||0;n=n.slice(r,("limit"in e?e.limit:n.length)+r)}return n}(l.rows,e,r.inMemoryFields));var c={docs:l.rows.map(function(u){var d=u.doc;return e.fields?function(n,e){for(var t={},i=0,r=e.length;i<r;i++){var s=qd(e[i]),o=Nw(n,s);void 0!==o&&Bre(t,s,o)}return t}(d,e.fields):d})};return s.defaultUsed&&(c.warning="No matching index found, create an index to optimize query time."),c}))})}var toe=Yd(function(n,e){var i,t=mo((e=xN(e)).index);function r(){return i||(i=eN(JSON.stringify(e)))}e.index=EN(e.index),function(n){var e=n.fields.filter(function(t){return"asc"===$w(t)});if(0!==e.length&&e.length!==n.fields.length)throw new Error("unsupported mixed sorting")}(e.index);var s=e.name||"idx-"+r(),o=e.ddoc||"idx-"+r(),a="_design/"+o,l=!1,c=!1;return n.constructor.emit("debug",["find","creating index",a]),sg(n,a,function(d){return d._rev&&"query"!==d.language&&(l=!0),d.language="query",d.views=d.views||{},!(c=!!d.views[s])&&(d.views[s]={map:{fields:Vw(e.index.fields)},reduce:"_count",options:{def:t}},d)}).then(function(){if(l)throw new Error('invalid language for ddoc with id "'+a+'" (should be "query")')}).then(function(){var d=o+"/"+s;return jw(n).query.call(n,d,{limit:0,reduce:!1}).then(function(){return{id:a,name:s,result:c?"exists":"created"}})})}),noe=Yd(RN),ioe=Yd(function(n,e){return RN(n,e,!0).then(function(t){return{dbname:n.name,index:t.index,selector:e.selector,range:{start_key:t.queryOpts.startkey,end_key:t.queryOpts.endkey},opts:{use_index:e.use_index||[],bookmark:"nil",limit:e.limit,skip:e.skip,sort:e.sort||{},fields:e.fields,conflicts:!1,r:[49]},limit:e.limit,skip:e.skip||0,fields:e.fields}})}),roe=Yd(MN),soe=Yd(function(n,e){if(!e.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!e.name)throw new Error("you must supply an index.name when deleting");var t=e.ddoc,i=e.name;return sg(n,t,function(s){return 1===Object.keys(s.views).length&&s.views[i]?{_id:t,_deleted:!0}:(delete s.views[i],s)}).then(function(){return jw(n).viewCleanup.apply(n)}).then(function(){return{ok:!0}})}),Fc={};Fc.createIndex=Ic(function(n,e){if("object"!=typeof n)return e(new Error("you must provide an index to create"));(qa(this)?Jre:toe)(this,n,e)}),Fc.find=Ic(function(n,e){if(void 0===e&&(e=n,n=void 0),"object"!=typeof n)return e(new Error("you must provide search parameters to find()"));(qa(this)?ese:noe)(this,n,e)}),Fc.explain=Ic(function(n,e){if(void 0===e&&(e=n,n=void 0),"object"!=typeof n)return e(new Error("you must provide search parameters to explain()"));(qa(this)?tse:ioe)(this,n,e)}),Fc.getIndexes=Ic(function(n){(qa(this)?nse:roe)(this,n)}),Fc.deleteIndex=Ic(function(n,e){if("object"!=typeof n)return e(new Error("you must provide an index to delete"));(qa(this)?ise:soe)(this,n,e)});const ooe=Fc,ag=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function IN(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new aoe(n,e,t))}}class aoe{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new loe(e,this.accumulator,this.seed,this.hasSeed))}}class loe extends Q{constructor(e,t,i,r){super(e),this.accumulator=t,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Hw(n){return function(t){return 0===n?Gp():t.lift(new coe(n))}}class coe{constructor(e){if(this.total=e,this.total<0)throw new IR}call(e,t){return t.subscribe(new uoe(e,this.total))}}class uoe extends Q{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,r=this.count++;t.length<i?t.push(e):t[r%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const o=t++%i;e.next(r[o])}}e.complete()}}function PN(n=foe){return e=>e.lift(new doe(n))}class doe{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new hoe(e,this.errorFactory))}}class hoe extends Q{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function foe(){return new ag}function FN(n=null){return e=>e.lift(new poe(n))}class poe{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new moe(e,this.defaultValue))}}class moe extends Q{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Nc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Qt((r,s)=>n(r,s,i)):g,sn(1),t?FN(e):PN(()=>new ag))}class go{constructor(e,t){this.id=e,this.url=t}}class Ww extends go{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kd extends go{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NN extends go{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _oe extends go{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class voe extends go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yoe extends go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class boe extends go{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ooe extends go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class woe extends go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LN{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $N{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Coe{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xoe{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Soe{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Doe{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BN{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bt="primary";class Toe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lc(n){return new Toe(n)}const QN="ngNavigationCancelingError";function zw(n){const e=Error("NavigationCancelingError: "+n);return e[QN]=!0,e}function Moe(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ss(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!VN(n[r],e[r]))return!1;return!0}function VN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function jN(n){return Array.prototype.concat.apply([],n)}function UN(n){return n.length>0?n[n.length-1]:null}function ri(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ds(n){return Hy(n)?n:Bu(n)?Zn(Promise.resolve(n)):Ne(n)}const Roe={exact:function zN(n,e,t){if(!Ya(n.segments,e.segments)||!lg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!zN(n.children[i],e.children[i],t))return!1;return!0},subset:qN},HN={exact:function(n,e){return Ss(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>VN(n[t],e[t]))},ignored:()=>!0};function WN(n,e,t){return Roe[t.paths](n.root,e.root,t.matrixParams)&&HN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function qN(n,e,t){return GN(n,e,e.segments,t)}function GN(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ya(r,t)||e.hasChildren()||!lg(r,t,i))}if(n.segments.length===t.length){if(!Ya(n.segments,t)||!lg(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!qN(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ya(n.segments,r)&&lg(n.segments,r,i)&&n.children[bt])&&GN(n.children[bt],e,s,i)}}function lg(n,e,t){return e.every((i,r)=>HN[t](n[r].parameters,i.parameters))}class Za{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lc(this.queryParams)),this._queryParamMap}toString(){return Loe.serialize(this)}}class St{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ri(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cg(this)}}class Jd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lc(this.parameters)),this._parameterMap}toString(){return JN(this)}}function Ya(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class XN{}class ZN{parse(e){const t=new zoe(e);return new Za(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${eh(e.root,!0)}`,i=function(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${ug(t)}=${ug(r)}`).join("&"):`${ug(t)}=${ug(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const Loe=new ZN;function cg(n){return n.segments.map(e=>JN(e)).join("/")}function eh(n,e){if(!n.hasChildren())return cg(n);if(e){const t=n.children[bt]?eh(n.children[bt],!1):"",i=[];return ri(n.children,(r,s)=>{s!==bt&&i.push(`${s}:${eh(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(n,e){let t=[];return ri(n.children,(i,r)=>{r===bt&&(t=t.concat(e(i,r)))}),ri(n.children,(i,r)=>{r!==bt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===bt?[eh(n.children[bt],!1)]:[`${r}:${eh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bt]?`${cg(n)}/${t[0]}`:`${cg(n)}/(${t.join("//")})`}}function YN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ug(n){return YN(n).replace(/%3B/gi,";")}function qw(n){return YN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dg(n){return decodeURIComponent(n)}function KN(n){return dg(n.replace(/\+/g,"%20"))}function JN(n){return`${qw(n.path)}${function(n){return Object.keys(n).map(e=>`;${qw(e)}=${qw(n[e])}`).join("")}(n.parameters)}`}const Voe=/^[^\/()?;=#]+/;function hg(n){const e=n.match(Voe);return e?e[0]:""}const joe=/^[^=?&#]+/,Hoe=/^[^&#]+/;class zoe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[bt]=new St(e,t)),i}parseSegment(){const e=hg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Jd(dg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=hg(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=hg(this.remaining);r&&(i=r,this.capture(i))}e[dg(t)]=dg(i)}parseQueryParam(e){const t=function(n){const e=n.match(joe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(Hoe);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=KN(t),s=KN(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=hg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=bt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[bt]:new St([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class eL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gw(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Gw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Xw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Xw(e,this._root).map(t=>t.value)}}function Gw(n,e){if(n===e.value)return e;for(const t of e.children){const i=Gw(n,t);if(i)return i}return null}function Xw(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Xw(n,t);if(i.length)return i.unshift(e),i}return[]}class _o{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function $c(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class tL extends eL{constructor(e,t){super(e),this.snapshot=t,Zw(this,e)}toString(){return this.snapshot.toString()}}function nL(n,e){const t=function(n,e){const o=new fg([],{},{},"",{},bt,e,null,n.root,-1,{});return new rL("",new _o(o,[]))}(n,e),i=new Bi([new Jd("",{})]),r=new Bi({}),s=new Bi({}),o=new Bi({}),a=new Bi(""),l=new Ka(i,r,o,a,s,bt,e,t.root);return l.snapshot=t.root,new tL(new _o(l,[]),t)}class Ka{constructor(e,t,i,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(We(e=>Lc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(We(e=>Lc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iL(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((e,t)=>({params:be(be({},e.params),t.params),data:be(be({},e.data),t.data),resolve:be(be({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class fg{constructor(e,t,i,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rL extends eL{constructor(e,t){super(t),this.url=e,Zw(this,t)}toString(){return sL(this._root)}}function Zw(n,e){e.value._routerState=n,e.children.forEach(t=>Zw(n,t))}function sL(n){const e=n.children.length>0?` { ${n.children.map(sL).join(", ")} } `:"";return`${n.value}${e}`}function Yw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ss(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ss(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ss(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ss(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Kw(n,e){const t=Ss(n.params,e.params)&&function(n,e){return Ya(n,e)&&n.every((t,i)=>Ss(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Kw(n.parent,e.parent))}function th(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return th(n,i,r);return th(n,i)})}(n,e,t);return new _o(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>th(n,a)),o}}const i=function(n){return new Ka(new Bi(n.url),new Bi(n.params),new Bi(n.queryParams),new Bi(n.fragment),new Bi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>th(n,s));return new _o(i,r)}}function pg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nh(n){return"object"==typeof n&&null!=n&&n.outlets}function Jw(n,e,t,i,r){let s={};return i&&ri(i,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Za(t.root===n?e:oL(t.root,n,e),s,r)}function oL(n,e,t){const i={};return ri(n.children,(r,s)=>{i[s]=r===e?t:oL(r,e,t)}),new St(n.segments,i)}class aL{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&pg(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(nh);if(r&&r!==UN(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eC{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function lL(n,e,t){if(n||(n=new St([],{})),0===n.segments.length&&n.hasChildren())return mg(n,e,t);const i=function(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(nh(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!uL(l,c,o))return s;i+=2}else{if(!uL(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new St(n.segments.slice(0,i.pathIndex),{});return s.children[bt]=new St(n.segments.slice(i.pathIndex),n.children),mg(s,0,r)}return i.match&&0===r.length?new St(n.segments,{}):i.match&&!n.hasChildren()?tC(n,e,t):i.match?mg(n,0,r):tC(n,e,t)}function mg(n,e,t){if(0===t.length)return new St(n.segments,{});{const i=function(n){return nh(n[0])?n[0].outlets:{[bt]:n}}(t),r={};return ri(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=lL(n.children[o],e,s))}),ri(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new St(n.segments,r)}}function tC(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(nh(s)){const l=rae(s.outlets);return new St(i,l)}if(0===r&&pg(t[0])){i.push(new Jd(n.segments[e].path,cL(t[0]))),r++;continue}const o=nh(s)?s.outlets[bt]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&pg(a)?(i.push(new Jd(o,cL(a))),r+=2):(i.push(new Jd(o,{})),r++)}return new St(i,{})}function rae(n){const e={};return ri(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=tC(new St([],{}),0,t))}),e}function cL(n){const e={};return ri(n,(t,i)=>e[i]=`${t}`),e}function uL(n,e,t){return n==t.path&&Ss(e,t.parameters)}class oae{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Yw(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=$c(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),ri(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=$c(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=$c(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=$c(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Doe(s.value.snapshot))}),e.children.length&&this.forwardEvent(new xoe(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Yw(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class nC{constructor(e,t){this.routes=e,this.module=t}}function Go(n){return"function"==typeof n}function Ja(n){return n instanceof Za}const ih=Symbol("INITIAL_VALUE");function rh(){return Li(n=>SP(n.map(e=>e.pipe(sn(1),ys(ih)))).pipe(IN((e,t)=>{let i=!1;return t.reduce((r,s,o)=>r!==ih?r:(s===ih&&(i=!0),i||!1!==s&&o!==t.length-1&&!Ja(s)?r:s),e)},ih),Qt(e=>e!==ih),We(e=>Ja(e)?e:!0===e),sn(1)))}class fae{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sh,this.attachRef=null}}class sh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new fae,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let gg=(()=>{class n{constructor(t,i,r,s,o){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new At,this.deactivateEvents=new At,this.attachEvents=new At,this.detachEvents=new At,this.name=s||bt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new pae(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(T(sh),T(Ln),T(Ro),zs("name"),T(pi))},n.\u0275dir=de({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class pae{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ka?this.route:e===sh?this.childContexts:this.parent.get(e,t)}}let dL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ft({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&Pt(0,"router-outlet")},directives:[gg],encapsulation:2}),n})();function hL(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];mae(i,gae(e,i))}}function mae(n,e){n.children&&hL(n.children,e)}function gae(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function iC(n){const e=n.children&&n.children.map(iC),t=e?jn(be({},n),{children:e}):be({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bt&&(t.component=dL),t}function Cr(n){return n.outlet||bt}function fL(n,e){const t=n.filter(i=>Cr(i)===e);return t.push(...n.filter(i=>Cr(i)!==e)),t}const pL={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function _g(n,e,t){var a;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?be({},pL):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Moe)(t,n,e);if(!r)return be({},pL);const s={};ri(r.posParams,(l,c)=>{s[c]=l.path});const o=r.consumed.length>0?be(be({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!=(a=r.posParams)?a:{}}}function vg(n,e,t,i,r="corrected"){if(t.length>0&&function(n,e,t){return t.some(i=>yg(n,e,i)&&Cr(i)!==bt)}(n,t,i)){const o=new St(e,function(n,e,t,i){const r={};r[bt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Cr(s)!==bt){const o=new St([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[Cr(s)]=o}return r}(n,e,i,new St(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(i=>yg(n,e,i))}(n,t,i)){const o=new St(n.segments,function(n,e,t,i,r,s){const o={};for(const a of i)if(yg(n,t,a)&&!r[Cr(a)]){const l=new St([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Cr(a)]=l}return be(be({},r),o)}(n,e,t,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new St(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function yg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function mL(n,e,t,i){return!!(Cr(n)===i||i!==bt&&yg(e,t,n))&&("**"===n.path||_g(e,n,t).matched)}function gL(n,e,t){return 0===e.length&&!n.children[t]}class oh{constructor(e){this.segmentGroup=e||null}}class _L{constructor(e){this.urlTree=e}}function bg(n){return new Z(e=>e.error(new oh(n)))}function vL(n){return new Z(e=>e.error(new _L(n)))}function Oae(n){return new Z(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class xae{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Js)}apply(){const e=vg(this.urlTree.root,[],[],this.config).segmentGroup,t=new St(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,bt).pipe(We(s=>this.createUrlTree(rC(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ho(s=>{if(s instanceof _L)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof oh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,bt).pipe(We(r=>this.createUrlTree(rC(r),e.queryParams,e.fragment))).pipe(Ho(r=>{throw r instanceof oh?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new St([],{[bt]:e}):e;return new Za(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(We(s=>new St([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Zn(r).pipe(yc(s=>{const o=i.children[s],a=fL(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(We(l=>({segment:l,outlet:s})))}),IN((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Qt((r,s)=>n(r,s,i)):g,Hw(1),t?FN(e):PN(()=>new ag))}())}expandSegment(e,t,i,r,s,o){return Zn(i).pipe(yc(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,s,o).pipe(Ho(c=>{if(c instanceof oh)return Ne(null);throw c}))),Nc(a=>!!a),Ho((a,l)=>{if(a instanceof ag||"EmptyError"===a.name){if(gL(t,r,s))return Ne(new St([],{}));throw new oh(t)}throw a}))}expandSegmentAgainstRoute(e,t,i,r,s,o,a){return mL(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):bg(t):bg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?vL(s):this.lineralizeSegments(i,s).pipe(Yn(o=>{const a=new St(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=_g(t,r,s);if(!a)return bg(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?vL(d):this.lineralizeSegments(r,d).pipe(Yn(h=>this.expandSegment(e,t,i,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Ne(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(We(h=>(i._loadedConfig=h,new St(r,{})))):Ne(new St(r,{}));const{matched:o,consumedSegments:a,lastChild:l}=_g(t,i,r);if(!o)return bg(t);const c=r.slice(l);return this.getChildConfig(e,i,r).pipe(Yn(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=vg(t,a,c,f),v=new St(p.segments,p.children);if(0===m.length&&v.hasChildren())return this.expandChildren(h,f,v).pipe(We(I=>new St(a,I)));if(0===f.length&&0===m.length)return Ne(new St(a,{}));const O=Cr(i)===s;return this.expandSegment(h,v,f,m,O?bt:s,!0).pipe(We(x=>new St(a.concat(x.segments),x.children)))}))}getChildConfig(e,t,i){return t.children?Ne(new nC(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ne(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(Yn(r=>r?this.configLoader.load(e.injector,t).pipe(We(s=>(t._loadedConfig=s,s))):function(n){return new Z(e=>e.error(zw(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Ne(new nC([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;if(!r||0===r.length)return Ne(!0);const s=r.map(o=>{const a=e.get(o);let l;if(function(n){return n&&Go(n.canLoad)}(a))l=a.canLoad(t,i);else{if(!Go(a))throw new Error("Invalid CanLoad guard");l=a(t,i)}return Ds(l)});return Ne(s).pipe(rh(),Bn(o=>{if(!Ja(o))return;const a=zw(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),We(o=>!0===o))}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ne(i);if(r.numberOfChildren>1||!r.children[bt])return Oae(e.redirectTo);r=r.children[bt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Za(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ri(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return ri(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,r)}),new St(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function rC(n){const e={};for(const i of Object.keys(n.children)){const s=rC(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[bt]){const e=n.children[bt];return new St(n.segments.concat(e.segments),e.children)}return n}(new St(n.segments,e))}class yL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Og{constructor(e,t){this.component=e,this.route=t}}function Tae(n,e,t){const i=n._root;return ah(i,e?e._root:null,t,[i.value])}function wg(n,e,t){const i=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function ah(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=$c(e);return n.children.forEach(o=>{(function(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ya(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ya(n.url,e.url)||!Ss(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kw(n,e)||!Ss(n.queryParams,e.queryParams);default:return!Kw(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new yL(i)):(s.data=o.data,s._resolvedData=o._resolvedData),ah(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Og(a.outlet.component,o))}else o&&lh(e,a,r),r.canActivateChecks.push(new yL(i)),ah(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),ri(s,(o,a)=>lh(o,t.getContext(a),r)),r}function lh(n,e,t){const i=$c(n),r=n.value;ri(i,(s,o)=>{lh(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Og(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Qae{}function bL(n){return new Z(e=>e.error(n))}class jae{constructor(e,t,i,r,s,o){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=vg(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,bt);if(null===t)return null;const i=new fg([],Object.freeze({}),Object.freeze(be({},this.urlTree.queryParams)),this.urlTree.fragment,{},bt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new _o(i,t),s=new rL(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=iL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=fL(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;i.push(...l)}const r=OL(i);return function(n){n.sort((e,t)=>e.value.outlet===bt?-1:t.value.outlet===bt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,i,r);if(null!==o)return o}return gL(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!mL(e,t,i,r))return null;let s,o=[],a=[];if("**"===e.path){const f=i.length>0?UN(i).parameters:{};s=new fg(i,f,Object.freeze(be({},this.urlTree.queryParams)),this.urlTree.fragment,xL(e),Cr(e),e.component,e,wL(t),CL(t)+i.length,SL(e))}else{const f=_g(t,e,i);if(!f.matched)return null;o=f.consumedSegments,a=i.slice(f.lastChild),s=new fg(o,f.parameters,Object.freeze(be({},this.urlTree.queryParams)),this.urlTree.fragment,xL(e),Cr(e),e.component,e,wL(t),CL(t)+o.length,SL(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=vg(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new _o(s,f)]}if(0===l.length&&0===u.length)return[new _o(s,[])];const d=Cr(e)===r,h=this.processSegment(l,c,u,d?bt:r);return null===h?null:[new _o(s,h)]}}function Wae(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function OL(n){const e=[],t=new Set;for(const i of n){if(!Wae(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=OL(i.children);e.push(new _o(i.value,r))}return e.filter(i=>!t.has(i))}function wL(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function CL(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function xL(n){return n.data||{}}function SL(n){return n.resolve||{}}function sC(n){return Li(e=>{const t=n(e);return t?Zn(t).pipe(We(()=>e)):Ne(e)})}class Jae extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const oC=new pe("ROUTES");class DL{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(We(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new nC(jN(o.injector.get(oC,void 0,st.Self|st.Optional)).map(iC),o)}),Ho(s=>{throw t._loader$=void 0,s}));return t._loader$=new pS(r,()=>new Ie).pipe(tv()),t._loader$}loadModuleFactory(e){return Ds(e()).pipe(Yn(t=>t instanceof UE?Ne(t):Zn(this.compiler.compileModuleAsync(t))))}}class tle{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function nle(n){throw n}function ile(n,e,t){return e.parse("/")}function TL(n,e){return Ne(null)}const rle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sle={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Di=(()=>{class n{constructor(t,i,r,s,o,a,l){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ie,this.errorHandler=nle,this.malformedUriErrorHandler=ile,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:TL,afterPreactivation:TL},this.urlHandlingStrategy=new tle,this.routeReuseStrategy=new Jae,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Js),this.console=o.get(DM);const d=o.get(it);this.isNgZoneEnabled=d instanceof it&&it.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Za(new St([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new DL(o,a,h=>this.triggerEvent(new LN(h)),h=>this.triggerEvent(new $N(h))),this.routerState=nL(this.currentUrlTree,this.rootComponentType),this.transitions=new Bi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Qt(r=>0!==r.id),We(r=>jn(be({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Li(r=>{let s=!1,o=!1;return Ne(r).pipe(Bn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?jn(be({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Li(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Cg(a.source)&&(this.browserUrlTree=a.extractedUrl),Ne(a).pipe(Li(d=>{const h=this.transitions.getValue();return i.next(new Ww(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ma:Promise.resolve(d)}),function(n,e,t,i){return Li(r=>function(n,e,t,i,r){return new xae(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(We(s=>jn(be({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Bn(d=>{this.currentNavigation=jn(be({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,i,r){return Yn(s=>function(n,e,t,i,r="emptyOnly",s="legacy"){try{const o=new jae(n,e,t,i,r,s).recognize();return null===o?bL(new Qae):Ne(o)}catch(o){return bL(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe(We(o=>jn(be({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Bn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new voe(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:v}=a,O=new Ww(h,this.serializeUrl(f),p,m);i.next(O);const b=nL(f,this.rootComponentType).snapshot;return Ne(jn(be({},a),{targetSnapshot:b,urlAfterRedirects:f,extras:jn(be({},v),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ma}),sC(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Bn(a=>{const l=new yoe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),We(a=>jn(be({},a),{guards:Tae(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return Yn(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Ne(jn(be({},t),{guardsResult:!0})):function(n,e,t,i){return Zn(n).pipe(Yn(r=>function(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ne(s.map(a=>{const l=wg(a,e,r);let c;if(function(n){return n&&Go(n.canDeactivate)}(l))c=Ds(l.canDeactivate(n,e,t,i));else{if(!Go(l))throw new Error("Invalid CanDeactivate guard");c=Ds(l(n,e,t,i))}return c.pipe(Nc())})).pipe(rh()):Ne(!0)}(r.component,r.route,t,e,i)),Nc(r=>!0!==r,!0))}(o,i,r,n).pipe(Yn(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,i){return Zn(e).pipe(yc(r=>gd(function(n,e){return null!==n&&e&&e(new Coe(n)),Ne(!0)}(r.route.parent,i),function(n,e){return null!==n&&e&&e(new Soe(n)),Ne(!0)}(r.route,i),function(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>hc(()=>Ne(o.guards.map(l=>{const c=wg(l,o.node,t);let u;if(function(n){return n&&Go(n.canActivateChild)}(c))u=Ds(c.canActivateChild(i,n));else{if(!Go(c))throw new Error("Invalid CanActivateChild guard");u=Ds(c(i,n))}return u.pipe(Nc())})).pipe(rh())));return Ne(s).pipe(rh())}(n,r.path,t),function(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ne(!0);const r=i.map(s=>hc(()=>{const o=wg(s,e,t);let a;if(function(n){return n&&Go(n.canActivate)}(o))a=Ds(o.canActivate(e,n));else{if(!Go(o))throw new Error("Invalid CanActivate guard");a=Ds(o(e,n))}return a.pipe(Nc())}));return Ne(r).pipe(rh())}(n,r.route,t))),Nc(r=>!0!==r,!0))}(i,s,n,e):Ne(a)),We(a=>jn(be({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Bn(a=>{if(Ja(a.guardsResult)){const c=zw(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new boe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Qt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),sC(a=>{if(a.guards.canActivateChecks.length)return Ne(a).pipe(Bn(l=>{const c=new Ooe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Li(l=>{let c=!1;return Ne(l).pipe(function(n,e){return Yn(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ne(t);let s=0;return Zn(r).pipe(yc(o=>function(n,e,t,i){return function(n,e,t,i){const r=Object.keys(n);if(0===r.length)return Ne({});const s={};return Zn(r).pipe(Yn(o=>function(n,e,t,i){const r=wg(n,e,i);return Ds(r.resolve?r.resolve(e,t):r(e,t))}(n[o],e,t,i).pipe(Bn(a=>{s[o]=a}))),Hw(1),Yn(()=>Object.keys(s).length===r.length?Ne(s):Ma))}(n._resolve,n,e,i).pipe(We(s=>(n._resolvedData=s,n.data=be(be({},n.data),iL(n,t).resolve),null)))}(o.route,i,n,e)),Bn(()=>s++),Hw(1),Yn(o=>s===r.length?Ne(t):Ma))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Bn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Bn(l=>{const c=new woe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),sC(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),We(a=>{const l=function(n,e,t){const i=th(n,e._root,t?t._root:void 0);return new tL(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return jn(be({},a),{targetRouterState:l})}),Bn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>We(i=>(new oae(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Bn({next(){s=!0},complete(){s=!0}}),UI(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null==(a=this.currentNavigation)?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Ho(a=>{if(o=!0,function(n){return n&&n[QN]}(a)){const l=Ja(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new NN(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cg(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new _oe(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Ma}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(be(be({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var a;const r={replaceUrl:!0},s=(null==(a=t.state)?void 0:a.navigationId)?t.state:null;if(s){const l=be({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hL(t),this.config=t.map(iC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=be(be({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,i,r){if(0===t.length)return Jw(e.root,e.root,e,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new aL(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return ri(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new aL(t,e,i)}(t);if(s.toRoot())return Jw(e.root,new St([],{}),e,i,r);const o=function(n,e,t){if(n.isAbsolute)return new eC(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new eC(s,s===e.root,0)}const i=pg(n.commands[0])?0:1;return function(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new eC(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?mg(o.segmentGroup,o.index,s.commands):lL(o.segmentGroup,o.index,s.commands);return Jw(o.segmentGroup,a,e,i,r)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ja(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?be({},rle):!1===i?be({},sle):i,Ja(t))return WN(this.currentUrlTree,t,r);const s=this.parseUrl(t);return WN(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Kd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,o){var O,b,x;if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,l=Cg(i)&&a&&!Cg(a.source),c=a.rawUrl.toString()===t.toString(),u=a.id===(null==(O=this.currentNavigation)?void 0:O.id);if(l&&c&&u)return Promise.resolve(!0);let h,f,p;o?(h=o.resolve,f=o.reject,p=o.promise):p=new Promise((I,F)=>{h=I,f=F});const m=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),v=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!=(b=this.browserPageId)?b:0:(null!=(x=this.browserPageId)?x:0)+1):v=0,this.setTransition({id:m,targetPageId:v,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(I=>Promise.reject(I))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=be(be({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(r=this.currentNavigation)?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null==(s=this.currentNavigation)?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new NN(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){Bf()},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();function Cg(n){return"imperative"!==n}let el=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Ie,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Bc(this.skipLocationChange),replaceUrl:Bc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Bc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(T(Di),T(Ka),zs("tabindex"),T(Ks),T(nt))},n.\u0275dir=de({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&yt("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[wn]}),n})(),xg=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Ie,this.subscription=t.events.subscribe(s=>{s instanceof Kd&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,o){if(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Bc(this.skipLocationChange),replaceUrl:Bc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Bc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(T(Di),T(Ka),T(ac))},n.\u0275dir=de({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&yt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Xt("target",i.target)("href",i.href,qv)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[wn]}),n})();function Bc(n){return""===n||!!n}class EL{}class ML{preload(e,t){return Ne(null)}}let kL=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new DL(r,i,l=>t.triggerEvent(new LN(l)),l=>t.triggerEvent(new $N(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(t=>t instanceof Kd),yc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Js);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return Zn(r).pipe(cu(),We(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Ne(i._loadedConfig):this.loader.load(t.injector,i)).pipe(Yn(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(U(Di),U(Yf),U(Gt),U(EL))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})(),aC=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ww?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Kd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof BN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new BN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Bf()},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();const tl=new pe("ROUTER_CONFIGURATION"),AL=new pe("ROUTER_FORROOT_GUARD"),ule=[id,{provide:XN,useClass:ZN},{provide:Di,useFactory:function(n,e,t,i,r,s,o={},a,l){const c=new Di(null,n,e,t,i,r,jN(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,h;null==(d=console.group)||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null==(h=console.groupEnd)||h.call(console)}),c},deps:[XN,sh,id,Gt,Yf,oC,tl,[class{},new Zi],[class{},new Zi]]},sh,{provide:Ka,useFactory:function(n){return n.routerState.root},deps:[Di]},kL,ML,class{preload(e,t){return t().pipe(Ho(()=>Ne(null)))}},{provide:tl,useValue:{enableTracing:!1}}];function dle(){return new RM("Router",Di)}let RL=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[ule,IL(t),{provide:AL,useFactory:ple,deps:[[Di,new Zi,new pa]]},{provide:tl,useValue:i||{}},{provide:ac,useFactory:fle,deps:[wa,[new Du(Tb),new Zi],tl]},{provide:aC,useFactory:hle,deps:[Di,S6,tl]},{provide:EL,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:ML},{provide:RM,multi:!0,useFactory:dle},[lC,{provide:td,multi:!0,useFactory:vle,deps:[lC]},{provide:PL,useFactory:yle,deps:[lC]},{provide:SM,multi:!0,useExisting:PL}]]}}static forChild(t){return{ngModule:n,providers:[IL(t)]}}}return n.\u0275fac=function(t){return new(t||n)(U(AL,8),U(Di,8))},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({}),n})();function hle(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new aC(n,e,t)}function fle(n,e,t={}){return t.useHash?new a9(n,e):new ek(n,e)}function ple(n){return"guarded"}function IL(n){return[{provide:Aj,multi:!0,useValue:n},{provide:oC,multi:!0,useValue:n}]}let lC=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ie}appInitializer(){return this.injector.get(r9,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),s=this.injector.get(Di),o=this.injector.get(tl);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Ne(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(tl),r=this.injector.get(kL),s=this.injector.get(aC),o=this.injector.get(Di),a=this.injector.get(ba);t===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(U(Gt))},n.\u0275prov=xe({token:n,factory:n.\u0275fac}),n})();function vle(n){return n.appInitializer.bind(n)}function yle(n){return n.bootstrapListener.bind(n)}const PL=new pe("Router Initializer");let Ole=(()=>{class n{constructor(){this.title="write-and-roll",KF.plugin(ooe)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ft({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"],[1,"content"],[1,"pages"]],template:function(t,i){1&t&&(oe(0,"div",0),oe(1,"div",1),oe(2,"div",2),Pt(3,"router-outlet"),ae(),ae(),ae())},directives:[gg],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%}.content[_ngcontent-%COMP%]{height:100%;display:flex}.sidebar[_ngcontent-%COMP%]{width:100px;border-right:1px solid lightgray;background-color:#fff}.pages[_ngcontent-%COMP%]{height:100%;width:100%}.header[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid lightgray}"]}),n})();const xle=new class extends zr{}(class extends Xp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}});class Sg extends Q{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Sg.dispatch,this.delay,new Dle(e,this.destination)))}_next(e){this.scheduleMessage($i.createNext(e))}_error(e){this.scheduleMessage($i.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage($i.createComplete()),this.unsubscribe()}}class Dle{constructor(e,t){this.notification=e,this.destination=t}}class Tle extends Ie{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Ele(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=i.length;let o;if(this.closed)throw new et;if(this.isStopped||this.hasError?o=$.EMPTY:(this.observers.push(e),o=new Ii(this,e)),r&&e.add(e=new Sg(e,r)),t)for(let a=0;a<s&&!e.closed;a++)e.next(i[a]);else for(let a=0;a<s&&!e.closed;a++)e.next(i[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o}_getNow(){return(this.scheduler||xle).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,r=this._events,s=r.length;let o=0;for(;o<s&&!(e-r[o].time<i);)o++;return s>t&&(o=Math.max(o,s-t)),o>0&&r.splice(0,o),r}}class Ele{constructor(e,t){this.time=e,this.value=t}}function Ale(n,e){if(1&n){const t=hs();oe(0,"button",7),yt("click",function(){return fr(t),en(),function(n){return Ol(tt.lFrame.contextLView,20+n)}(2).toggle()}),oe(1,"mat-icon",8),at(2,"menu"),ae(),ae()}}const Rle=function(){return["/app/notes"]},Ile=function(){return["/app/templates"]},Ple=function(){return["/app/random-tables"]};let Fle=(()=>{class n{constructor(t){this.breakpointObserver=t,this.campaigns=[{id:"8d6f12cf-6e53-4d67-9acd-32958f953488",name:"Test Campaign 1"},{id:"8d6f12cf-6e53-4d67-9acd-32958f953489",name:"Test Campaign 2"},{id:"8d6f12cf-6e53-4d67-9acd-32958f953490",name:"Test Campaign 3"}],this.selectedCampaignId="8d6f12cf-6e53-4d67-9acd-32958f953488",this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe(We(i=>i.matches),function(n,e,t){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},r=>r.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:i}){let r,o,s=0,a=!1,l=!1;return function(u){let d;s++,!r||a?(a=!1,r=new Tle(n,e,i),d=r.subscribe(this),o=u.subscribe({next(h){r.next(h)},error(h){a=!0,r.error(h)},complete(){l=!0,o=void 0,r.complete()}}),l&&(o=void 0)):d=r.subscribe(this),this.add(()=>{s--,d.unsubscribe(),d=void 0,o&&!l&&t&&0===s&&(o.unsubscribe(),o=void 0,r=void 0)})}}(i))}())}}return n.\u0275fac=function(t){return new(t||n)(T(TP))},n.\u0275cmp=ft({type:n,selectors:[["app-home"]],decls:23,vars:18,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","",1,"nav-item",3,"routerLink"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"content"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,i){1&t&&(oe(0,"mat-sidenav-container",0),oe(1,"mat-sidenav",1,2),Yu(3,"async"),Yu(4,"async"),Yu(5,"async"),oe(6,"mat-toolbar"),at(7,"Menu"),ae(),oe(8,"mat-nav-list"),oe(9,"a",3),at(10,"Notes"),ae(),oe(11,"a",3),at(12,"Templates"),ae(),oe(13,"a",3),at(14,"Random Tables"),ae(),ae(),ae(),oe(15,"mat-sidenav-content"),oe(16,"mat-toolbar",4),vt(17,Ale,3,0,"button",5),Yu(18,"async"),oe(19,"span"),at(20,"write-and-roll"),ae(),ae(),oe(21,"div",6),Pt(22,"router-outlet"),ae(),ae(),ae()),2&t&&($e(1),qe("mode",Ku(4,9,i.isHandset$)?"over":"side")("opened",!1===Ku(5,11,i.isHandset$)),Xt("role",Ku(3,7,i.isHandset$)?"dialog":"navigation"),$e(8),qe("routerLink",Po(15,Rle)),$e(2),qe("routerLink",Po(16,Ile)),$e(2),qe("routerLink",Po(17,Ple)),$e(4),qe("ngIf",Ku(18,13,i.isHandset$)))},directives:[CP,wP,Bee,oJ,aJ,xg,OO,Ca,gg,vc,aP],pipes:[gk],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.nav-item[_ngcontent-%COMP%]{padding-left:10px!important}.content[_ngcontent-%COMP%]{padding:30px}.mat-drawer-inner-container[_ngcontent-%COMP%]{overflow:hidden}"]}),n})(),Nle=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ft({type:n,selectors:[["app-notes"]],decls:2,vars:0,template:function(t,i){1&t&&(oe(0,"p"),at(1,"notes works!"),ae())},styles:[""]}),n})();function FL(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function xr(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){FL(s,i,r,o,a,"next",l)}function a(l){FL(s,i,r,o,a,"throw",l)}o(void 0)})}}class Lle{constructor(e,t){this.name=e,this.lines=t,this._id="",this._rev=""}}class NL{constructor(e,t){this.index=e,this.value=t}}class $le{constructor(e=0,t={}){this.sum=e,this.rolls=t}toString(){let e="";for(const t of Object.keys(this.rolls).reverse()){e=e.concat(`${t}(`);const i=this.rolls[t];for(const r of i)e=e.concat(r.toString(),", ");e=e.slice(0,e.length-2).concat(") + ")}return e=e.slice(0,e.length-3),`${e} = ${this.sum}`}}class cC{static rollDiceFormula(e){let i=e.split(/[+]/g);i=i.map(s=>s.trim());const r=new $le;for(;i.length>0;){const s=i.pop();if(s){const o=s.split("d");if(o.length>0){const c=cC.rollDice(+o[0],o.length>1?+o[1]:1);r.sum+=c.reduce((u,d)=>u+d),r.rolls[s]=c}}}return r}static rollDice(e,t){let i=[];if(1===t)i.push(+e);else for(;e>0;){const r=1+Math.floor(Math.random()*t);i.push(r),e--}return i}}class Ble{constructor(e,t){this.db=e,this.collection=t}create(e){var t=this;return xr(function*(){e._id=`${t.collection}/${(new Date).toISOString()}`;const i=yield t.db.put(e);return e._rev=i.rev,e})()}get(e){var t=this;return xr(function*(){return t.db.get(e)})()}getAll(){var e=this;return xr(function*(){const t=yield e.db.allDocs({include_docs:!0,startkey:`${e.collection}/`,endkey:`${e.collection}/\ufff0`});return t.rows.length>0?t.rows.map(i=>i.doc):[]})()}update(e){var t=this;return xr(function*(){const i=yield t.db.put(e);return e._rev=i.rev,e})()}delete(e){var t=this;return xr(function*(){const i=yield t.db.remove(e);return e._rev=i.rev,e})()}}let Qle=(()=>{class n{constructor(){this.db=new KF("write-and-roll-db"),this.randomTables=new Ble(this.db,"randomTables"),this.db.createIndex({index:{fields:["name"]}})}onChanges(){return this.db.changes({since:"now",live:!0})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LL=(()=>{class n{constructor(t){this.db=t}create(t){var i=this;return xr(function*(){return i.db.randomTables.create(t)})()}getAll(){var t=this;return xr(function*(){return t.db.randomTables.getAll()})()}get(t){var i=this;return xr(function*(){return i.db.randomTables.get(t)})()}update(t){var i=this;return xr(function*(){return i.db.randomTables.update(t)})()}roll(t){const i=function(l){let c=0,u=l[l.length-1].index;return u.includes("-")&&(u=u.split("-")[1]),c="00"===u?100:+u,c}(t.lines),r=cC.rollDice(1,i),s=t.lines.find(l=>function(l,c){if(l.includes("-")){const u=l.split("-").map(d=>+d);return u[0]<=c&&c<=u[1]}return l===c.toString()}(l.index,r[0]));return s?s.value:""}}return n.\u0275fac=function(t){return new(t||n)(U(Qle))},n.\u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vle(n,e){if(1&n){const t=hs();oe(0,"div",8),oe(1,"mat-form-field",9),oe(2,"mat-label"),at(3,"Index"),ae(),oe(4,"input",6),yt("ngModelChange",function(r){return fr(t).$implicit.index=r}),ae(),ae(),oe(5,"mat-form-field",10),oe(6,"mat-label"),at(7,"Value"),ae(),oe(8,"input",6),yt("ngModelChange",function(r){return fr(t).$implicit.value=r}),ae(),ae(),oe(9,"button",3),yt("click",function(){const s=fr(t).$implicit;return en().deleteLine(s)}),at(10,"Delete"),ae(),ae()}if(2&n){const t=e.$implicit;$e(4),qe("ngModel",t.index),$e(4),qe("ngModel",t.value)}}const jle=function(){return["/app/random-tables"]};let Ule=(()=>{class n{constructor(t,i,r,s){this.router=t,this.route=i,this.randomTableService=r,this.snackBar=s,this.randomTable=new Lle("",[new NL("","")])}ngOnInit(){var t=this;this.route.params.subscribe(function(){var i=xr(function*(r){if(r.id){const s=yield t.randomTableService.get(r.id);s&&(t.randomTable=s)}});return function(r){return i.apply(this,arguments)}}())}addLine(){this.randomTable.lines.push(new NL("",""))}deleteLine(t){const i=this.randomTable.lines.findIndex(r=>r.index==t.index);-1!==i&&this.randomTable.lines.splice(i,1)}save(){var t=this;return xr(function*(){t.randomTable._id?yield t.randomTableService.update(t.randomTable):yield t.randomTableService.create(t.randomTable),t.router.navigate(["/app/random-tables"])})()}roll(){this.snackBar.open(this.randomTableService.roll(this.randomTable),"Close")}}return n.\u0275fac=function(t){return new(t||n)(T(Di),T(Ka),T(LL),T(nee))},n.\u0275cmp=ft({type:n,selectors:[["app-random-tables-add-edit"]],decls:21,vars:4,consts:[[1,"actions-container"],["mat-stroked-button","",3,"routerLink"],[1,"save-button"],["mat-button","",3,"click"],["mat-stroked-button","",3,"click"],[1,"name"],["matInput","",3,"ngModel","ngModelChange"],["class","line",4,"ngFor","ngForOf"],[1,"line"],[1,"index"],[1,"value"]],template:function(t,i){1&t&&(oe(0,"div",0),oe(1,"button",1),at(2,"Back"),ae(),oe(3,"div",2),oe(4,"button",3),yt("click",function(){return i.addLine()}),oe(5,"mat-icon"),at(6,"add"),ae(),at(7," Add Line "),ae(),at(8," \xa0 "),oe(9,"button",3),yt("click",function(){return i.roll()}),at(10,"Roll"),ae(),at(11," \xa0 "),oe(12,"button",4),yt("click",function(){return i.save()}),at(13,"Save"),ae(),ae(),ae(),Pt(14,"br"),oe(15,"div"),oe(16,"mat-form-field",5),oe(17,"mat-label"),at(18,"Name"),ae(),oe(19,"input",6),yt("ngModelChange",function(s){return i.randomTable.name=s}),ae(),ae(),vt(20,Vle,11,2,"div",7),ae()),2&t&&($e(1),qe("routerLink",Po(3,jle)),$e(18),qe("ngModel",i.randomTable.name),$e(1),qe("ngForOf",i.randomTable.lines))},directives:[vc,el,aP,FI,gm,uP,ud,E0,Wp,dk],styles:[".name[_ngcontent-%COMP%]{width:100%}.line[_ngcontent-%COMP%]{display:flex;width:100%}.index[_ngcontent-%COMP%]{margin-right:10px}.value[_ngcontent-%COMP%]{flex-grow:1;margin-right:10px}.actions-container[_ngcontent-%COMP%]{display:flex}.save-button[_ngcontent-%COMP%]{margin-left:auto}"]}),n})();function Hle(n,e){1&n&&(oe(0,"th",9),at(1,"Name"),ae())}function Wle(n,e){if(1&n&&(oe(0,"td",10),at(1),ae()),2&n){const t=e.$implicit;$e(1),Ys(" ",t.name," ")}}function zle(n,e){1&n&&Pt(0,"th",9)}function qle(n,e){if(1&n){const t=hs();oe(0,"td",10),oe(1,"div",0),oe(2,"button",11),yt("click",function(){const s=fr(t).$implicit;return en().edit(s)}),at(3,"Edit"),ae(),oe(4,"button",12),at(5,"Delete"),ae(),ae(),ae()}}function Gle(n,e){1&n&&Pt(0,"tr",13)}function Xle(n,e){1&n&&Pt(0,"tr",14)}const Zle=function(){return["/app/random-tables/add"]};let Yle=(()=>{class n{constructor(t,i){this.router=t,this.randomTableService=i,this.randomTables=[],this.displayedColumns=["name","actions"]}ngOnInit(){var t=this;return xr(function*(){t.randomTables=yield t.randomTableService.getAll()})()}edit(t){this.router.navigate(["/app/random-tables",t._id])}}return n.\u0275fac=function(t){return new(t||n)(T(Di),T(LL))},n.\u0275cmp=ft({type:n,selectors:[["app-random-tables"]],decls:13,vars:5,consts:[[1,"actions-container"],["mat-stroked-button","",3,"routerLink"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-button",""],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(oe(0,"div",0),oe(1,"button",1),at(2,"Add"),ae(),ae(),Pt(3,"br"),oe(4,"table",2),us(5,3),vt(6,Hle,2,0,"th",4),vt(7,Wle,2,1,"td",5),ds(),us(8,6),vt(9,zle,1,0,"th",4),vt(10,qle,6,0,"td",5),ds(),vt(11,Gle,1,0,"tr",7),vt(12,Xle,1,0,"tr",8),ae()),2&t&&($e(1),qe("routerLink",Po(4,Zle)),$e(3),qe("dataSource",i.randomTables),$e(7),qe("matHeaderRowDef",i.displayedColumns),$e(1),qe("matRowDefColumns",i.displayedColumns))},directives:[vc,el,IO,Nm,Fm,Pm,PO,FO,Lm,$m,NO,LO],styles:[".mat-column-name[_ngcontent-%COMP%]{width:100%}.actions-container[_ngcontent-%COMP%]{display:flex}"]}),n})();class Kle{constructor(e="",t=""){this.name=e,this.content=t,this._id="",this._rev=""}}class $t{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Ts.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),Ts.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new ch(this),s=new ch(e);for(let o=t,a=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new ch(this,e)}iterRange(e,t=this.length){return new BL(this,e,t)}iterLines(e,t){let i;if(null==e)i=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new QL(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new yn(e):Ts.from(yn.split(e,[])):$t.empty}}class yn extends $t{constructor(e,t=function(n){let e=-1;for(let t of n)e+=t.length+1;return e}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((t?i:a)>=e)return new ece(r,a,i,o);r=a+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new yn($L(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let o=i.pop(),a=Dg(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new yn(a,o.length+s.length));else{let l=a.length>>1;i.push(new yn(a.slice(0,l)),new yn(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof yn))return super.replace(e,t,i);let r=Dg(this.text,Dg(i.text,$L(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new yn(r,s):Ts.from(yn.split(r,[]),s)}sliceString(e,t=this.length,i="\n"){let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&t>s&&(r+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,32==i.length&&(t.push(new yn(i,r)),i=[],r=-1);return r>-1&&t.push(new yn(i,r)),t}}class Ts extends $t{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,r);r=a+1,i=l+1}}decompose(e,t,i,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=r&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?i.push(a):a.decompose(e-o,t-o,i,c)}o=l+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[r]=l,new Ts(u,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i="\n"){let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&t>o&&(r+=a.sliceString(e-o,t-o,i)),o=l+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Ts))return 0;let i=0,[r,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==a)return i;let l=this.children[r],c=e.children[s];if(l!=c)return i+l.scanIdentical(c,t);i+=l.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let f of e)i+=f.lines;if(i<32){let f=[];for(let p of e)p.flatten(f);return new yn(f,t)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,c=-1,u=[];function d(f){let p;if(f.lines>s&&f instanceof Ts)for(let m of f.children)d(m);else f.lines>o&&(l>o||!l)?(h(),a.push(f)):f instanceof yn&&l&&(p=u[u.length-1])instanceof yn&&f.lines+p.lines<=32?(l+=f.lines,c+=f.length+1,u[u.length-1]=new yn(p.text.concat(f.text),p.length+1+f.length)):(l+f.lines>r&&h(),l+=f.lines,c+=f.length+1,u.push(f))}function h(){0!=l&&(a.push(1==u.length?u[0]:Ts.from(u,c)),c=-1,l=u.length=0)}for(let f of e)d(f);return h(),1==a.length?a[0]:new Ts(a,t)}}function Dg(n,e,t=0,i=1e9){for(let r=0,s=0,o=!0;s<n.length&&r<=i;s++){let a=n[s],l=r+a.length;l>=t&&(l>i&&(a=a.slice(0,i-r)),r<t&&(a=a.slice(t-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function $L(n,e,t){return Dg(n,[""],e,t)}$t.empty=new yn([""],0);class ch{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof yn?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof yn?r.text.length:r.children.length;if(o==(t>0?a:0)){if(0==i)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(t>0?0:1)){if(this.offsets[i]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof yn){let l=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=0==e?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof yn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class BL{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new ch(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class QL{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&($t.prototype[Symbol.iterator]=function(){return this.iter()},ch.prototype[Symbol.iterator]=BL.prototype[Symbol.iterator]=QL.prototype[Symbol.iterator]=function(){return this});class ece{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let Qc="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Qc.length;n++)Qc[n]+=Qc[n-1];function tce(n){for(let e=1;e<Qc.length;e+=2)if(Qc[e]>n)return Qc[e-1]<=n;return!1}function VL(n){return n>=127462&&n<=127487}function rr(n,e,t=!0,i=!0){return(t?UL:nce)(n,e,i)}function UL(n,e,t){if(e==n.length)return e;e&&HL(n.charCodeAt(e))&&WL(n.charCodeAt(e-1))&&e--;let i=_i(n,e);for(e+=Sr(i);e<n.length;){let r=_i(n,e);if(8205==i||8205==r||t&&tce(r))e+=Sr(r),i=r;else{if(!VL(r))break;{let s=0,o=e-2;for(;o>=0&&VL(_i(n,o));)s++,o-=2;if(s%2==0)break;e+=2}}}return e}function nce(n,e,t){for(;e>0;){let i=UL(n,e-2,t);if(i<e)return i;e--}return 0}function HL(n){return n>=56320&&n<57344}function WL(n){return n>=55296&&n<56320}function _i(n,e){let t=n.charCodeAt(e);if(!WL(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return HL(i)?i-56320+(t-55296<<10)+65536:t}function uC(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}function Sr(n){return n<65536?1:2}const dC=/\r\n?|\n/;var si=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(si||(si={}));class vo{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,t=!1){hC(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new vo(e)}composeDesc(e){return this.empty?e:e.empty?this:zL(this,e)}mapDesc(e,t=!1){return e.empty?this:fC(this,e,t)}mapPos(e,t=-1,i=si.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=r+a;if(l<0){if(c>e)return s+(e-r);s+=a}else{if(i!=si.Simple&&c>=e&&(i==si.TrackDel&&r<e&&c>e||i==si.TrackBefore&&r<e||i==si.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==r||t<0?s:s+l;s+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let a=r+this.sections[i++];if(this.sections[i++]>=0&&r<=t&&a>=e)return!(r<e&&a>t)||"cover";r=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>"number"!=typeof t))throw new RangeError("Invalid JSON representation of ChangeDesc");return new vo(e)}}class Gn extends vo{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return hC(this,(t,i,r,s,o)=>e=e.replace(r,r+(i-t),o),!1),e}mapDesc(e,t=!1){return fC(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=o;let l=r>>1;for(;i.length<l;)i.push($t.empty);i.push(o?e.slice(s,s+o):$t.empty)}s+=o}return new Gn(t,i)}compose(e){return this.empty?e:e.empty?this:zL(this,e,!0)}map(e,t=!1){return e.empty?this:fC(this,e,t,!0)}iterChanges(e,t=!1){hC(this,e,t)}get desc(){return new vo(this.sections)}filter(e){let t=[],i=[],r=[],s=new uh(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&0==s.len;){if(s.done)break e;let u=Math.min(s.len,l-a);Ti(r,u,-1);let d=-1==s.ins?-1:0==s.off?s.ins:0;Ti(t,u,d),d>0&&nl(i,t,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);Ti(t,u,-1),Ti(r,u,-1==s.ins?-1:0==s.off?s.ins:0),s.forward(u),a+=u}}return{changes:new Gn(t,i),filtered:new vo(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];e.push(r<0?i:0==r?[i]:[i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!r.length)return;o<t&&Ti(r,t-o,-1);let d=new Gn(r,s);a=a?a.compose(d.map(a)):d,r=[],s=[],o=0}return function c(u){if(Array.isArray(u))for(let d of u)c(d);else if(u instanceof Gn){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:d,to:h=d,insert:f}=u;if(d>h||d<0||h>t)throw new RangeError(`Invalid change range ${d} to ${h} (in doc of length ${t})`);let p=f?"string"==typeof f?$t.of(f.split(i||dC)):f:$t.empty,m=p.length;if(d==h&&0==m)return;d<o&&l(),d>o&&Ti(r,d-o,-1),Ti(r,h-d,m),nl(s,r,p),o=h}}(e),l(!a),a}static empty(e){return new Gn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if("number"==typeof s)t.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some((o,a)=>a&&"string"!=typeof o))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)t.push(s[0],0);else{for(;i.length<r;)i.push($t.empty);i[r]=$t.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new Gn(t,i)}}function Ti(n,e,t,i=!1){if(0==e&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:0==e&&0==n[r]?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function nl(n,e,t){if(0==t.length)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push($t.empty);n.push(t)}}function hC(n,e,t){let i=n.inserted;for(let r=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)r+=a,s+=a;else{let c=r,u=s,d=$t.empty;for(;c+=a,u+=l,l&&i&&(d=d.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(r,c,s,u,d),r=c,s=u}}}function fC(n,e,t,i=!1){let r=[],s=i?[]:null,o=new uh(n),a=new uh(e);for(let l=0,c=0;;)if(-1==o.ins)l+=o.len,o.next();else if(-1==a.ins&&c<l){let u=Math.min(a.len,l-c);a.forward(u),Ti(r,u,-1),c+=u}else if(a.ins>=0&&(o.done||c<l||c==l&&(a.len<o.len||a.len==o.len&&!t))){for(Ti(r,a.ins,-1);l>c&&!o.done&&l+o.len<c+a.len;)l+=o.len,o.next();c+=a.len,a.next()}else{if(!(o.ins>=0)){if(o.done&&a.done)return s?new Gn(r,s):new vo(r);throw new Error("Mismatched change set lengths")}{let u=0,d=l+o.len;for(;;)if(a.ins>=0&&c>l&&c+a.len<d)u+=a.ins,c+=a.len,a.next();else{if(!(-1==a.ins&&c<d))break;{let h=Math.min(a.len,d-c);u+=h,a.forward(h),c+=h}}Ti(r,u,o.ins),s&&nl(s,r,o.text),l=d,o.next()}}}function zL(n,e,t=!1){let i=[],r=t?[]:null,s=new uh(n),o=new uh(e);for(let a=!1;;){if(s.done&&o.done)return r?new Gn(i,r):new vo(i);if(0==s.ins)Ti(i,s.len,0,a),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=i.length;if(-1==s.ins){let u=-1==o.ins?-1:o.off?0:o.ins;Ti(i,l,u,a),r&&u&&nl(r,i,o.text)}else-1==o.ins?(Ti(i,s.off?0:s.len,l,a),r&&nl(r,i,s.textBit(l))):(Ti(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&nl(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>c),s.forward2(l),o.forward(l)}}else Ti(i,0,o.ins,a),r&&nl(r,i,o.text),o.next()}}class uh{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?$t.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?$t.empty:t[i].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Vc{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Vc(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return le.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return le.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return le.range(e.anchor,e.head)}}class le{constructor(e,t=0){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:le.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new le([this.main])}addRange(e,t=!0){return le.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,le.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new le(e.ranges.map(t=>Vc.fromJSON(t)),e.main)}static single(e,t=e){return new le([le.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return ice(e.slice(),t);i=s.to}return new le(e,t)}static cursor(e,t=0,i,r){return new Vc(e,e,(0==t?0:t<0?4:8)|(null==i?3:Math.min(2,i))|(null!=r?r:33554431)<<5)}static range(e,t,i){let r=(null!=i?i:33554431)<<5;return t<e?new Vc(t,e,24|r):new Vc(e,t,r|(t>e?4:0))}}function ice(n,e=0){let t=n[e];n.sort((i,r)=>i.from-r.from),e=n.indexOf(t);for(let i=1;i<n.length;i++){let r=n[i],s=n[i-1];if(r.empty?r.from<=s.to:r.from<s.to){let o=s.from,a=Math.max(r.to,s.to);i<=e&&e--,n.splice(--i,2,r.anchor>r.head?le.range(a,o):le.range(o,a))}}return new le(n,e)}function qL(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let pC=0;class Fe{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.extensions=s,this.id=pC++,this.default=e([])}static define(e={}){return new Fe(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:mC),!!e.static,e.enables)}of(e){return new Tg([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Tg(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Tg(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function mC(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class Tg{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=pC++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=2==this.type,l=!1,c=!1,u=[];for(let d of this.dependencies)"doc"==d?l=!0:"selection"==d?c=!0:0==(1&(null!==(t=e[d.id])&&void 0!==t?t:1))&&u.push(e[d.id]);return{create:d=>(d.values[o]=i(d),1),update(d,h){if(l&&h.docChanged||c&&(h.docChanged||h.selection)||gC(d,u)){let f=i(d);if(a?!GL(f,d.values[o],r):!r(f,d.values[o]))return d.values[o]=f,1}return 0},reconfigure:(d,h)=>{let f=i(d),p=h.config.address[s];if(null!=p){let m=kg(h,p);if(this.dependencies.every(v=>v instanceof Fe?h.facet(v)===d.facet(v):!(v instanceof Rn)||h.field(v,!1)==d.field(v,!1))||(a?GL(f,m,r):r(f,m)))return d.values[o]=m,0}return d.values[o]=f,1}}}}function GL(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function gC(n,e){let t=!1;for(let i of e)1&hh(n,i)&&(t=!0);return t}function rce(n,e,t){let i=t.map(l=>n[l.id]),r=t.map(l=>l.type),s=i.filter(l=>!(1&l)),o=n[e.id]>>1;function a(l){let c=[];for(let u=0;u<i.length;u++){let d=kg(l,i[u]);if(2==r[u])for(let h of d)c.push(h);else c.push(d)}return e.combine(c)}return{create(l){for(let c of i)hh(l,c);return l.values[o]=a(l),1},update(l,c){if(!gC(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=gC(l,i),d=c.config.facets[e.id],h=c.facet(e);if(d&&!u&&mC(t,d))return l.values[o]=h,0;let f=a(l);return e.compare(f,h)?(l.values[o]=h,0):(l.values[o]=f,1)}}}const XL=Fe.define({static:!0});class Rn{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new Rn(pC++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(XL).find(i=>i.field==this);return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,r)=>null!=r.config.address[this.id]?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,XL.of({field:this,create:e})]}get extension(){return this}}function dh(n){return e=>new ZL(e,n)}const Uc={highest:dh(0),high:dh(1),default:dh(2),low:dh(3),lowest:dh(4)};class ZL{constructor(e,t){this.inner=e,this.prec=t}}class Eg{of(e){return new _C(this,e)}reconfigure(e){return Eg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class _C{constructor(e,t){this.compartment=e,this.inner=t}}class Mg{constructor(e,t,i,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),o=new Map;for(let h of function(n,e,t){let i=[[],[],[],[],[]],r=new Map;return function s(o,a){let l=r.get(o);if(null!=l){if(l<=a)return;let c=i[l].indexOf(o);c>-1&&i[l].splice(c,1),o instanceof _C&&t.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof _C){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof ZL)s(o.inner,o.prec);else if(o instanceof Rn)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Tg)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,a);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}(n,2),i.reduce((o,a)=>o.concat(a))}(e,t,o))h instanceof Rn?r.push(h):(s[h.facet.id]||(s[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],c=[];for(let h of r)a[h.id]=c.length<<1,c.push(f=>h.slot(f));let u=null==i?void 0:i.config.facets;for(let h in s){let f=s[h],p=f[0].facet,m=u&&u[h]||[];if(f.every(v=>0==v.type))if(a[p.id]=l.length<<1|1,mC(m,f))l.push(i.facet(p));else{let v=p.combine(f.map(O=>O.value));l.push(i&&p.compare(v,i.facet(p))?i.facet(p):v)}else{for(let v of f)0==v.type?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(O=>v.dynamicSlot(O)));a[p.id]=c.length<<1,c.push(v=>rce(v,p,f))}}let d=c.map(h=>h(a));return new Mg(e,o,d,a,l,s)}}function hh(n,e){if(1&e)return 2;let t=e>>1,i=n.status[t];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function kg(n,e){return 1&e?n.config.staticValues[e>>1]:n.values[e>>1]}const YL=Fe.define(),KL=Fe.define({combine:n=>n.some(e=>e),static:!0}),JL=Fe.define({combine:n=>n.length?n[0]:void 0,static:!0}),e2=Fe.define(),t2=Fe.define(),n2=Fe.define(),r2=Fe.define({combine:n=>!!n.length&&n[0]});class Xo{constructor(e,t){this.type=e,this.value=t}static define(){return new oce}}class oce{of(e){return new Xo(this,e)}}class ace{constructor(e){this.map=e}of(e){return new Ot(this,e)}}let Ot=(()=>{class n{constructor(t,i){this.type=t,this.value=i}map(t){let i=this.type.map(this.value,t);return void 0===i?void 0:i==this.value?this:new n(this.type,i)}is(t){return this.type==t}static define(t={}){return new ace(t.map||(i=>i))}static mapEffects(t,i){if(!t.length)return t;let r=[];for(let s of t){let o=s.map(i);o&&r.push(o)}return r}}return n.reconfigure=n.define(),n.appendConfig=n.define(),n})(),Es=(()=>{class n{constructor(t,i,r,s,o,a){this.startState=t,this.changes=i,this.selection=r,this.effects=s,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&qL(r,i.newLength),o.some(l=>l.type==n.time)||(this.annotations=o.concat(n.time.of(Date.now())))}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let i of this.annotations)if(i.type==t)return i.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let i=this.annotation(n.userEvent);return!(!i||!(i==t||i.length>t.length&&i.slice(0,t.length)==t&&"."==i[t.length]))}}return n.time=Xo.define(),n.userEvent=Xo.define(),n.addToHistory=Xo.define(),n.remote=Xo.define(),n})();function lce(n,e){let t=[];for(let i=0,r=0;;){let s,o;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],o=n[i++];else{if(!(r<e.length))return t;s=e[r++],o=e[r++]}!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function s2(n,e,t){var i;let r,s,o;return t?(r=e.changes,s=Gn.empty(e.changes.length),o=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):null===(i=n.selection)||void 0===i?void 0:i.map(r),effects:Ot.mapEffects(n.effects,r).concat(Ot.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function vC(n,e,t){let i=e.selection,r=Hc(e.annotations);return e.userEvent&&(r=r.concat(Es.userEvent.of(e.userEvent))),{changes:e.changes instanceof Gn?e.changes:Gn.of(e.changes||[],t,n.facet(JL)),selection:i&&(i instanceof le?i:le.single(i.anchor,i.head)),effects:Hc(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function o2(n,e,t){let i=vC(n,e.length?e[0]:{},n.doc.length);e.length&&!1===e[0].filter&&(t=!1);for(let s=1;s<e.length;s++){!1===e[s].filter&&(t=!1);let o=!!e[s].sequential;i=s2(i,vC(n,e[s],o?i.changes.newLength:n.doc.length),o)}let r=new Es(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(n){let e=n.startState,t=e.facet(n2),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=s2(n,vC(e,s,n.changes.newLength),!0))}return i==n?n:new Es(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}(t?function(n){let e=n.startState,t=!0;for(let r of e.facet(e2)){let s=r(n);if(!1===s){t=!1;break}Array.isArray(s)&&(t=!0===t?s:lce(t,s))}if(!0!==t){let r,s;if(!1===t)s=n.changes.invertedDesc,r=Gn.empty(e.doc.length);else{let o=n.changes.filter(t);r=o.changes,s=o.filtered.invertedDesc}n=new Es(e,r,n.selection&&n.selection.map(s),Ot.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(t2);for(let r=i.length-1;r>=0;r--){let s=i[r](n);n=s instanceof Es?s:Array.isArray(s)&&1==s.length&&s[0]instanceof Es?s[0]:o2(e,Hc(s),!1)}return n}(r):r)}const dce=[];function Hc(n){return null==n?dce:Array.isArray(n)?n:[n]}var Ei=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Ei||(Ei={}));const hce=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let yC;try{yC=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(n){}let Dr=(()=>{class n{constructor(t,i,r,s,o,a){this.config=t,this.doc=i,this.selection=r,this.values=s,this.status=t.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)hh(this,l<<1);this.computeSlot=null}field(t,i=!0){let r=this.config.address[t.id];if(null!=r)return hh(this,r),kg(this,r);if(i)throw new RangeError("Field is not present in this state")}update(...t){return o2(this,t,!0)}applyTransaction(t){let o,i=this.config,{base:r,compartments:s}=i;for(let a of t.effects)a.is(Eg.reconfigure)?(i&&(s=new Map,i.compartments.forEach((l,c)=>s.set(c,l)),i=null),s.set(a.value.compartment,a.value.extension)):a.is(Ot.reconfigure)?(i=null,r=a.value):a.is(Ot.appendConfig)&&(i=null,r=Hc(r).concat(a.value));i?o=t.startState.values.slice():(i=Mg.resolve(r,s,this),o=new n(i,this.doc,this.selection,i.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values),new n(i,t.newDoc,t.newSelection,o,(a,l)=>l.update(a,t),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:t},range:le.cursor(i.from+t.length)}))}changeByRange(t){let i=this.selection,r=t(i.ranges[0]),s=this.changes(r.changes),o=[r.range],a=Hc(r.effects);for(let l=1;l<i.ranges.length;l++){let c=t(i.ranges[l]),u=this.changes(c.changes),d=u.map(s);for(let f=0;f<l;f++)o[f]=o[f].map(d);let h=s.mapDesc(u,!0);o.push(c.range.map(h)),s=s.compose(d),a=Ot.mapEffects(a,d).concat(Ot.mapEffects(Hc(c.effects),h))}return{changes:s,selection:le.create(o,i.mainIndex),effects:a}}changes(t=[]){return t instanceof Gn?t:Gn.of(t,this.doc.length,this.facet(n.lineSeparator))}toText(t){return $t.of(t.split(this.facet(n.lineSeparator)||dC))}sliceDoc(t=0,i=this.doc.length){return this.doc.sliceString(t,i,this.lineBreak)}facet(t){let i=this.config.address[t.id];return null==i?t.default:(hh(this,i),kg(this,i))}toJSON(t){let i={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let r in t){let s=t[r];s instanceof Rn&&(i[r]=s.spec.toJSON(this.field(t[r]),this))}return i}static fromJSON(t,i={},r){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(r)for(let o in r){let a=r[o],l=t[o];s.push(a.init(c=>a.spec.fromJSON(l,c)))}return n.create({doc:t.doc,selection:le.fromJSON(t.selection),extensions:i.extensions?s.concat([i.extensions]):s})}static create(t={}){let i=Mg.resolve(t.extensions||[],new Map),r=t.doc instanceof $t?t.doc:$t.of((t.doc||"").split(i.staticFacet(n.lineSeparator)||dC)),s=t.selection?t.selection instanceof le?t.selection:le.single(t.selection.anchor,t.selection.head):le.single(0);return qL(s,r.length),i.staticFacet(KL)||(s=s.asSingle()),new n(i,r,s,i.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(n.tabSize)}get lineBreak(){return this.facet(n.lineSeparator)||"\n"}get readOnly(){return this.facet(r2)}phrase(t){for(let i of this.facet(n.phrases))if(Object.prototype.hasOwnProperty.call(i,t))return i[t];return t}languageDataAt(t,i,r=-1){let s=[];for(let o of this.facet(YL))for(let a of o(this,i,r))Object.prototype.hasOwnProperty.call(a,t)&&s.push(a[t]);return s}charCategorizer(t){return function(n){return e=>{if(!/\S/.test(e))return Ei.Space;if(function(n){if(yC)return yC.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||hce.test(t)))return!0}return!1}(e))return Ei.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Ei.Word;return Ei.Other}}(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:i,from:r,length:s}=this.doc.lineAt(t),o=this.charCategorizer(t),a=t-r,l=t-r;for(;a>0;){let c=rr(i,a,!1);if(o(i.slice(c,a))!=Ei.Word)break;a=c}for(;l<s;){let c=rr(i,l);if(o(i.slice(l,c))!=Ei.Word)break;l=c}return a==l?null:le.range(a+r,l+r)}}return n.allowMultipleSelections=KL,n.tabSize=Fe.define({combine:e=>e.length?e[0]:4}),n.lineSeparator=JL,n.readOnly=r2,n.phrases=Fe.define({compare(e,t){let i=Object.keys(e),r=Object.keys(t);return i.length==r.length&&i.every(s=>e[s]==t[s])}}),n.languageData=YL,n.changeFilter=e2,n.transactionFilter=t2,n.transactionExtender=n2,n})();function Ms(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let o=r[s],a=i[s];if(void 0===a)i[s]=o;else if(a!==o&&void 0!==o){if(!Object.hasOwnProperty.call(t,s))throw new Error("Config merge conflict for field "+s);i[s]=t[s](a,o)}}for(let r in e)void 0===i[r]&&(i[r]=e[r]);return i}Eg.reconfigure=Ot.define();class il{eq(e){return this==e}range(e,t=e){return new bC(e,t,this)}}il.prototype.startSide=il.prototype.endSide=0,il.prototype.point=!1,il.prototype.mapMode=si.TrackDel;class bC{constructor(e,t,i){this.from=e,this.to=t,this.value=i}}function OC(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class wC{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(!1===r(this.from[s]+e,this.to[s]+e,this.value[s]))return!1}map(e,t){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let h,f,c=this.value[l],u=this.from[l]+e,d=this.to[l]+e;if(u==d){let p=t.mapPos(u,c.startSide,c.mapMode);if(null==p||(h=f=p,c.startSide!=c.endSide&&(f=t.mapPos(u,c.endSide),f<h)))continue}else if(h=t.mapPos(u,c.startSide),f=t.mapPos(d,c.endSide),h>f||h==f&&c.startSide>0&&c.endSide<=0)continue;(f-h||c.endSide-c.startSide)<0||(o<0&&(o=h),c.point&&(a=Math.max(a,f-h)),i.push(c),r.push(h-o),s.push(f-o))}return{mapped:i.length?new wC(r,s,i,a):null,pos:o}}}let cn=(()=>{class n{constructor(t,i,r=n.empty,s){this.chunkPos=t,this.chunk=i,this.nextLayer=r,this.maxPoint=s}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let i of this.chunk)t+=i.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:i=[],sort:r=!1,filterFrom:s=0,filterTo:o=this.length}=t,a=t.filter;if(0==i.length&&!a)return this;if(r&&(i=i.slice().sort(OC)),this.isEmpty)return i.length?n.of(i):this;let l=new l2(this,null,-1).goto(0),c=0,u=[],d=new Zo;for(;l.value||c<i.length;)if(c<i.length&&(l.from-i[c].from||l.startSide-i[c].value.startSide)>=0){let h=i[c++];d.addInner(h.from,h.to,h.value)||u.push(h)}else 1==l.rangeIndex&&l.chunkIndex<this.chunk.length&&(c==i.length||this.chunkEnd(l.chunkIndex)<i[c].from)&&(!a||s>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&d.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!a||s>l.to||o<l.from||a(l.from,l.to,l.value))&&(d.addInner(l.from,l.to,l.value)||u.push(new bC(l.from,l.to,l.value))),l.next());return d.finishInner(this.nextLayer.isEmpty&&!u.length?n.empty:this.nextLayer.update({add:u,filter:a,filterFrom:s,filterTo:o}))}map(t){if(t.empty||this.isEmpty)return this;let i=[],r=[],s=-1;for(let a=0;a<this.chunk.length;a++){let l=this.chunkPos[a],c=this.chunk[a],u=t.touchesRange(l,l+c.length);if(!1===u)s=Math.max(s,c.maxPoint),i.push(c),r.push(t.mapPos(l));else if(!0===u){let{mapped:d,pos:h}=c.map(l,t);d&&(s=Math.max(s,d.maxPoint),i.push(d),r.push(h))}}let o=this.nextLayer.map(t);return 0==i.length?o:new n(r,i,o,s)}between(t,i,r){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let o=this.chunkPos[s],a=this.chunk[s];if(i>=o&&t<=o+a.length&&!1===a.between(o,t-o,i-o,r))return}this.nextLayer.between(t,i,r)}}iter(t=0){return fh.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,i=0){return fh.from(t).goto(i)}static compare(t,i,r,s,o=-1){let a=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),l=i.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),c=a2(a,l,r),u=new ph(a,c,o),d=new ph(l,c,o);r.iterGaps((h,f,p)=>c2(u,h,d,f,p,s)),r.empty&&0==r.length&&c2(u,0,d,0,0,s)}static eq(t,i,r=0,s){null==s&&(s=1e9);let o=t.filter(d=>!d.isEmpty&&i.indexOf(d)<0),a=i.filter(d=>!d.isEmpty&&t.indexOf(d)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let l=a2(o,a),c=new ph(o,l,0).goto(r),u=new ph(a,l,0).goto(r);for(;;){if(c.to!=u.to||!xC(c.active,u.active)||c.point&&(!u.point||!c.point.eq(u.point)))return!1;if(c.to>s)return!0;c.next(),u.next()}}static spans(t,i,r,s,o=-1){let a=new ph(t,null,o).goto(i),l=i,c=a.openStart;for(;;){let u=Math.min(a.to,r);if(a.point?(s.point(l,u,a.point,a.activeForPoint(a.to),c,a.pointRank),c=a.openEnd(u)+(a.to>u?1:0)):u>l&&(s.span(l,u,a.active,c),c=a.openEnd(u)),a.to>r)break;l=a.to,a.next()}return c}static of(t,i=!1){let r=new Zo;for(let s of t instanceof bC?[t]:i?function(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(OC(e,i)>0)return n.slice().sort(OC);e=i}return n}(t):t)r.add(s.from,s.to,s.value);return r.finish()}}return n.empty=new n([],[],null,-1),n})();cn.empty.nextLayer=cn.empty;class Zo{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new wC(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Zo)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(cn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=new cn(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function a2(n,e,t){let i=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);null!=a&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(null==t?void 0:t.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class l2{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex];if(this.from=e+t.from[this.rangeIndex],this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class fh{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new l2(o,t,i,s));return 1==r.length?r[0]:new fh(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)CC(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)CC(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),CC(this.heap,0)}}}function CC(n,e){for(let t=n[e];;){let i=1+(e<<1);if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class ph{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=fh.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ag(this.active,e),Ag(this.activeTo,e),Ag(this.activeRank,e),this.minActive=u2(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;Rg(this.active,t,i),Rg(this.activeTo,t,r),Rg(this.activeRank,t,s),e&&Rg(e,t,this.cursor.from),this.minActive=u2(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null,r=0;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&Ag(i,s)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let o=this.cursor.value;if(o.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.from<e&&(r=1),this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(i),this.cursor.next()}}}if(i){let s=0;for(;s<i.length&&i[s]<e;)s++;this.openStart=s+r}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function c2(n,e,t,i,r,s){n.goto(e),t.goto(i);let o=i+r,a=i,l=i-e;for(;;){let c=n.to+l-t.to||n.endSide-t.endSide,u=c<0?n.to+l:t.to,d=Math.min(u,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&xC(n.activeForPoint(n.to+l),t.activeForPoint(t.to))||s.comparePoint(a,d,n.point,t.point):d>a&&!xC(n.active,t.active)&&s.compareRange(a,d,n.active,t.active),u>o)break;a=u,c<=0&&n.next(),c>=0&&t.next()}}function xC(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Ag(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Rg(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function u2(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function mh(n,e,t=n.length){let i=0;for(let r=0;r<t;)9==n.charCodeAt(r)?(i+=e-i%e,r++):(i++,r=rr(n,r));return i}function SC(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=9==n.charCodeAt(r)?t-s%t:1,r=rr(n,r)}return!0===i?-1:n.length}const d2="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),TC="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),h2="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class Yo{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],d=/^@(\w+)\b/.exec(o[0]),h=d&&"keyframes"==d[1];if(d&&null==a)return l.push(o[0]+";");for(let f in a){let p=a[f];if(/&/.test(f))s(f.split(/,\s*/).map(m=>o.map(v=>m.replace(/&/,v))).reduce((m,v)=>m.concat(v)),p,l);else if(p&&"object"==typeof p){if(!d)throw new RangeError("The value of a property ("+f+") should be a primitive value.");s(r(f),p,u,h)}else null!=p&&u.push(f.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(u.length||h)&&l.push((!i||d||c?o:o.map(i)).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=h2[d2]||1;return h2[d2]=e+1,"\u037c"+e.toString(36)}static mount(e,t){(e[TC]||new gce(e)).mount(Array.isArray(t)?t:[t])}}let Ig=null;class gce{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(Ig)return e.adoptedStyleSheets=[Ig.sheet].concat(e.adoptedStyleSheets),e[TC]=Ig;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),Ig=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[TC]=this}mount(e){let t=this.sheet,i=0,r=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),-1==a){if(this.modules.splice(r++,0,o),t)for(let l=0;l<o.rules.length;l++)t.insertRule(o.rules[l],i++)}else{for(;r<a;)i+=this.modules[r++].rules.length;i+=o.rules.length,r++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+"\n";this.styleTag.textContent=s}}}for(var Ko={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Pg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},f2="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),_ce="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),vce="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),p2="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),yce="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),bce=f2&&(p2||+f2[1]<57)||vce&&p2,oi=0;oi<10;oi++)Ko[48+oi]=Ko[96+oi]=String(oi);for(oi=1;oi<=24;oi++)Ko[oi+111]="F"+oi;for(oi=65;oi<=90;oi++)Ko[oi]=String.fromCharCode(oi+32),Pg[oi]=String.fromCharCode(oi);for(var EC in Ko)Pg.hasOwnProperty(EC)||(Pg[EC]=Ko[EC]);function Fg(n){let e;return e=11==n.nodeType?n.getSelection?n:n.ownerDocument:n,e.getSelection()}function Wc(n,e){return!!e&&(n==e||n.contains(1!=e.nodeType?e.parentNode:e))}function MC(n,e){if(!e.anchorNode)return!1;try{return Wc(n,e.anchorNode)}catch(t){return!1}}function gh(n){return 3==n.nodeType?_h(n,0,n.nodeValue.length).getClientRects():1==n.nodeType?n.getClientRects():[]}function Ng(n,e,t,i){return!!t&&(m2(n,e,t,i,-1)||m2(n,e,t,i,1))}function kC(n){for(var e=0;;e++)if(!(n=n.previousSibling))return e}function m2(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:Lg(n))){if("DIV"==n.nodeName)return!1;let s=n.parentNode;if(!s||1!=s.nodeType)return!1;e=kC(n)+(r<0?0:1),n=s}else{if(1!=n.nodeType)return!1;if(1==(n=n.childNodes[e+(r<0?-1:0)]).nodeType&&"false"==n.contentEditable)return!1;e=r<0?Lg(n):0}}}function Lg(n){return 3==n.nodeType?n.nodeValue.length:n.childNodes.length}const g2={left:0,right:0,top:0,bottom:0};function $g(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Cce(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}class Sce{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let v2,zc=null;function _2(n){if(n.setActive)return n.setActive();if(zc)return n.focus(zc);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(null==zc?{get preventScroll(){return zc={preventScroll:!0},!0}}:void 0),!zc){zc=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}function _h(n,e,t=e){let i=v2||(v2=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function vh(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function y2(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}class ai{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new ai(e.parentNode,kC(e),t)}static after(e,t){return new ai(e.parentNode,kC(e)+1,t)}}const AC=[];class gn{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(2&this.dirty){let r,t=this.dom,i=null;for(let s of this.children){if(s.dirty){if(!s.dom&&(r=i?i.nextSibling:t.firstChild)){let o=gn.get(r);(!o||!o.parent&&o.constructor==s.constructor)&&s.reuseDOM(r)}s.sync(e),s.dirty=0}if(r=i?i.nextSibling:t.firstChild,e&&!e.written&&e.node==t&&r!=s.dom&&(e.written=!0),s.dom.parentNode==t)for(;r&&r!=s.dom;)r=b2(r);else t.insertBefore(s.dom,r);i=s.dom}for(r=i?i.nextSibling:t.firstChild,r&&e&&e.node==t&&(e.written=!0);r;)r=b2(r)}else if(1&this.dirty)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=0==Lg(e)?0:0==t?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;0==r&&s.firstChild!=s.lastChild&&(r=e==s.firstChild?-1:1),e=s}i=r<0?e:e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!gn.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,c=i,u=i;l<this.children.length;l++){let d=this.children[l],h=c+d.length;if(c<e&&h>t)return d.domBoundsAround(e,t,c);if(h>=e&&-1==r&&(r=l,s=c),c>t&&d.dom.parentNode==this.dom){o=l,a=u;break}u=h,c=h+d.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=AC){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new O2(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,s,o){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}function b2(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}gn.prototype.breakAfter=0;class O2{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function w2(n,e,t,i,r,s,o,a,l){let{children:c}=n,u=c.length?c[e]:null,d=s.length?s[s.length-1]:null,h=d?d.breakAfter:o;if(!(e==i&&u&&!o&&!h&&s.length<2&&u.merge(t,r,s.length?d:null,0==t,a,l))){if(i<c.length){let f=c[i];f&&r<f.length?(e==i&&(f=f.split(r),r=0),!h&&d&&f.merge(0,r,d,!0,0,l)?s[s.length-1]=f:(r&&f.merge(0,r,null,!1,0,l),s.push(f))):(null==f?void 0:f.breakAfter)&&(d?d.breakAfter=1:o=1),i++}for(u&&(u.breakAfter=o,t>0&&(!o&&s.length&&u.merge(t,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(t<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(t,u.length,null,!1,a,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else{if(!c[e].become(s[0]))break;e++,s.shift(),a=s.length?0:l}!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||s.length)&&n.replaceChildren(e,i,s)}}function C2(n,e,t,i,r,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:u}=o.findPos(e,-1),d=e-t;for(let h of i)d+=h.length;n.length+=d,w2(n,c,u,a,l,i,0,r,s)}let sr="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},RC="undefined"!=typeof document?document:{documentElement:{style:{}}};const IC=/Edge\/(\d+)/.exec(sr.userAgent),x2=/MSIE \d/.test(sr.userAgent),PC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(sr.userAgent),Bg=!!(x2||PC||IC),S2=!Bg&&/gecko\/(\d+)/i.test(sr.userAgent),FC=!Bg&&/Chrome\/(\d+)/.exec(sr.userAgent),D2="webkitFontSmoothing"in RC.documentElement.style,T2=!Bg&&/Apple Computer/.test(sr.vendor),E2=T2&&(/Mobile\/\w+/.test(sr.userAgent)||sr.maxTouchPoints>2);var Be={mac:E2||/Mac/.test(sr.platform),windows:/Win/.test(sr.platform),linux:/Linux|X11/.test(sr.platform),ie:Bg,ie_version:x2?RC.documentMode||6:PC?+PC[1]:IC?+IC[1]:0,gecko:S2,gecko_version:S2?+(/Firefox\/(\d+)/.exec(sr.userAgent)||[0,0])[1]:0,chrome:!!FC,chrome_version:FC?+FC[1]:0,ios:E2,android:/Android\b/.test(sr.userAgent),webkit:D2,safari:T2,webkit_version:D2?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=RC.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class Jo extends gn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,i){return(!i||i instanceof Jo&&!(this.length-(t-e)+i.length>256))&&(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Jo(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new ai(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return NC(this.dom,e,t)}}class ks extends gn{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(y2(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,s,o){return!(i&&(!(i instanceof ks&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)||(C2(this,e,t,i?i.children:[],s-1,o-1),this.markDirty(),0))}split(e){let t=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new ks(this.mark,t,o)}domAtPos(e){return A2(this.dom,this.children,e)}coordsAt(e,t){return I2(this,e,t)}}function NC(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;0==e&&t<0||e==i&&t>=0?Be.chrome||Be.gecko||(e?(r--,o=1):(s++,o=-1)):t<0?r--:s++;let a=_h(n,r,s).getClientRects();if(!a.length)return g2;let l=a[(o?o<0:t>=0)?0:a.length-1];return Be.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?$g(l,o<0):l||null}class ea extends gn{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||ea)(e,t,i)}split(e){let t=ea.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,s,o){return!(i&&(!(i instanceof ea&&this.widget.compare(i.widget))||e>0&&s<=0||t<this.length&&o<=0)||(this.length=e+(i?i.length:0)+(this.length-t),0))}become(e){return e.length==this.length&&e instanceof ea&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return $t.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):$t.empty}domAtPos(e){return 0==e?ai.before(this.dom):ai.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return g2;for(let s=e>0?i.length-1:0;r=i[s],!(e>0?0==s:s==i.length-1||r.top<r.bottom);s+=e>0?-1:1);return 0==e&&t>0||e==this.length&&t<=0?r:$g(r,0==e)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class M2 extends ea{domAtPos(e){let{topView:t,text:i}=this.widget;return t?LC(e,0,t,i,(r,s)=>r.domAtPos(s),r=>new ai(i,Math.min(r,i.nodeValue.length))):new ai(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?k2(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?LC(e,t,i,r,(s,o,a)=>s.coordsAt(o,a),(s,o)=>NC(r,s,o)):NC(r,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}}function LC(n,e,t,i,r,s){if(t instanceof ks){for(let o of t.children){let a=Wc(o.dom,i),l=a?i.nodeValue.length:o.length;if(n<l||n==l&&o.getSide()<=0)return a?LC(n,e,o,i,r,s):r(o,n,e);n-=l}return r(t,t.length,-1)}return t.dom==i?s(n,e):r(t,n,e)}function k2(n,e,t,i){if(t instanceof ks)for(let r of t.children){let s=0,o=Wc(r.dom,i);if(Wc(r.dom,n))return s+(o?k2(n,e,r,i):r.localPosFromDOM(n,e));s+=o?i.nodeValue.length:r.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}class qc extends gn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof qc&&e.side==this.side}split(){return new qc(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return ai.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=function(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof Jo){let s=r.coordsAt(e<0?r.length:0,e);if(s)return s}i+=e}else{if(!(t instanceof ks&&t.parent)){let r=t.dom.lastChild;if(r&&"BR"==r.nodeName)return r.getClientRects()[0];break}i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent}}(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return $t.empty}}function A2(n,e,t){let i=0;for(let r=0;i<e.length;i++){let s=e[i],o=r+s.length;if(!(o==r&&s.getSide()<=0)){if(t>r&&t<o&&s.dom.parentNode==n)return s.domAtPos(t-r);if(t<=r)break;r=o}}for(;i>0;i--){let r=e[i-1].dom;if(r.parentNode==n)return ai.after(r)}return new ai(n,0)}function R2(n,e,t){let i,{children:r}=n;t>0&&e instanceof ks&&r.length&&(i=r[r.length-1])instanceof ks&&i.mark.eq(e.mark)?R2(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function I2(n,e,t){for(let s=0,o=0;o<n.children.length;o++){let c,a=n.children[o],l=s+a.length;if((t<=0||l==n.length||a.getSide()>0?l>=e:l>e)&&(e<l||o+1==n.children.length||(c=n.children[o+1]).length||c.getSide()>0)){let u=0;if(l==s){if(a.getSide()<=0)continue;u=t=-a.getSide()}let d=a.coordsAt(Math.max(0,e-s),t);return u&&d?$g(d,t<0):d}s=l}let i=n.dom.lastChild;if(!i)return n.dom.getBoundingClientRect();let r=gh(i);return r[r.length-1]||null}function $C(n,e){for(let t in n)"class"==t&&e.class?e.class+=" "+n.class:"style"==t&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function BC(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(-1==i.indexOf(r)||n[r]!==e[r])return!1;return!0}function QC(n,e,t){if(e)for(let i in e)t&&i in t||n.removeAttribute(i);if(t)for(let i in t)e&&e[i]==t[i]||n.setAttribute(i,t[i])}Jo.prototype.children=ea.prototype.children=qc.prototype.children=AC;class yo{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Yt=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Yt||(Yt={}));class Le extends il{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Qg(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new rl(e,t,t,i,e.widget||null,!1)}static replace(e){let i,r,t=!!e.block;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=P2(e,t);i=(s?t?-3e8:-1:5e8)-1,r=1+(o?t?2e8:1:-6e8)}return new rl(e,i,r,t,e.widget||null,!0)}static line(e){return new yh(e)}static set(e,t=!1){return cn.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Le.none=cn.empty;class Qg extends Le{constructor(e){let{start:t,end:i}=P2(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Qg&&this.tagName==e.tagName&&this.class==e.class&&BC(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Qg.prototype.point=!1;class yh extends Le{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof yh&&BC(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}yh.prototype.mapMode=si.TrackBefore,yh.prototype.point=!0;class rl extends Le{constructor(e,t,i,r,s,o){super(t,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?si.TrackBefore:si.TrackAfter:si.TrackDel}get type(){return this.startSide<this.endSide?Yt.WidgetRange:this.startSide<=0?Yt.WidgetBefore:Yt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof rl&&function(n,e){return n==e||!!(n&&e&&n.compare(e))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function P2(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return null==t&&(t=n.inclusive),null==i&&(i=n.inclusive),{start:null!=t?t:e,end:null!=i?i:e}}function VC(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}rl.prototype.point=!0;class Mi extends gn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,s,o){if(i){if(!(i instanceof Mi))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),C2(this,e,t,i?i.children:[],s,o),!0}split(e){let t=new Mi;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){!this.dom||(e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){BC(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){R2(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=$C(t,this.attrs||{})),i&&(this.attrs=$C({class:i},this.attrs||{}))}domAtPos(e){return A2(this.dom,this.children,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?4&this.dirty&&(y2(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(QC(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&gn.get(i)instanceof ks;)i=i.lastChild;if(!(i&&this.length&&("BR"==i.nodeName||0!=(null===(t=gn.get(i))||void 0===t?void 0:t.isEditable)||Be.ios&&this.children.some(r=>r instanceof Jo)))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Jo))return null;let i=gh(t.dom);if(1!=i.length)return null;e+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return I2(this,e,t)}become(e){return!1}get type(){return Yt.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=t){if(s instanceof Mi)return s;if(o>t)break}r=o+s.breakAfter}return null}}class sl extends gn{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,s,o){return!(i&&(!(i instanceof sl&&this.widget.compare(i.widget))||e>0&&s<=0||t<this.length&&o<=0)||(this.length=e+(i?i.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?ai.before(this.dom):ai.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new sl(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return AC}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):$t.empty}domBoundsAround(){return null}become(e){return e instanceof sl&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class jC{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof sl&&e.type==Yt.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Mi),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(Vg(new qc(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,i)),this.getLine().append(Vg(new Jo(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof rl){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof rl)if(i.block){let{type:l}=i;l==Yt.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new sl(i.widget||new F2("div"),a,l))}else{let l=ea.create(i.widget||new F2("span"),a,i.startSide),c=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<t||i.startSide>0),u=!l.isEditable&&(e<t||i.startSide<=0),d=this.getLine();2==this.pendingBuffer&&!c&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(d.append(Vg(new qc(1),r),s),s=r.length+Math.max(0,s-r.length)),d.append(Vg(l,r),s),this.atCursorPos=u,this.pendingBuffer=u?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,r,s){let o=new jC(e,t,i,s);return o.openEnd=cn.spans(r,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Vg(n,e){for(let t of e)n=new ks(t,[n],n.length);return n}class F2 extends yo{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const N2=Fe.define(),L2=Fe.define(),$2=Fe.define(),B2=Fe.define(),UC=Fe.define(),Q2=Fe.define(),V2=Fe.define({combine:n=>n.some(e=>e)});class jg{constructor(e,t="nearest",i="nearest",r=5,s=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s}map(e){return e.empty?this:new jg(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const j2=Ot.define({map:(n,e)=>n.map(e)});function or(n,e,t){let i=n.facet(B2);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const bh=Fe.define({combine:n=>!n.length||n[0]});let kce=0;const Oh=Fe.define();class bn{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:s}=t||{};return new bn(kce++,e,i,o=>{let a=[Oh.of(o)];return s&&a.push(wh.of(l=>{let c=l.plugin(o);return c?s(c):Le.none})),r&&a.push(r(o)),a})}static fromClass(e,t){return bn.define(i=>new e(i),t)}}class HC{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(or(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(r){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){or(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(i){or(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const U2=Fe.define(),WC=Fe.define(),wh=Fe.define(),H2=Fe.define(),W2=Fe.define(),Ch=Fe.define();class As{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new As(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(0==t.length)return e;let i=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],c=o-a,u=l?l.fromB:1e9;for(;s<t.length&&t[s]<u;){let h=t[s+1],f=Math.max(a,t[s]),p=Math.min(u,h);if(f<=p&&new As(f+c,p+c,f,p).addToSet(i),h>u)break;s+=2}if(!l)return i;new As(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class Ug{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Gn.empty(this.startState.doc.length);for(let o of i)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,a,l,c)=>r.push(new As(o,a,l,c))),this.changedRanges=r;let s=e.hasFocus;s!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=s,this.flags|=1)}static create(e,t,i){return new Ug(e,t,i)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}var un=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(un||(un={}));const zC=un.LTR,Ace=un.RTL;function z2(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const Rce=z2("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ice=z2("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),qC=Object.create(null),Rs=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);qC[e]=t,qC[t]=-e}function Pce(n){return n<=247?Rce[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Ice[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||8204==n?256:1}const Fce=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class Gc{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?Ace:zC}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(s<0||(0!=r?r<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}const dn=[];function G2(n){return[new Gc(0,n,0)]}let X2="";function Z2(n,e,t,i,r){var s;let o=i.head-n.from,a=-1;if(0==o){if(!r||!n.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),a=0)}else if(o==n.length){if(r)return null;let h=e[e.length-1];h.level!=t&&(o=h.side(!0,t),a=e.length-1)}a<0&&(a=Gc.find(e,o,null!==(s=i.bidiLevel)&&void 0!==s?s:-1,i.assoc));let l=e[a];o==l.side(r,t)&&(l=e[a+=r?1:-1],o=l.side(!r,t));let c=r==(l.dir==t),u=rr(n.text,o,c);if(X2=n.text.slice(Math.min(o,u),Math.max(o,u)),u!=l.side(r,t))return le.cursor(u+n.from,c?-1:1,l.level);let d=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return d||l.level==t?d&&d.level<l.level?le.cursor(d.side(!r,t)+n.from,r?1:-1,d.level):le.cursor(u+n.from,r?-1:1,l.level):le.cursor(r?n.to:n.from,r?-1:1,t)}class Y2{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Dr.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+="\uffff"}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let s=r.nextSibling;if(s==t)break;let o=gn.get(r),a=gn.get(s);(o&&a?o.breakAfter:(o?o.breakAfter:K2(r))||K2(s)&&("BR"!=r.nodeName||r.cmIgnore))&&this.lineBreak(),r=s}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let a,s=-1,o=1;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=r.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=gn.get(e),i=t&&t.overrideDOMText;if(null!=i){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(3==e.nodeType?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function K2(n){return 1==n.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class J2{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class e$ extends gn{constructor(e){super(),this.view=e,this.compositionDeco=Le.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Mi],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new As(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:o,toA:a})=>a<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Le.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(n,e){let t=n$(n);if(!t)return Le.none;let{from:i,to:r,node:s,text:o}=t,a=e.mapPos(i,1),l=Math.max(a,e.mapPos(r,-1)),{state:c}=n,u=3==s.nodeType?s.nodeValue:new Y2([],c).readRange(s.firstChild,null).text;if(l-a<u.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+u.length),"\uffff")==u)l=a+u.length;else{if(c.doc.sliceString(Math.max(0,l-u.length),l,"\uffff")!=u)return Le.none;a=l-u.length}else if(c.doc.sliceString(a,l,"\uffff")!=u)return Le.none;let d=gn.get(s);return d instanceof M2?d=d.widget.topView:d&&(d.parent=null),Le.set(Le.replace({widget:new $ce(s,o,d),inclusive:!0}).range(a,l))}(this.view,e.changes)),(Be.ie||Be.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=function(n,e,t){let i=new Qce;return cn.compare(n,e,t,i),i.changes}(this.decorations,this.updateDeco(),e.changes);return t=As.extendWithRanges(t,s),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.minWidth=this.minWidth?this.minWidth+"px":"";let s=Be.chrome||Be.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(s),this.dirty=0,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof sl&&s.widget instanceof t$&&r.push(s.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let r=e.length-1;;r--){let s=r>=0?e[r]:null;if(!s)break;let{fromA:o,toA:a,fromB:l,toB:c}=s,{content:u,breakAtStart:d,openStart:h,openEnd:f}=jC.build(this.view.state.doc,l,c,this.decorations,this.dynamicDecorationMap),{i:p,off:m}=i.findPos(a,1),{i:v,off:O}=i.findPos(o,-1);w2(this,v,O,p,m,u,d,h,f)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection()||Be.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,s=this.domAtPos(r.anchor),o=r.empty?s:this.domAtPos(r.head);if(Be.gecko&&r.empty&&function(n){return 1==n.node.nodeType&&n.node.firstChild&&(0==n.offset||"false"==n.node.childNodes[n.offset-1].contentEditable)&&(n.offset==n.node.childNodes.length||"false"==n.node.childNodes[n.offset].contentEditable)}(s)){let l=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(l,s.node.childNodes[s.offset]||null)),s=o=new ai(l,0),i=!0}let a=this.view.observer.selectionRange;(i||!a.focusNode||!Ng(s.node,s.offset,a.anchorNode,a.anchorOffset)||!Ng(o.node,o.offset,a.focusNode,a.focusOffset))&&(this.view.observer.ignore(()=>{Be.android&&Be.chrome&&this.dom.contains(a.focusNode)&&function(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(1==t.nodeType&&"false"==t.contentEditable)return!0;return!1}(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let l=Fg(this.root);if(r.empty){if(Be.gecko){let c=function(n,e){return 1!=n.nodeType?0:(e&&"false"==n.childNodes[e-1].contentEditable?1:0)|(e<n.childNodes.length&&"false"==n.childNodes[e].contentEditable?2:0)}(s.node,s.offset);if(c&&3!=c){let u=i$(s.node,s.offset,1==c?1:-1);u&&(s=new ai(u,1==c?0:u.nodeValue.length))}}l.collapse(s.node,s.offset),null!=r.bidiLevel&&null!=a.cursorBidiLevel&&(a.cursorBidiLevel=r.bidiLevel)}else if(l.extend)l.collapse(s.node,s.offset),l.extend(o.node,o.offset);else{let c=document.createRange();r.anchor>r.head&&([s,o]=[o,s]),c.setEnd(o.node,o.offset),c.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(c)}}),this.view.observer.setSelectionRange(s,o)),this.impreciseAnchor=s.precise?null:new ai(a.anchorNode,a.anchorOffset),this.impreciseHead=o.precise?null:new ai(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=Fg(this.root);if(!e.empty||!e.assoc||!t.modify)return;let i=Mi.find(this,e.head);if(!i)return;let r=i.posAtStart;if(e.head==r||e.head==r+i.length)return;let s=this.coordsAt(e.head,-1),o=this.coordsAt(e.head,1);if(!s||!o||s.bottom>o.top)return;let a=this.domAtPos(e.head+e.assoc);t.collapse(a.node,a.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(bh)?this.root.activeElement==this.dom:MC(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let i=gn.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Mi)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let s=this.children[r],o=i-s.breakAfter-s.length;if(e>o||e==o&&s.type!=Yt.WidgetBefore&&s.type!=Yt.WidgetAfter&&(!r||2==t||this.children[r-1].breakAfter||this.children[r-1].type==Yt.WidgetBefore&&t>-2))return s.coordsAt(e-o,t);i=o}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==un.LTR;for(let c=0,u=0;u<this.children.length;u++){let d=this.children[u],h=c+d.length;if(h>r)break;if(c>=i){let f=d.dom.getBoundingClientRect();if(t.push(f.height),o){let p=d.dom.lastChild,m=p?gh(p):[];if(m.length){let v=m[m.length-1],O=l?v.right-f.left:f.right-v.left;O>a&&(a=O,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=h)}}}c=h+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?un.RTL:un.LTR}measureTextSize(){for(let r of this.children)if(r instanceof Mi){let s=r.measureTextSize();if(s)return s}let t,i,e=document.createElement("div");return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=gh(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new O2(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],o=s?s.from-1:this.length;if(o>i){let a=t.lineBlockAt(o).bottom-t.lineBlockAt(i).top;e.push(Le.replace({widget:new t$(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return Le.set(e)}updateDeco(){let e=this.view.state.facet(wh).map((t,i)=>(this.dynamicDecorationMap[i]="function"==typeof t)?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let r,{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1);if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=0,o=0,a=0,l=0;for(let u of this.view.state.facet(W2).map(d=>d(this.view)))if(u){let{left:d,right:h,top:f,bottom:p}=u;null!=d&&(s=Math.max(s,d)),null!=h&&(o=Math.max(o,h)),null!=f&&(a=Math.max(a,f)),null!=p&&(l=Math.max(l,p))}!function(n,e,t,i,r,s,o,a){let l=n.ownerDocument,c=l.defaultView;for(let u=n;u;)if(1==u.nodeType){let d,h=u==l.body;if(h)d=Cce(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.parentNode;continue}let m=u.getBoundingClientRect();d={left:m.left,right:m.left+u.clientWidth,top:m.top,bottom:m.top+u.clientHeight}}let f=0,p=0;if("nearest"==r)e.top<d.top?(p=-(d.top-e.top+o),t>0&&e.bottom>d.bottom+p&&(p=e.bottom-d.bottom+p+o)):e.bottom>d.bottom&&(p=e.bottom-d.bottom+o,t<0&&e.top-p<d.top&&(p=-(d.top+p-e.top+o)));else{let m=e.bottom-e.top,v=d.bottom-d.top;p=("center"==r&&m<=v?e.top+m/2-v/2:"start"==r||"center"==r&&t<0?e.top-o:e.bottom-v+o)-d.top}if("nearest"==i?e.left<d.left?(f=-(d.left-e.left+s),t>0&&e.right>d.right+f&&(f=e.right-d.right+f+s)):e.right>d.right&&(f=e.right-d.right+s,t<0&&e.left<d.left+f&&(f=-(d.left+f-e.left+s))):f=("center"==i?e.left+(e.right-e.left)/2-(d.right-d.left)/2:"start"==i==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,f||p)if(h)c.scrollBy(f,p);else{if(p){let m=u.scrollTop;u.scrollTop+=p,p=u.scrollTop-m}if(f){let m=u.scrollLeft;u.scrollLeft+=f,f=u.scrollLeft-m}e={left:e.left-f,top:e.top-p,right:e.right-f,bottom:e.bottom-p}}if(h)break;u=u.assignedSlot||u.parentNode,i=r="nearest"}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,{left:i.left-s,top:i.top-a,right:i.right+o,bottom:i.bottom+l},t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==un.LTR)}}class t$ extends yo{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function n$(n){let e=n.observer.selectionRange,t=e.focusNode&&i$(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof Mi){let r=t;for(;r.parentNode!=i.dom;)r=r.parentNode;let s=r.previousSibling;for(;s&&!gn.get(s);)s=s.previousSibling;let o=s?gn.get(s).posAtEnd:i.posAtStart;return{from:o,to:o,node:r,text:t}}{for(;;){let{parent:s}=i;if(!s)return null;if(s instanceof Mi)break;i=s}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:t}}}class $ce extends yo{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return M2}}function i$(n,e,t){for(;;){if(3==n.nodeType)return n;if(1==n.nodeType&&e>0&&t<=0)e=Lg(n=n.childNodes[e-1]);else{if(!(1==n.nodeType&&e<n.childNodes.length&&t>=0))return null;n=n.childNodes[e],e=0}}}class Qce{constructor(){this.changes=[]}compareRange(e,t){VC(e,t,this.changes)}comparePoint(e,t){VC(e,t,this.changes)}}function Hce(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Wce(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function GC(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function r$(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function s$(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function XC(n,e,t){let i,r,s,o,a,l,c,u;for(let f=n.firstChild;f;f=f.nextSibling){let p=gh(f);for(let m=0;m<p.length;m++){let v=p[m];r&&GC(r,v)&&(v=r$(s$(v,r.bottom),r.top));let O=Hce(e,v),b=Wce(t,v);if(0==O&&0==b)return 3==f.nodeType?o$(f,e,t):XC(f,e,t);(!i||o>b||o==b&&s>O)&&(i=f,r=v,s=O,o=b),0==O?t>v.bottom&&(!c||c.bottom<v.bottom)?(a=f,c=v):t<v.top&&(!u||u.top>v.top)&&(l=f,u=v):c&&GC(c,v)?c=s$(c,v.bottom):u&&GC(u,v)&&(u=r$(u,v.top))}}if(c&&c.bottom>=t?(i=a,r=c):u&&u.top<=t&&(i=l,r=u),!i)return{node:n,offset:0};let d=Math.max(r.left,Math.min(r.right,e));return 3==i.nodeType?o$(i,d,t):s||"true"!=i.contentEditable?{node:n,offset:Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0)}:XC(i,d,t)}function o$(n,e,t){let i=n.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=_h(n,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let d=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<s){let h=e>=(u.left+u.right)/2,f=h;if((Be.chrome||Be.gecko)&&_h(n,a).getBoundingClientRect().left==u.right&&(f=!h),d<=0)return{node:n,offset:a+(f?1:0)};r=a+(f?1:0),s=d}}}return{node:n,offset:r>-1?r:o>0?n.nodeValue.length:0}}function a$(n,{x:e,y:t},i,r=-1){var s;let l,o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,{docHeight:c}=n.viewState,u=t-a;if(u<0)return 0;if(u>c)return n.state.doc.length;for(let O=n.defaultLineHeight/2,b=!1;l=n.elementAtHeight(u),l.type!=Yt.Text;)for(;u=r>0?l.bottom+O:l.top-O,!(u>=0&&u<=c);){if(b)return i?null:0;b=!0,r=-r}t=a+u;let d=l.from;if(d<n.viewport.from)return 0==n.viewport.from?0:i?null:l$(n,o,l,e,t);if(d>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:l$(n,o,l,e,t);let h=n.dom.ownerDocument,f=n.root.elementFromPoint?n.root:h,p=f.elementFromPoint(e,t);p&&!n.contentDOM.contains(p)&&(p=null),p||(e=Math.max(o.left+1,Math.min(o.right-1,e)),p=f.elementFromPoint(e,t),p&&!n.contentDOM.contains(p)&&(p=null));let m,v=-1;if(p&&0!=(null===(s=n.docView.nearest(p))||void 0===s?void 0:s.isEditable))if(h.caretPositionFromPoint){let O=h.caretPositionFromPoint(e,t);O&&({offsetNode:m,offset:v}=O)}else if(h.caretRangeFromPoint){let O=h.caretRangeFromPoint(e,t);O&&(({startContainer:m,startOffset:v}=O),Be.safari&&function(n,e,t){let i;if(3!=n.nodeType||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(1!=r.nodeType||"BR"!=r.nodeName)return!1;return _h(n,i-1,i).getBoundingClientRect().left>t}(m,v,e)&&(m=void 0))}if(!m||!n.docView.dom.contains(m)){let O=Mi.find(n.docView,d);if(!O)return u>l.top+l.height/2?l.to:l.from;({node:m,offset:v}=XC(O.dom,e,t))}return n.docView.posFromDOM(m,v)}function l$(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);n.lineWrapping&&t.height>1.5*n.defaultLineHeight&&(s+=Math.floor((r-t.top)/n.defaultLineHeight)*n.viewState.heightOracle.lineLength);let o=n.state.sliceDoc(t.from,t.to);return t.from+SC(o,s,n.state.tabSize)}function c$(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),o=n.textDirectionAt(r.from);for(let a=e,l=null;;){let c=Z2(r,s,o,a,t),u=X2;if(!c){if(r.number==(t?n.state.doc.lines:1))return a;u="\n",r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),c=le.cursor(t?r.from:r.to)}if(l){if(!l(u))return a}else{if(!i)return c;l=i(u)}a=c}}function ZC(n,e,t){let i=n.state.facet(H2).map(r=>r(n));for(;;){let r=!1;for(let s of i)s.between(t.from-1,t.from+1,(o,a,l)=>{t.from>o&&t.from<a&&(t=e.from>t.from?le.cursor(o,1):le.cursor(a,-1),r=!0)});if(!r)return t}}class Zce{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Xn){let i=Xn[t];e.contentDOM.addEventListener(t,r=>{!h$(e,r)||this.ignoreDuringComposition(r)||"keydown"==t&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():i(e,r))}),this.registeredEvents.push(t)}this.notifiedFocused=e.hasFocus,Be.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;for(let s of t)if(r=null===(i=s.update(e).spec)||void 0===i?void 0:i.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:r});for(let o in r)this.registeredEvents.indexOf(o)<0&&"scroll"!=o&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{!h$(e,a)||this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let s=r.handlers[e];if(s)try{if(s.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(o){or(t.state,o)}}return!1}runScrollHandlers(e,t){for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(s){or(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(Be.android&&Be.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return!(!Be.ios||!(i=u$.find(r=>r.keyCode==t.keyCode))||t.ctrlKey||t.altKey||t.metaKey||t.synthetic||(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(e),250),0))}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,vh(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Be.safari&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode||"compositionend"==e.type&&!Be.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const u$=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],d$=[16,17,18,20,91,92,224,225];class Yce{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Dr.allowMultipleSelections)&&function(n,e){let t=n.state.facet(N2);return t.length?t[0](e):Be.mac?e.metaKey:e.ctrlKey}(e,t),this.dragMove=function(n,e){let t=n.state.facet(L2);return t.length?t[0](e):Be.mac?!e.altKey:!e.ctrlKey}(e,t),this.dragging=!(!function(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Fg(n.root);if(0==i.rangeCount)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}(e,t)||1!=YC(t))&&null,!1===this.dragging&&(t.preventDefault(),this.select(t))}move(e){if(0==e.buttons)return this.destroy();!1===this.dragging&&this.select(this.lastEvent=e)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function h$(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let i,t=e.target;t!=n.contentDOM;t=t.parentNode)if(!t||11==t.nodeType||(i=gn.get(t))&&i.ignoreEvent(e))return!1;return!0}const Xn=Object.create(null),f$=Be.ie&&Be.ie_version<15||Be.ios&&Be.webkit_version<604;function p$(n,e){let i,{state:t}=n,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(null!=KC&&t.selection.ranges.every(l=>l.empty)&&KC==s.toString()){let l=-1;i=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let d=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:d},range:le.cursor(c.from+d.length)}})}else i=o?t.changeByRange(l=>{let c=s.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:le.cursor(l.from+c.length)}}):t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Xn.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),27==e.keyCode?n.inputState.lastEscPress=Date.now():d$.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};let m$=0;function g$(n,e,t,i){if(1==i)return le.cursor(e,t);if(2==i)return function(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(0==r.length)return le.cursor(e);0==s?t=1:s==r.length&&(t=-1);let o=s,a=s;t<0?o=rr(r.text,s,!1):a=rr(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let c=rr(r.text,o,!1);if(i(r.text.slice(c,o))!=l)break;o=c}for(;a<r.length;){let c=rr(r.text,a);if(i(r.text.slice(a,c))!=l)break;a=c}return le.range(o+r.from,a+r.from)}(n.state,e,t);{let r=Mi.find(n.docView,e),s=n.state.doc.lineAt(r?r.posAtEnd:e),a=r?r.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,le.range(r?r.posAtStart:s.from,a)}}Xn.touchstart=(n,e)=>{m$=Date.now(),n.inputState.setSelectionOrigin("select.pointer")},Xn.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")},Xn.mousedown=(n,e)=>{if(n.observer.flush(),m$>Date.now()-2e3&&1==YC(e))return;let t=null;for(let i of n.state.facet($2))if(t=i(n,e),t)break;if(!t&&0==e.button&&(t=function(n,e){let t=y$(n,e),i=YC(e),r=n.state.selection,s=t,o=e;return{update(a){a.docChanged&&(t&&(t.pos=a.changes.mapPos(t.pos)),r=r.map(a.changes),o=null)},get(a,l,c){let u;if(o&&a.clientX==o.clientX&&a.clientY==o.clientY?u=s:(u=s=y$(n,a),o=a),!u||!t)return r;let d=g$(n,u.pos,u.bias,i);if(t.pos!=u.pos&&!l){let h=g$(n,t.pos,t.bias,i),f=Math.min(h.from,d.from),p=Math.max(h.to,d.to);d=f<d.from?le.range(f,p):le.range(p,f)}return l?r.replaceRange(r.main.extend(d.from,d.to)):c?r.addRange(d):le.create([d])}}}(n,e)),t){let i=n.root.activeElement!=n.contentDOM;i&&n.observer.ignore(()=>_2(n.contentDOM)),n.inputState.startMouseSelection(new Yce(n,e,t,i))}};let _$=(n,e)=>n>=e.top&&n<=e.bottom,v$=(n,e,t)=>_$(e,t)&&n>=t.left&&n<=t.right;function nue(n,e,t,i){let r=Mi.find(n.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(0==s)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&v$(t,i,o))return-1;let a=r.coordsAt(s,1);return a&&v$(t,i,a)?1:o&&_$(i,o)?-1:1}function y$(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:nue(n,t,e.clientX,e.clientY)}}const iue=Be.ie&&Be.ie_version<=11;let b$=null,O$=0,w$=0;function YC(n){if(!iue)return n.detail;let e=b$,t=w$;return b$=n,w$=Date.now(),O$=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(O$+1)%3:1}function C$(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=n.inputState,o=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:r,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"})}Xn.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")},Xn.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,s=()=>{++r==t.length&&C$(n,e,i.filter(o=>null!=o).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}}else C$(n,e,e.dataTransfer.getData("Text"),!0)},Xn.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=f$?null:e.clipboardData;t?(p$(n,t.getData("text/plain")),e.preventDefault()):function(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),p$(n,t.value)},50)}(n)};let KC=null;function x$(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}function S$(n,e){if(n.docView.compositionDeco.size){n.inputState.rapidCompositionStart=e;try{n.update([])}finally{n.inputState.rapidCompositionStart=!1}}}Xn.copy=Xn.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=function(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}(n.state);if(!t&&!r)return;KC=r?t:null;let s=f$?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):function(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}(n,t),"cut"==e.type&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})},Xn.focus=x$,Xn.blur=n=>{n.observer.clearSelectionRange(),x$(n)},Xn.compositionstart=Xn.compositionupdate=n=>{null==n.inputState.compositionFirstChange&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0,n.docView.compositionDeco.size&&(n.observer.flush(),S$(n,!0)))},Xn.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,setTimeout(()=>{n.inputState.composing<0&&S$(n,!1)},50)},Xn.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()},Xn.beforeinput=(n,e)=>{var t;let i;if(Be.chrome&&Be.android&&(i=u$.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let r=(null===(t=window.visualViewport)||void 0===t?void 0:t.height)||0;setTimeout(()=>{var s;((null===(s=window.visualViewport)||void 0===s?void 0:s.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const D$=["pre-wrap","normal","pre-line","break-spaces"];class T${constructor(){this.doc=$t.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return D$.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,i,r,s){let o=D$.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.lineLength=r,a){this.heightSamples={};for(let l=0;l<s.length;l++){let c=s[l];c<0?l++:this.heightSamples[Math.floor(10*c)]=!0}}return a}}class E${constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class na{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new na(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Kt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Kt||(Kt={}));const Hg=.001;class ki{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Hg&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return ki.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this;for(let o=r.length-1;o>=0;o--){let{fromA:a,toA:l,fromB:c,toB:u}=r[o],d=s.lineAt(a,Kt.ByPosNoHeight,t,0,0),h=d.to>=l?d:s.lineAt(l,Kt.ByPosNoHeight,t,0,0);for(u+=h.to-l,l=h.to;o>0&&d.from<=r[o-1].toA;)a=r[o-1].fromA,c=r[o-1].fromB,o--,a<d.from&&(d=s.lineAt(a,Kt.ByPosNoHeight,t,0,0));c+=d.from-a,a=d.from;let f=JC.build(i,e,c,u);s=s.replace(a,l,f)}return s.updateHeight(i,0)}static empty(){return new ar(0,0)}static of(e){if(1==e.length)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>2*s){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,r-=a.size}else{if(!(s>2*r))break;{let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}}else if(r<s){let a=e[t++];a&&(r+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return null==e[t-1]?(o=1,t--):null==e[t]&&(o=1,i++),new aue(ki.of(e.slice(0,t)),o,ki.of(e.slice(i)))}}ki.prototype.size=1;class M$ extends ki{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new na(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,t,i,r,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ar extends M${constructor(e,t){super(e,t,Yt.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return 1==i.length&&(r instanceof ar||r instanceof li&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof li?r=new ar(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):ki.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class li extends ki{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:s,lastLine:o,lineHeight:a}=this.lines(t,r),l=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:c,length:u}=t.line(s+l);return new na(c,u,i+a*l,a,Yt.Text)}lineAt(e,t,i,r,s){if(t==Kt.ByHeight)return this.blockAt(e,i,r,s);if(t==Kt.ByPosNoHeight){let{from:d,to:h}=i.lineAt(e);return new na(d,h-d,0,0,Yt.Text)}let{firstLine:o,lineHeight:a}=this.lines(i,s),{from:l,length:c,number:u}=i.lineAt(e);return new na(l,c,r+a*(u-o),a,Yt.Text)}forEachLine(e,t,i,r,s,o){let{firstLine:a,lineHeight:l}=this.lines(i,s);for(let c=Math.max(e,s),u=Math.min(s+this.length,t);c<=u;){let d=i.lineAt(c);c==e&&(r+=l*(d.number-a)),o(new na(d.from,d.length,r,l,Yt.Text)),r+=l,c=d.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof li?i[i.length-1]=new li(s.length+r):i.push(null,new li(r-1))}if(e>0){let s=i[0];s instanceof li?i[0]=new li(e+s.length):i.unshift(new li(e-1),null)}return ki.of(i)}decomposeLeft(e,t){t.push(new li(e-1),null)}decomposeRight(e,t){t.push(null,new li(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let o=[],a=Math.max(t,r.from),l=-1,c=e.heightChanged;for(r.from>t&&o.push(new li(r.from-t-1).updateHeight(e,t));a<=s&&r.more;){let d=e.doc.lineAt(a).length;o.length&&o.push(null);let h=r.heights[r.index++];-1==l?l=h:Math.abs(h-l)>=Hg&&(l=-2);let f=new ar(d,h);f.outdated=!1,o.push(f),a+=d+1}a<=s&&o.push(null,new li(s-a).updateHeight(e,a));let u=ki.of(o);return e.heightChanged=c||l<0||Math.abs(u.height-this.height)>=Hg||Math.abs(l-this.lines(e.doc,t).lineHeight)>=Hg,u}return(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class aue extends ki{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return 1&this.flags}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=t==Kt.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=t==Kt.ByPosNoHeight?Kt.ByPosNoHeight:Kt.ByPos;return l?c.join(this.right.lineAt(a,u,i,o,a)):this.left.lineAt(a,u,i,r,s).join(c)}forEachLine(e,t,i,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,r,s,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let c=this.lineAt(l,Kt.ByPos,i,r,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,a,l,o)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&k$(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),k$(s,a)}return ki.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?ki.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return r&&r.from<=t+s.length&&r.more?l=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,i,r):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function k$(n,e){let t,i;null==n[e]&&(t=n[e-1])instanceof li&&(i=n[e+1])instanceof li&&n.splice(e-1,3,new li(t.length+1+i.length))}class JC{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof ar?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new ar(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let s=t-e;i.block?this.addBlock(new M$(s,r,i.type)):(s||r>=5)&&this.addLineDeco(r,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ar(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new li(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ar)return e;let t=new ar(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==Yt.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Yt.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof ar||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new ar(0,-1));let i=e;for(let r of this.nodes)r instanceof ar&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new JC(i,e);return cn.spans(t,i,r,s,0),s.finish(i)}}class uue{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&VC(e,t,this.changes,5)}}function due(n,e){let t=n.getBoundingClientRect(),i=Math.max(0,t.left),r=Math.min(innerWidth,t.right),s=Math.max(0,t.top),o=Math.min(innerHeight,t.bottom),a=n.ownerDocument.body;for(let l=n.parentNode;l&&l!=a;)if(1==l.nodeType){let c=l,u=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&"visible"!=u.overflow){let d=c.getBoundingClientRect();i=Math.max(i,d.left),r=Math.min(r,d.right),s=Math.max(s,d.top),o=Math.min(o,d.bottom)}l="absolute"==u.position||"fixed"==u.position?c.offsetParent:c.parentNode}else{if(11!=l.nodeType)break;l=l.host}return{left:i-t.left,right:Math.max(i,r)-t.left,top:s-(t.top+e),bottom:Math.max(s,o)-(t.top+e)}}function hue(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class ex{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e){return Le.replace({widget:new fue(this.size,e)}).range(this.from,this.to)}}class fue extends yo{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class A${constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new T$,this.scaler=P$,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=un.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(wh).filter(t=>"function"!=typeof t),this.heightMap=ki.empty().applyChanges(this.stateDeco,$t.empty,this.heightOracle.setDoc(e.doc),[new As(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Le.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new Wg(s,o))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?P$:new gue(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(1==this.scaler.scale?e:xh(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(wh).filter(c=>"function"!=typeof c);let s=As.extendWithRanges(e.changedRanges,function(n,e,t){let i=new uue;return cn.compare(n,e,t,i,0),i.changes}(i,this.stateDeco,e?e.changes:Gn.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=!e.changes.empty||2&e.flags||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection="rtl"==i.direction?un.RTL:un.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=o||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight,l=0,c=0;if(this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8),a){this.mustMeasureContent=!1,this.contentDOMHeight=t.clientHeight;let v=parseInt(i.paddingTop)||0,O=parseInt(i.paddingBottom)||0;(this.paddingTop!=v||this.paddingBottom!=O)&&(l|=8,this.paddingTop=v,this.paddingBottom=O)}let u=(this.printing?hue:due)(t,this.paddingTop),d=u.top-this.pixelViewport.top,h=u.bottom-this.pixelViewport.bottom;this.pixelViewport=u;let f=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(f!=this.inView&&(this.inView=f,f&&(a=!0)),!this.inView)return 0;let p=t.clientWidth;if((this.contentDOMWidth!=p||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=p,this.editorHeight=e.scrollDOM.clientHeight,l|=8),a){let v=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(v)&&(o=!0),o||r.lineWrapping&&Math.abs(p-this.contentDOMWidth)>r.charWidth){let{lineHeight:O,charWidth:b}=e.docView.measureTextSize();o=r.refresh(s,O,b,p/b,v),o&&(e.docView.minWidth=0,l|=8)}d>0&&h>0?c=Math.max(d,h):d<0&&h<0&&(c=Math.min(d,h)),r.heightChanged=!1;for(let O of this.viewports){let b=O.from==this.viewport.from?v:e.docView.measureVisibleLineHeights(O);this.heightMap=this.heightMap.updateHeight(r,0,o,new E$(O.from,b))}r.heightChanged&&(l|=2)}let m=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(2&l||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.state.doc,{visibleTop:o,visibleBottom:a}=this,l=new Wg(r.lineAt(o-1e3*i,Kt.ByHeight,s,0,0).from,r.lineAt(a+1e3*(1-i),Kt.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let h,u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=r.lineAt(c,Kt.ByPos,s,0,0);h="center"==t.y?(d.top+d.bottom)/2-u/2:"start"==t.y||"nearest"==t.y&&c<l.from?d.top:d.bottom-u,l=new Wg(r.lineAt(h-500,Kt.ByHeight,s,0,0).from,r.lineAt(h+u+500,Kt.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Wg(this.heightMap.lineAt(i,Kt.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,Kt.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Kt.ByPos,this.state.doc,0,0),{bottom:s}=this.heightMap.lineAt(t,Kt.ByPos,this.state.doc,0,0),{visibleTop:o,visibleBottom:a}=this;return(0==e||r<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2e3&&s<a+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new ex(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=un.LTR)return t;for(let i of this.viewportLines){if(i.length<4e3)continue;let s,o,r=pue(i.from,i.to,this.stateDeco);if(r.total<4e3)continue;if(this.heightOracle.lineWrapping){let c=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;s=zg(r,(this.visibleTop-i.top-c)/i.height),o=zg(r,(this.visibleBottom-i.top+c)/i.height)}else{let c=r.total*this.heightOracle.charWidth,u=2e3*this.heightOracle.charWidth;s=zg(r,(this.pixelViewport.left-u)/c),o=zg(r,(this.pixelViewport.right+u)/c)}let a=[];s>i.from&&a.push({from:i.from,to:s}),o<i.to&&a.push({from:o,to:i.to});let l=this.state.selection.main;l.from>=i.from&&l.from<=i.to&&I$(a,l.from-10,l.from+10),!l.empty&&l.to>=i.from&&l.to<=i.to&&I$(a,l.to-10,l.to+10);for(let{from:c,to:u}of a)u-c>1e3&&t.push(mue(e,d=>d.from>=i.from&&d.to<=i.to&&Math.abs(d.from-c)<1e3&&Math.abs(d.to-u)<1e3)||new ex(c,u,this.gapSize(i,c,u,r)))}return t}gapSize(e,t,i,r){let s=R$(r,i)-R$(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){ex.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Le.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];cn.spans(e,this.viewport.from,this.viewport.to,{span(r,s){t.push({from:r,to:s})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=t[s].from||r.to!=t[s].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||xh(this.heightMap.lineAt(e,Kt.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return xh(this.heightMap.lineAt(this.scaler.fromDOM(e),Kt.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return xh(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Wg{constructor(e,t){this.from=e,this.to=t}}function pue(n,e,t){let i=[],r=n,s=0;return cn.spans(t,n,e,{span(){},point(o,a){o>r&&(i.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function zg({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(i<=a)return s+i;i-=a}}function R$(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function I$(n,e,t){for(let i=0;i<n.length;i++){let r=n[i];if(r.from<t&&r.to>e){let s=[];r.from<e&&s.push({from:r.from,to:e}),r.to>t&&s.push({from:t,to:r.to}),n.splice(i,1,...s),i+=s.length-1}}}function mue(n,e){for(let t of n)if(e(t))return t}const P$={toDOM:n=>n,fromDOM:n=>n,scale:1};class gue{constructor(e,t,i){let r=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let c=t.lineAt(a,Kt.ByPos,e,0,0).top,u=t.lineAt(l,Kt.ByPos,e,0,0).bottom;return r+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}}function xh(n,e){if(1==e.scale)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new na(n.from,n.length,t,i-t,Array.isArray(n.type)?n.type.map(r=>xh(r,e)):n.type)}const qg=Fe.define({combine:n=>n.join(" ")}),tx=Fe.define({combine:n=>n.indexOf(!0)>-1}),nx=Yo.newName(),F$=Yo.newName(),N$=Yo.newName(),L$={"&light":"."+F$,"&dark":"."+N$};function ix(n,e,t){return new Yo(e,{finish:i=>/&/.test(i)?i.replace(/&\w*/,r=>{if("&"==r)return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i})}const _ue=ix("."+nx,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},L$),vue={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},rx=Be.ie&&Be.ie_version<=11;class yue{constructor(e,t,i){this.view=e,this.onChange=t,this.onScrollChanged=i,this.active=!1,this.selectionRange=new Sce,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let s of r)this.queue.push(s);(Be.ie&&Be.ie_version<=11||Be.ios&&e.composing)&&r.some(s=>"childList"==s.type&&s.removedNodes.length||"characterData"==s.type&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),rx&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),"function"==typeof ResizeObserver&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,i=this.selectionRange;if(t.state.facet(bh)?t.root.activeElement!=this.dom:!MC(t.dom,i))return;let r=i.anchorNode&&t.docView.nearest(i.anchorNode);r&&r.ignoreEvent(e)||((Be.ie&&Be.ie_version<=11||Be.android&&Be.chrome)&&!t.state.selection.main.empty&&i.focusNode&&Ng(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=Fg(e),i=Be.safari&&11==e.nodeType&&function(){let n=document.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}()==this.view.contentDOM&&function(n){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=n.docView.domAtPos(n.state.selection.main.anchor);return Ng(a.node,a.offset,s,o)&&([i,r,s,o]=[s,o,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}}(this.view)||t;return!this.selectionRange.eq(i)&&(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(1==i.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,vue),rx&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),rx&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null;let r=this.view.state;this.readSelectionRange(),vh(this.view.contentDOM,i.key,i.keyCode)?this.processRecords():this.flush(),this.view.state==r&&this.view.update([])}),(!this.delayedAndroidKey||"Enter"==e)&&(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let s of this.observer.takeRecords())e.push(s);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);!o||(o.typeOver&&(r=!0),-1==t?({from:t,to:i}=o):(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:i,typeOver:r}=this.processRecords(),s=this.selectionChanged&&MC(this.dom,this.selectionRange);if(t<0&&!s)return;this.selectionChanged=!1;let o=this.view.state;this.onChange(t,i,r),this.view.state==o&&this.view.update([])}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let i=$$(t,e.previousSibling||e.target.previousSibling,-1),r=$$(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,i;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(i=this.resize)||void 0===i||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function $$(n,e,t){for(;e;){let i=gn.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}let Et=(()=>{class n{constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||(i=>this.update([i])),this.dispatch=this.dispatch.bind(this),this.root=t.root||function(n){for(;n;){if(n&&(9==n.nodeType||11==n.nodeType&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}(t.parent)||document,this.viewState=new A$(t.state||Dr.create()),this.plugins=this.state.facet(Oh).map(i=>new HC(i));for(let i of this.plugins)i.update(this);this.observer=new yue(this,(i,r,s)=>{!function(n,e,t,i){let r,s,o=n.state.selection.main;if(e>-1){let a=n.docView.domBoundsAround(e,t,0);if(!a||n.state.readOnly)return;let{from:l,to:c}=a,u=n.docView.impreciseHead||n.docView.impreciseAnchor?[]:function(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new J2(t,i)),(r!=t||s!=i)&&e.push(new J2(r,s))),e}(n),d=new Y2(u,n.state);d.readRange(a.startDOM,a.endDOM);let h=o.from,f=null;(8===n.inputState.lastKeyCode&&n.inputState.lastKeyTime>Date.now()-100||Be.android&&d.text.length<c-l)&&(h=o.to,f="end");let p=function(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;return"end"==i&&(t-=o+Math.max(0,s-Math.min(o,a))-s),o<s&&n.length<e.length?(s-=t<=s&&t>=o?s-t:0,a=s+(a-o),o=s):a<s&&(s-=t<=s&&t>=a?s-t:0,o=s+(o-a),a=s),{from:s,toA:o,toB:a}}(n.state.doc.sliceString(l,c,"\uffff"),d.text,h-l,f);p&&(Be.chrome&&13==n.inputState.lastKeyCode&&p.toB==p.from+2&&"\uffff\uffff"==d.text.slice(p.from,p.toB)&&p.toB--,r={from:l+p.from,to:l+p.toA,insert:$t.of(d.text.slice(p.from,p.toB).split("\uffff"))}),s=function(n,e){if(0==n.length)return null;let t=n[0].pos,i=2==n.length?n[1].pos:t;return t>-1&&i>-1?le.single(t+e,i+e):null}(u,l)}else if(n.hasFocus||!n.state.facet(bh)){let a=n.observer.selectionRange,{impreciseHead:l,impreciseAnchor:c}=n.docView,u=l&&l.node==a.focusNode&&l.offset==a.focusOffset||!Wc(n.contentDOM,a.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(a.focusNode,a.focusOffset),d=c&&c.node==a.anchorNode&&c.offset==a.anchorOffset||!Wc(n.contentDOM,a.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(a.anchorNode,a.anchorOffset);(u!=o.head||d!=o.anchor)&&(s=le.single(d,u))}if(r||s)if(!r&&i&&!o.empty&&s&&s.main.empty?r={from:o.from,to:o.to,insert:n.state.doc.slice(o.from,o.to)}:r&&r.from>=o.from&&r.to<=o.to&&(r.from!=o.from||r.to!=o.to)&&o.to-o.from-(r.to-r.from)<=4?r={from:o.from,to:o.to,insert:n.state.doc.slice(o.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,o.to))}:Be.mac&&r&&r.from==r.to&&r.from==o.head-1&&"."==r.insert.toString()&&(r={from:o.from,to:o.to,insert:$t.of([" "])}),r){let a=n.state;if(Be.ios&&n.inputState.flushIOSKey(n)||Be.android&&(r.from==o.from&&r.to==o.to&&1==r.insert.length&&2==r.insert.lines&&vh(n.contentDOM,"Enter",13)||r.from==o.from-1&&r.to==o.to&&0==r.insert.length&&vh(n.contentDOM,"Backspace",8)||r.from==o.from&&r.to==o.to+1&&0==r.insert.length&&vh(n.contentDOM,"Delete",46)))return;let c,l=r.insert.toString();if(n.state.facet(Q2).some(d=>d(n,r.from,r.to,l)))return;if(n.inputState.composing>=0&&n.inputState.composing++,r.from>=o.from&&r.to<=o.to&&r.to-r.from>=(o.to-o.from)/3&&(!s||s.main.empty&&s.main.from==r.from+r.insert.length)&&n.inputState.composing<0){let d=o.from<r.from?a.sliceDoc(o.from,r.from):"",h=o.to>r.to?a.sliceDoc(r.to,o.to):"";c=a.replaceSelection(n.state.toText(d+r.insert.sliceString(0,void 0,n.state.lineBreak)+h))}else{let d=a.changes(r),h=s&&!a.selection.main.eq(s.main)&&s.main.to<=d.newLength?s.main:void 0;if(a.selection.ranges.length>1&&n.inputState.composing>=0&&r.to<=o.to&&r.to>=o.to-10){let f=n.state.sliceDoc(r.from,r.to),p=n$(n)||n.state.doc.lineAt(o.head),m=o.to-r.to,v=o.to-o.from;c=a.changeByRange(O=>{if(O.from==o.from&&O.to==o.to)return{changes:d,range:h||O.map(d)};let b=O.to-m,x=b-f.length;if(O.to-O.from!=v||n.state.sliceDoc(x,b)!=f||p&&O.to>=p.from&&O.from<=p.to)return{range:O};let I=a.changes({from:x,to:b,insert:r.insert}),F=O.to-o.to;return{changes:I,range:h?le.range(Math.max(0,h.anchor+F),Math.max(0,h.head+F)):O.map(I)}})}else c={changes:d,selection:h&&a.selection.replaceRange(h)}}let u="input.type";n.composing&&(u+=".compose",n.inputState.compositionFirstChange&&(u+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(c,{scrollIntoView:!0,userEvent:u})}else if(s&&!s.main.eq(o)){let a=!1,l="select";n.inputState.lastSelectionTime>Date.now()-50&&("select"==n.inputState.lastSelectionOrigin&&(a=!0),l=n.inputState.lastSelectionOrigin),n.dispatch({selection:s,scrollIntoView:a,userEvent:l})}}(this,i,r,s)},i=>{this.inputState.runScrollHandlers(this,i),this.observer.intersecting&&this.measure()}),this.inputState=new Zce(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new e$(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...t){this._dispatch(1==t.length&&t[0]instanceof Es?t[0]:this.state.update(...t))}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r,i=!1,s=this.state;for(let a of t){if(a.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=a.state}if(this.destroyed)return void(this.viewState.state=s);if(s.facet(Dr.phrases)!=this.state.facet(Dr.phrases))return this.setState(s);r=Ug.create(this,s,t);let o=this.viewState.scrollTarget;try{this.updateState=2;for(let a of t){if(o&&(o=o.map(a.changes)),a.scrollIntoView){let{main:l}=a.state.selection;o=new jg(l.empty?l:le.cursor(l.head,l.head>l.anchor?-1:1))}for(let l of a.effects)l.is(j2)&&(o=l.value)}this.viewState.update(r,o),this.bidiCache=Gg.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),i=this.docView.update(r),this.state.facet(Ch)!=this.styleModules&&this.mountStyles(),this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(i,t.some(a=>a.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(qg)!=r.state.facet(qg)&&(this.viewState.mustMeasureContent=!0),(i||o||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let a of this.state.facet(UC))a(r)}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let i=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new A$(t),this.plugins=t.facet(Oh).map(r=>new HC(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new e$(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}i&&this.focus(),this.requestMeasure()}updatePlugins(t){let i=t.startState.facet(Oh),r=t.state.facet(Oh);if(i!=r){let s=[];for(let o of r){let a=i.indexOf(o);if(a<0)s.push(new HC(o));else{let l=this.plugins[a];l.mustUpdate=t,s.push(l)}}for(let o of this.plugins)o.mustUpdate!=t&&o.destroy(this);this.plugins=s,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let s of this.plugins)s.mustUpdate=t;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this)}measure(t=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.flush();let i=null;try{for(let r=0;;r++){this.updateState=1;let s=this.viewport,o=this.viewState.measure(this);if(!o&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(r>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let a=[];4&o||([this.measureRequests,a]=[a,this.measureRequests]);let l=a.map(h=>{try{return h.read(this)}catch(f){return or(this.state,f),B$}}),c=Ug.create(this,this.state,[]),u=!1,d=!1;c.flags|=o,i?i.flags|=o:i=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),u=this.docView.update(c));for(let h=0;h<a.length;h++)if(l[h]!=B$)try{let f=a[h];f.write&&f.write(l[h],this)}catch(f){or(this.state,f)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,d=!0),u&&this.docView.updateSelection(!0),this.viewport.from==s.from&&this.viewport.to==s.to&&!d&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(i&&!i.empty)for(let r of this.state.facet(UC))r(i)}get themeClasses(){return nx+" "+(this.state.facet(tx)?N$:F$)+" "+this.state.facet(qg)}updateAttrs(){let t=Q$(this,U2,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),i={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(bh)?"true":"false",class:"cm-content",style:`${Be.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(i["aria-readonly"]="true"),Q$(this,WC,i),this.observer.ignore(()=>{QC(this.contentDOM,this.contentAttrs,i),QC(this.dom,this.editorAttrs,t)}),this.editorAttrs=t,this.contentAttrs=i}showAnnouncements(t){let i=!0;for(let r of t)for(let s of r.effects)s.is(n.announce)&&(i&&(this.announceDOM.textContent=""),i=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=s.value)}mountStyles(){this.styleModules=this.state.facet(Ch),Yo.mount(this.root,this.styleModules.concat(_ue).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),t){if(null!=t.key)for(let i=0;i<this.measureRequests.length;i++)if(this.measureRequests[i].key===t.key)return void(this.measureRequests[i]=t);this.measureRequests.push(t)}}plugin(t){let i=this.pluginMap.get(t);return(void 0===i||i&&i.spec!=t)&&this.pluginMap.set(t,i=this.plugins.find(r=>r.spec==t)||null),i&&i.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,i,r){return ZC(this,t,c$(this,t,i,r))}moveByGroup(t,i){return ZC(this,t,c$(this,t,i,r=>function(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let o=i(s);return r==Ei.Space&&(r=o),r==o}}(this,t.head,r)))}moveToLineBoundary(t,i,r=!0){return function(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=i&&n.lineWrapping?n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head):null;if(s){let l=n.dom.getBoundingClientRect(),c=n.textDirectionAt(r.from),u=n.posAtCoords({x:t==(c==un.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(null!=u)return le.cursor(u,t?-1:1)}let o=Mi.find(n.docView,e.head);return le.cursor(o?t?o.posAtEnd:o.posAtStart:t?r.to:r.from,t?-1:1)}(this,t,i,r)}moveVertically(t,i,r){return ZC(this,t,function(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return le.cursor(r,e.assoc);let a,o=e.goalColumn,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),u=n.documentTop;if(c)null==o&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let f=n.viewState.lineBlockAt(r);null==o&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(r-f.from))),a=(s<0?f.top:f.bottom)+u}let d=l.left+o,h=null!=i?i:n.defaultLineHeight>>1;for(let f=0;;f+=10){let p=a+(h+f)*s,m=a$(n,{x:d,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?m<r:m>r))return le.cursor(m,e.assoc,void 0,o)}}(this,t,i,r))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,i=0){return this.docView.posFromDOM(t,i)}posAtCoords(t,i=!0){return this.readMeasured(),a$(this,t,i)}coordsAtPos(t,i=1){this.readMeasured();let r=this.docView.coordsAt(t,i);if(!r||r.left==r.right)return r;let s=this.state.doc.lineAt(t),o=this.bidiSpans(s);return $g(r,o[Gc.find(o,t-s.from,-1,i)].dir==un.LTR==i>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(V2)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>Sue)return G2(t.length);let i=this.textDirectionAt(t.from);for(let s of this.bidiCache)if(s.from==t.from&&s.dir==i)return s.order;let r=function(n,e){let t=n.length,i=e==zC?1:2,r=e==zC?2:1;if(!n||1==i&&!Fce.test(n))return G2(t);for(let o=0,a=i,l=i;o<t;o++){let c=Pce(n.charCodeAt(o));512==c?c=a:8==c&&4==l&&(c=16),dn[o]=4==c?2:c,7&c&&(l=c),a=c}for(let o=0,a=i,l=i;o<t;o++){let c=dn[o];if(128==c)o<t-1&&a==dn[o+1]&&24&a?c=dn[o]=a:dn[o]=256;else if(64==c){let u=o+1;for(;u<t&&64==dn[u];)u++;let d=o&&8==a||u<t&&8==dn[u]?1==l?1:8:256;for(let h=o;h<u;h++)dn[h]=d;o=u-1}else 8==c&&1==l&&(dn[o]=1);a=c,7&c&&(l=c)}for(let c,u,d,o=0,a=0,l=0;o<t;o++)if(u=qC[c=n.charCodeAt(o)])if(u<0){for(let h=a-3;h>=0;h-=3)if(Rs[h+1]==-u){let f=Rs[h+2],p=2&f?i:4&f?1&f?r:i:0;p&&(dn[o]=dn[Rs[h]]=p),a=h;break}}else{if(189==Rs.length)break;Rs[a++]=o,Rs[a++]=c,Rs[a++]=l}else if(2==(d=dn[o])||1==d){let h=d==i;l=h?0:1;for(let f=a-3;f>=0;f-=3){let p=Rs[f+2];if(2&p)break;if(h)Rs[f+2]|=2;else{if(4&p)break;Rs[f+2]|=4}}}for(let o=0;o<t;o++)if(256==dn[o]){let a=o+1;for(;a<t&&256==dn[a];)a++;let l=1==(o?dn[o-1]:i),u=l==(1==(a<t?dn[a]:i))?l?1:2:i;for(let d=o;d<a;d++)dn[d]=u;o=a-1}let s=[];if(1==i)for(let o=0;o<t;){let a=o,l=1!=dn[o++];for(;o<t&&l==(1!=dn[o]);)o++;if(l)for(let c=o;c>a;){let u=c,d=2!=dn[--c];for(;c>a&&d==(2!=dn[c-1]);)c--;s.push(new Gc(c,u,d?2:1))}else s.push(new Gc(a,o,0))}else for(let o=0;o<t;){let a=o,l=2==dn[o++];for(;o<t&&l==(2==dn[o]);)o++;s.push(new Gc(a,o,l?1:2))}return s}(t.text,i);return this.bidiCache.push(new Gg(t.from,t.to,i,r)),r}get hasFocus(){var t;return(document.hasFocus()||Be.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{_2(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,i={}){return j2.of(new jg("number"==typeof t?le.cursor(t):t,i.y,i.x,i.yMargin,i.xMargin))}static domEventHandlers(t){return bn.define(()=>({}),{eventHandlers:t})}static theme(t,i){let r=Yo.newName(),s=[qg.of(r),Ch.of(ix(`.${r}`,t))];return i&&i.dark&&s.push(tx.of(!0)),s}static baseTheme(t){return Uc.lowest(Ch.of(ix("."+nx,t,L$)))}}return n.styleModule=Ch,n.inputHandler=Q2,n.perLineTextDirection=V2,n.exceptionSink=B2,n.updateListener=UC,n.editable=bh,n.mouseSelectionStyle=$2,n.dragMovesSelection=L2,n.clickAddsSelectionRange=N2,n.decorations=wh,n.atomicRanges=H2,n.scrollMargins=W2,n.darkTheme=tx,n.contentAttributes=WC,n.editorAttributes=U2,n.lineWrapping=n.contentAttributes.of({class:"cm-lineWrapping"}),n.announce=Ot.define(),n})();const Sue=4096,B$={};class Gg{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:un.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!t.touchesRange(o.from,o.to)&&i.push(new Gg(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return i}}function Q$(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o="function"==typeof s?s(n):s;o&&$C(o,t)}return t}const Due=Be.mac?"mac":Be.windows?"win":Be.linux?"linux":"key";function sx(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),!1!==t&&e.shiftKey&&(n="Shift-"+n),n}const Eue=Et.domEventHandlers({keydown:(n,e)=>U$(j$(e.state),n,e,"editor")}),Xg=Fe.define({enables:Eue}),V$=new WeakMap;function j$(n){let e=n.facet(Xg),t=V$.get(e);return t||V$.set(e,t=function(n,e=Due){let t=Object.create(null),i=Object.create(null),r=(o,a)=>{let l=i[o];if(null==l)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c)=>{let u=t[o]||(t[o]=Object.create(null)),d=a.split(/ (?!$)/).map(p=>function(n,e){const t=n.split(/-(?!$)/);let r,s,o,a,i=t[t.length-1];"Space"==i&&(i=" ");for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);"mac"==e?a=!0:s=!0}}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}(p,e));for(let p=1;p<d.length;p++){let m=d.slice(0,p).join(" ");r(m,!0),u[m]||(u[m]={preventDefault:!0,commands:[v=>{let O=ia={view:v,prefix:m,scope:o};return setTimeout(()=>{ia==O&&(ia=null)},4e3),!0}]})}let h=d.join(" ");r(h,!1);let f=u[h]||(u[h]={preventDefault:!1,commands:[]});f.commands.push(l),c&&(f.preventDefault=!0)};for(let o of n){let a=o[e]||o.key;if(a)for(let l of o.scope?o.scope.split(" "):["editor"])s(l,a,o.run,o.preventDefault),o.shift&&s(l,"Shift-"+a,o.shift,o.preventDefault)}return t}(e.reduce((i,r)=>i.concat(r),[]))),t}let ia=null;function U$(n,e,t,i){let r=function(n){var t=!(bce&&(n.ctrlKey||n.altKey||n.metaKey)||(_ce||yce)&&n.shiftKey&&n.key&&1==n.key.length)&&n.key||(n.shiftKey?Pg:Ko)[n.keyCode]||n.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(e),s=1==r.length&&" "!=r,o="",a=!1;ia&&ia.view==t&&ia.scope==i&&(o=ia.prefix+" ",(a=d$.indexOf(e.keyCode)<0)&&(ia=null));let u,l=d=>{if(d){for(let h of d.commands)if(h(t))return!0;d.preventDefault&&(a=!0)}return!1},c=n[i];if(c){if(l(c[o+sx(r,e,!s)]))return!0;if(s&&(e.shiftKey||e.altKey||e.metaKey)&&(u=Ko[e.keyCode])&&u!=r){if(l(c[o+sx(u,e,!0)]))return!0}else if(s&&e.shiftKey&&l(c[o+sx(r,e,!0)]))return!0}return a}const H$=!Be.ios,Sh=Fe.define({combine:n=>Ms(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function Rue(n={}){return[Sh.of(n),Iue,Pue]}class W${constructor(e,t,i,r,s){this.left=e,this.top=t,this.width=i,this.height=r,this.className=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const Iue=bn.fromClass(class{constructor(n){this.view=n,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=n.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=n.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),n.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Sh).cursorBlinkRate+"ms"}update(n){let e=n.startState.facet(Sh)!=n.state.facet(Sh);(e||n.selectionSet||n.geometryChanged||n.viewportChanged)&&this.view.requestMeasure(this.measureReq),n.transactions.some(t=>t.scrollIntoView)&&(this.cursorLayer.style.animationName="cm-blink"==this.cursorLayer.style.animationName?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:n}=this.view,e=n.facet(Sh),t=n.selection.ranges.map(r=>r.empty?[]:function(n,e){if(e.to<=n.viewport.from||e.from>=n.viewport.to)return[];let t=Math.max(e.from,n.viewport.from),i=Math.min(e.to,n.viewport.to),r=n.textDirection==un.LTR,s=n.contentDOM,o=s.getBoundingClientRect(),a=q$(n),l=window.getComputedStyle(s.firstChild),c=o.left+parseInt(l.paddingLeft)+Math.min(0,parseInt(l.textIndent)),u=o.right-parseInt(l.paddingRight),d=X$(n,t),h=X$(n,i),f=d.type==Yt.Text?d:null,p=h.type==Yt.Text?h:null;if(n.lineWrapping&&(f&&(f=G$(n,t,f)),p&&(p=G$(n,i,p))),f&&p&&f.from==p.from)return v(O(e.from,e.to,f));{let x=f?O(e.from,null,f):b(d,!1),I=p?O(null,e.to,p):b(h,!0),F=[];return(f||d).to<(p||h).from-1?F.push(m(c,x.bottom,u,I.top)):x.bottom<I.top&&n.elementAtHeight((x.bottom+I.top)/2).type==Yt.Text&&(x.bottom=I.top=(x.bottom+I.top)/2),v(x).concat(F).concat(v(I))}function m(x,I,F,j){return new W$(x-a.left,I-a.top-.01,F-x,j-I+.01,"cm-selectionBackground")}function v({top:x,bottom:I,horizontal:F}){let j=[];for(let B=0;B<F.length;B+=2)j.push(m(F[B],x,F[B+1],I));return j}function O(x,I,F){let j=1e9,B=-1e9,re=[];function se(De,Se,ke,we,J){let C=n.coordsAtPos(De,De==F.to?-2:2),S=n.coordsAtPos(ke,ke==F.from?2:-2);j=Math.min(C.top,S.top,j),B=Math.max(C.bottom,S.bottom,B),J==un.LTR?re.push(r&&Se?c:C.left,r&&we?u:S.right):re.push(!r&&we?c:S.left,!r&&Se?u:C.right)}let ee=null!=x?x:F.from,ve=null!=I?I:F.to;for(let De of n.visibleRanges)if(De.to>ee&&De.from<ve)for(let Se=Math.max(De.from,ee),ke=Math.min(De.to,ve);;){let we=n.state.doc.lineAt(Se);for(let J of n.bidiSpans(we)){let C=J.from+we.from,S=J.to+we.from;if(C>=ke)break;S>Se&&se(Math.max(C,Se),null==x&&C<=ee,Math.min(S,ke),null==I&&S>=ve,J.dir)}if(Se=we.to+1,Se>=ke)break}return 0==re.length&&se(ee,null==x,ve,null==I,n.textDirection),{top:j,bottom:B,horizontal:re}}function b(x,I){let F=o.top+(I?x.top:x.bottom);return{top:F,bottom:F,horizontal:[]}}}(this.view,r)).reduce((r,s)=>r.concat(s)),i=[];for(let r of n.selection.ranges){let s=r==n.selection.main;if(r.empty?!s||H$:e.drawRangeCursor){let o=Nue(this.view,r,s);o&&i.push(o)}}return{rangePieces:t,cursors:i}}drawSel({rangePieces:n,cursors:e}){if(n.length!=this.rangePieces.length||n.some((t,i)=>!t.eq(this.rangePieces[i]))){this.selectionLayer.textContent="";for(let t of n)this.selectionLayer.appendChild(t.draw());this.rangePieces=n}if(e.length!=this.cursors.length||e.some((t,i)=>!t.eq(this.cursors[i]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const i of e)this.cursorLayer.appendChild(i.draw())}else e.forEach((i,r)=>i.adjust(t[r]));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),z$={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};H$&&(z$[".cm-line"].caretColor="transparent !important");const Pue=Uc.highest(Et.theme(z$));function q$(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==un.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function G$(n,e,t){let i=le.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(i,!0,!0).from),type:Yt.Text}}function X$(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type))for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==Yt.Text))return i;return t}function Nue(n,e,t){let i=n.coordsAtPos(e.head,e.assoc||1);if(!i)return null;let r=q$(n);return new W$(i.left-r.left,i.top-r.top,-1,i.bottom-i.top,t?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const Z$=Ot.define({map:(n,e)=>null==n?null:e.mapPos(n)}),Dh=Rn.define({create:()=>null,update:(n,e)=>(null!=n&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(Z$)?i.value:t,n))}),Lue=bn.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Dh);null==t?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Dh)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(Dh),e=null!=n&&this.view.coordsAtPos(n);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Dh)!=n&&this.view.dispatch({effects:Z$.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function $ue(){return[Dh,Lue]}function Y$(n,e,t,i,r){e.lastIndex=0;for(let a,s=n.iterRange(t,i),o=t;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)r(o+a.index,o+a.index+a[0].length,a)}class Que{constructor(e){let{regexp:t,decoration:i,boundary:r,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco="function"==typeof i?i:()=>i,this.boundary=r,this.maxLength=s}createDeco(e){let t=new Zo;for(let{from:i,to:r}of function(n,e){let t=n.visibleRanges;if(1==t.length&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:s}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}(e,this.maxLength))Y$(e.state.doc,this.regexp,i,r,(s,o,a)=>t.add(s,o,this.getDeco(a,e,s)));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(i=Math.min(a,i),r=Math.max(l,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let s of e.visibleRanges){let o=Math.max(s.from,i),a=Math.min(s.to,r);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),d=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){d=a;break}}let f,h=[];if(l==c)for(this.regexp.lastIndex=u-l.from;(f=this.regexp.exec(l.text))&&f.index<d-l.from;){let p=f.index+l.from;h.push(this.getDeco(f,e,p).range(p,p+f[0].length))}else Y$(e.state.doc,this.regexp,u,d,(p,m,v)=>h.push(this.getDeco(v,e,p).range(p,m)));t=t.update({filterFrom:u,filterTo:d,filter:(p,m)=>p<u||m>d,add:h})}}return t}}const ox=null!=/x/.unicode?"gu":"g",Vue=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\ufeff\ufff9-\ufffc]",ox),jue={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ax=null;const Zg=Fe.define({combine(n){let e=Ms(n,{render:null,specialChars:Vue,addSpecialChars:null});return(e.replaceTabs=!function(){var n;if(null==ax&&"undefined"!=typeof document&&document.body){let e=document.body.style;ax=null!=(null!==(n=e.tabSize)&&void 0!==n?n:e.MozTabSize)}return ax||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,ox)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,ox)),e}});function Hue(n={}){return[Zg.of(n),K$||(K$=bn.fromClass(class{constructor(n){this.view=n,this.decorations=Le.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Zg)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new Que({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,s=_i(e[0],0);if(9==s){let o=r.lineAt(i),a=t.state.tabSize,l=mh(o.text,a,i-o.from);return Le.replace({widget:new Xue((a-l%a)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=Le.replace({widget:new Gue(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Zg);n.startState.facet(Zg)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))]}let K$=null;class Gue extends yo{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(n){return n>=32?"\u2022":10==n?"\u2424":String.fromCharCode(9216+n)}(this.code),i=e.state.phrase("Control character")+" "+(jue[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Xue extends yo{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Zue(){return Kue}const Yue=Le.line({class:"cm-activeLine"}),Kue=bn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){if(!i.empty)return Le.none;let r=n.lineBlockAt(i.head);r.from>e&&(t.push(Yue.range(r.from)),e=r.from)}return Le.set(t)}},{decorations:n=>n.decorations});function eB(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,s=r>2e3?-1:r==i.length?function(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}(n,e.clientX):mh(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:s,off:r}}function ide(n){let e=(null==n?void 0:n.eventFilter)||(t=>t.altKey&&0==t.button);return Et.mouseSelectionStyle.of((t,i)=>e(i)?function(n,e){let t=eB(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(t.line).from),o=r.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(r.changes)}},get(r,s,o){let a=eB(n,r);if(!a)return i;let l=function(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),s=[];if(e.off>2e3||t.off>2e3||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=i;l<=r;l++){let c=n.doc.line(l);c.length<=a&&s.push(le.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=i;l<=r;l++){let c=n.doc.line(l),u=SC(c.text,o,n.tabSize,!0);if(u>-1){let d=SC(c.text,a,n.tabSize);s.push(le.range(c.from+u,c.from+d))}}}return s}(n.state,t,a);return l.length?le.create(o?l.concat(i.ranges):l):i}}:null}(t,i):null)}const rde={Alt:[18,n=>n.altKey],Control:[17,n=>n.ctrlKey],Shift:[16,n=>n.shiftKey],Meta:[91,n=>n.metaKey]},sde={style:"cursor: crosshair"};function ode(n={}){let[e,t]=rde[n.key||"Alt"],i=bn.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventHandlers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)}}});return[i,Et.contentAttributes.of(r=>{var s;return(null===(s=r.plugin(i))||void 0===s?void 0:s.isDown)?sde:null})]}const cx="-10000px";class tB{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e){let t=e.state.facet(this.facet),i=t.filter(s=>s);if(t===this.input){for(let s of this.tooltipViews)s.update&&s.update(e);return!1}let r=[];for(let s=0;s<i.length;s++){let o=i[s],a=-1;if(o){for(let l=0;l<this.tooltips.length;l++){let c=this.tooltips[l];c&&c.create==o.create&&(a=l)}if(a<0)r[s]=this.createTooltipView(o);else{let l=r[s]=this.tooltipViews[a];l.update&&l.update(e)}}}for(let s of this.tooltipViews)r.indexOf(s)<0&&s.dom.remove();return this.input=t,this.tooltips=i,this.tooltipViews=r,!0}}function ade(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const Yg=Fe.define({combine:n=>{var e,t,i;return{position:Be.ios?"absolute":(null===(e=n.find(r=>r.position))||void 0===e?void 0:e.position)||"fixed",parent:(null===(t=n.find(r=>r.parent))||void 0===t?void 0:t.parent)||null,tooltipSpace:(null===(i=n.find(r=>r.tooltipSpace))||void 0===i?void 0:i.tooltipSpace)||ade}}}),ux=bn.fromClass(class{constructor(n){var e;this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(Yg);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new tB(n,Kg,i=>this.createTooltip(i)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),null===(e=n.dom.ownerDocument.defaultView)||void 0===e||e.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(Yg);if(i.position!=this.position){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=cx,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;null===(n=this.view.dom.ownerDocument.defaultView)||void 0===n||n.removeEventListener("resize",this.measureSoon);for(let{dom:t}of this.manager.tooltipViews)t.remove();null===(e=this.intersectionObserver)||void 0===e||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(Yg).tooltipSpace(this.view)}}writeMeasure(n){let{editor:e,space:t}=n,i=[];for(let r=0;r<this.manager.tooltips.length;r++){let s=this.manager.tooltips[r],o=this.manager.tooltipViews[r],{dom:a}=o,l=n.pos[r],c=n.size[r];if(!l||l.bottom<=Math.max(e.top,t.top)||l.top>=Math.min(e.bottom,t.bottom)||l.right<Math.max(e.left,t.left)-.1||l.left>Math.min(e.right,t.right)+.1){a.style.top=cx;continue}let u=s.arrow?o.dom.querySelector(".cm-tooltip-arrow"):null,d=u?7:0,h=c.right-c.left,f=c.bottom-c.top,p=o.offset||cde,m=this.view.textDirection==un.LTR,v=c.width>t.right-t.left?m?t.left:t.right-c.width:m?Math.min(l.left-(u?14:0)+p.x,t.right-h):Math.max(t.left,l.left-h+(u?14:0)-p.x),O=!!s.above;!s.strictSide&&(O?l.top-(c.bottom-c.top)-p.y<t.top:l.bottom+(c.bottom-c.top)+p.y>t.bottom)&&O==t.bottom-l.bottom>l.top-t.top&&(O=!O);let b=O?l.top-f-d-p.y:l.bottom+d+p.y,x=v+h;if(!0!==o.overlap)for(let I of i)I.left<x&&I.right>v&&I.top<b+f&&I.bottom>b&&(b=O?I.top-f-2-d:I.bottom+d+2);"absolute"==this.position?(a.style.top=b-n.parent.top+"px",a.style.left=v-n.parent.left+"px"):(a.style.top=b+"px",a.style.left=v+"px"),u&&(u.style.left=l.left+(m?p.x:-p.x)-(v+14-7)+"px"),!0!==o.overlap&&i.push({left:v,top:b,right:x,bottom:b+f}),a.classList.toggle("cm-tooltip-above",O),a.classList.toggle("cm-tooltip-below",!O),o.positioned&&o.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=cx}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),cde={x:0,y:0},Kg=Fe.define({enables:[ux,Et.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),Th=Fe.define();class dx{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new tB(e,Th,t=>this.createHostedView(t))}static create(e){return new dx(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const ude=Kg.compute([Th],n=>{let e=n.facet(Th).filter(t=>t);return 0===e.length?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>null!=t.end).map(t=>t.end)),create:dx.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class dde{constructor(e,t,i,r,s){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){var e;clearTimeout(this.restartTimeout);let{lastMove:t}=this,i=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(null==i)return;let r=this.view.coordsAtPos(i);if(null==r||t.y<r.top||t.y>r.bottom||t.x<r.left-this.view.defaultCharacterWidth||t.x>r.right+this.view.defaultCharacterWidth)return;let s=this.view.bidiSpans(this.view.state.doc.lineAt(i)).find(l=>l.from<=i&&l.to>=i),o=s&&s.dir==un.RTL?-1:1,a=this.source(this.view,i,t.x<r.left?-o:o);if(null===(e=a)||void 0===e?void 0:e.then){let l=this.pending={pos:i};a.then(c=>{this.pending==l&&(this.pending=null,c&&this.view.dispatch({effects:this.setHover.of(c)}))},c=>or(this.view.state,c,"hover tooltip"))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!function(n){for(let e=n;e;e=e.parentNode)if(1==e.nodeType&&e.classList.contains("cm-tooltip"))return!0;return!1}(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,s=null!==(t=null==i?void 0:i.end)&&void 0!==t?t:r;(r==s?this.view.posAtCoords(this.lastMove)!=r:!function(n,e,t,i,r,s){let o=document.createRange(),a=n.domAtPos(e),l=n.domAtPos(t);o.setEnd(l.node,l.offset),o.setStart(a.node,a.offset);let c=o.getClientRects();o.detach();for(let u=0;u<c.length;u++){let d=c[u];if(Math.max(d.top-r,r-d.bottom,d.left-i,i-d.right)<=6)return!0}return!1}(this.view,r,s,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function pde(n,e={}){let t=Ot.define(),i=Rn.define({create:()=>null,update(r,s){if(r&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,r)))return null;if(r&&s.docChanged){let o=s.changes.mapPos(r.pos,-1,si.TrackDel);if(null==o)return null;let a=Object.assign(Object.create(null),r);a.pos=o,null!=r.end&&(a.end=s.changes.mapPos(r.end)),r=a}for(let o of s.effects)o.is(t)&&(r=o.value),o.is(gde)&&(r=null);return r},provide:r=>Th.from(r)});return[i,bn.define(r=>new dde(r,n,i,t,e.hoverTime||300)),ude]}const gde=Ot.define(),hx=Fe.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Eh(n,e){let t=n.plugin(nB),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const nB=bn.fromClass(class{constructor(n){this.input=n.state.facet(Mh),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(hx);this.top=new Jg(n,!0,e.topContainer),this.bottom=new Jg(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(hx);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Jg(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Jg(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Mh);if(t!=this.input){let i=t.filter(l=>l),r=[],s=[],o=[],a=[];for(let l of i){let u,c=this.specs.indexOf(l);c<0?(u=l(n.view),a.push(u)):(u=this.panels[c],u.update&&u.update(n)),r.push(u),(u.top?s:o).push(u)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Et.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Jg{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=iB(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=iB(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function iB(n){let e=n.nextSibling;return n.remove(),e}const Mh=Fe.define({enables:nB});class Is extends il{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Is.prototype.elementClass="",Is.prototype.toDOM=void 0,Is.prototype.mapMode=si.TrackBefore,Is.prototype.startSide=Is.prototype.endSide=-1,Is.prototype.point=!0;const e_=Fe.define(),_de={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>cn.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},kh=Fe.define();function rB(n){return[sB(),kh.of(Object.assign(Object.assign({},_de),n))]}const fx=Fe.define({combine:n=>n.some(e=>e)});function sB(n){let e=[vde];return n&&!1===n.fixed&&e.push(fx.of(!0)),e}const vde=bn.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(kh).map(e=>new lB(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(fx),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<.8*(t.to-t.from))}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(fx)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=cn.iter(this.view.state.facet(e_),this.view.viewport.from),i=[],r=this.gutters.map(s=>new yde(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let o;if(Array.isArray(s.type)){for(let a of s.type)if(a.type==Yt.Text){o=a;break}}else o=s.type==Yt.Text?s:void 0;if(o){i.length&&(i=[]),aB(t,i,s.from);for(let a of r)a.line(this.view,o,i)}}for(let s of r)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(kh),t=n.state.facet(kh),i=n.docChanged||n.heightChanged||n.viewportChanged||!cn.eq(n.startState.facet(e_),n.state.facet(e_),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let o=e.indexOf(s);o<0?r.push(new lB(this.view,s)):(this.gutters[o].update(n),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>Et.scrollMargins.of(e=>{let t=e.plugin(n);return t&&0!=t.gutters.length&&t.fixed?e.textDirection==un.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null})});function oB(n){return Array.isArray(n)?n:[n]}function aB(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class yde{constructor(e,t,i){this.gutter=e,this.height=i,this.localMarkers=[],this.i=0,this.cursor=cn.iter(e.markers,t.from)}line(e,t,i){this.localMarkers.length&&(this.localMarkers=[]),aB(this.cursor,this.localMarkers,t.from);let r=i.length?this.localMarkers.concat(i):this.localMarkers,s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let o=this.gutter;if(0==r.length&&!o.config.renderEmptyElements)return;let a=t.top-this.height;if(this.i==o.elements.length){let l=new cB(e,t.height,a,r);o.elements.push(l),o.dom.appendChild(l.dom)}else o.elements[this.i].update(e,t.height,a,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class lB{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=e.lineBlockAtHeight(r.clientY-e.documentTop);t.domEventHandlers[i](e,s,r)&&r.preventDefault()});this.markers=oB(t.markers(e)),t.initialSpacer&&(this.spacer=new cB(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=oB(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!cn.eq(this.markers,t,i.from,i.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class cB{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),function(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(i+=" "+u);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(r);let d=r.nextSibling;r.remove(),r=d}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),c&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}const Ode=Fe.define(),Xc=Fe.define({combine:n=>Ms(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],o=t[r];i[r]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return i}})});class px extends Is{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function mx(n,e){return n.state.facet(Xc).formatNumber(e,n.state)}const wde=kh.compute([Xc],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Ode),lineMarker:(e,t,i)=>i.some(r=>r.toDOM)?null:new px(mx(e,e.state.doc.lineAt(t.from).number)),lineMarkerChange:e=>e.startState.facet(Xc)!=e.state.facet(Xc),initialSpacer:e=>new px(mx(e,uB(e.state.doc.lines))),updateSpacer(e,t){let i=mx(t.view,uB(t.view.state.doc.lines));return i==e.number?e:new px(i)},domEventHandlers:n.facet(Xc).domEventHandlers}));function Cde(n={}){return[Xc.of(n),sB(),wde]}function uB(n){let e=9;for(;e<n;)e=10*e+9;return e}const xde=new class extends Is{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Sde=e_.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges)if(i.empty){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(xde.range(r)))}return cn.of(e)});function Dde(){return Sde}const dB=1024;let Tde=0;class Tr{constructor(e,t){this.from=e,this.to=t}}class wt{constructor(e={}){this.id=Tde++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=Ai.match(e)),t=>{let i=e(t);return void 0===i?null:[this,i]}}}wt.closedBy=new wt({deserialize:n=>n.split(" ")}),wt.openedBy=new wt({deserialize:n=>n.split(" ")}),wt.group=new wt({deserialize:n=>n.split(" ")}),wt.contextHash=new wt({perNode:!0}),wt.lookAhead=new wt({perNode:!0}),wt.mounted=new wt({perNode:!0});const Mde=Object.create(null);class Ai{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):Mde,r=new Ai(e.name||"",t,e.id,(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0));if(e.props)for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(wt.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(wt.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?i.name:r[s]];if(o)return o}}}}Ai.none=new Ai("",Object.create(null),0,8);class t_{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}t.push(r?new Ai(i.name,r,i.id,i.flags):i)}return new t_(t)}}const n_=new WeakMap,hB=new WeakMap;var on=(()=>(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"}(on||(on={})),on))();class hn{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props["number"==typeof o?o:o.id]=a}}toString(){let e=this.prop(wt.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Ah(this.topNode,e)}cursorAt(e,t=0,i=0){let r=n_.get(this)||this.topNode,s=new Ah(r);return s.moveTo(e,t),n_.set(this,s._tree),s}get topNode(){return new Er(this,0,0,null)}resolve(e,t=0){let i=Zc(n_.get(this)||this.topNode,e,t,!1);return n_.set(this,i),i}resolveInner(e,t=0){let i=Zc(hB.get(this)||this.topNode,e,t,!0);return hB.set(this,i),i}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|on.IncludeAnonymous);;){let a=!1;if(o.from<=s&&o.to>=r&&(o.type.isAnonymous||!1!==t(o))){if(o.firstChild())continue;a=!0}for(;a&&i&&!o.type.isAnonymous&&i(o),!o.nextSibling();){if(!o.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:vx(Ai.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new hn(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new hn(Ai.none,t,i,r)))}static build(e){return function(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=dB,reused:s=[],minRepeatType:o=i.types.length}=n,a=Array.isArray(t)?new gx(t,t.length):t,l=i.types,c=0,u=0;function d(I,F,j,B,re){let{id:se,start:ee,end:ve,size:De}=a,Se=u;for(;De<0;){if(a.next(),-1==De)return j.push(s[se]),void B.push(ee-I);if(-3==De)return void(c=se);if(-4==De)return void(u=se);throw new RangeError(`Unrecognized record size: ${De}`)}let we,J,ke=l[se],C=ee-I;if(ve-ee<=r&&(J=function(I,F){let j=a.fork(),B=0,re=0,se=0,ee=j.end-r,ve={size:0,start:0,skip:0};e:for(let De=j.pos-I;j.pos>De;){let Se=j.size;if(j.id==F&&Se>=0){ve.size=B,ve.start=re,ve.skip=se,se+=4,B+=4,j.next();continue}let ke=j.pos-Se;if(Se<0||ke<De||j.start<ee)break;let we=j.id>=o?4:0,J=j.start;for(j.next();j.pos>ke;){if(j.size<0){if(-3!=j.size)break e;we+=4}else j.id>=o&&(we+=4);j.next()}re=J,B+=Se,se+=we}return(F<0||B==I)&&(ve.size=B,ve.start=re,ve.skip=se),ve.size>4?ve:void 0}(a.pos-F,re))){let S=new Uint16Array(J.size-J.skip),k=a.pos-J.size,L=S.length;for(;a.pos>k;)L=v(J.start,S,L);we=new ol(S,ve-J.start,i),C=J.start-I}else{let S=a.pos-De;a.next();let k=[],L=[],V=se>=o?se:-1,N=0,q=ve;for(;a.pos>S;)V>=0&&a.id==V&&a.size>=0?(a.end<=q-r&&(f(k,L,ee,N,a.end,q,V,Se),N=k.length,q=a.end),a.next()):d(ee,S,k,L,V);if(V>=0&&N>0&&N<k.length&&f(k,L,ee,N,ee,q,V,Se),k.reverse(),L.reverse(),V>-1&&N>0){let te=function(I){return(F,j,B)=>{let ee,ve,re=0,se=F.length-1;if(se>=0&&(ee=F[se])instanceof hn){if(!se&&ee.type==I&&ee.length==B)return ee;(ve=ee.prop(wt.lookAhead))&&(re=j[se]+ee.length+ve)}return p(I,F,j,B,re)}}(ke);we=vx(ke,k,L,0,k.length,0,ve-ee,te,te)}else we=p(ke,k,L,ve-ee,Se-ve)}j.push(we),B.push(C)}function f(I,F,j,B,re,se,ee,ve){let De=[],Se=[];for(;I.length>B;)De.push(I.pop()),Se.push(F.pop()+j-re);I.push(p(i.types[ee],De,Se,se-re,ve-se)),F.push(re-j)}function p(I,F,j,B,re=0,se){if(c){let ee=[wt.contextHash,c];se=se?[ee].concat(se):[ee]}if(re>25){let ee=[wt.lookAhead,re];se=se?[ee].concat(se):[ee]}return new hn(I,F,j,B,se)}function v(I,F,j){let{id:B,start:re,end:se,size:ee}=a;if(a.next(),ee>=0&&B<o){let ve=j;if(ee>4){let De=a.pos-(ee-4);for(;a.pos>De;)j=v(I,F,j)}F[--j]=ve,F[--j]=se-I,F[--j]=re-I,F[--j]=B}else-3==ee?c=B:-4==ee&&(u=B);return j}let O=[],b=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,O,b,-1);let x=null!==(e=n.length)&&void 0!==e?e:O.length?b[0]+O[0].length:0;return new hn(l[n.topID],O.reverse(),b.reverse(),x)}(e)}}hn.empty=new hn(Ai.none,[],[],0);class gx{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new gx(this.buffer,this.index)}}class ol{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Ai.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let i=this.buffer[e+3],r=this.set.types[this.buffer[e]],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),i==(e+=4))return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(fB(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i,r){let s=this.buffer,o=new Uint16Array(t-e);for(let a=e,l=0;a<t;)o[l++]=s[a++],o[l++]=s[a++]-i,o[l++]=s[a++]-i,o[l++]=s[a++]-e;return new ol(o,r-i,this.set)}}function fB(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function pB(n,e){let t=n.childBefore(e);for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}function Zc(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof Er&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=i?0:on.IgnoreOverlays;if(i)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Er&&o.index<0&&(null===(r=a.enter(e,t,s))||void 0===r?void 0:r.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class Er{constructor(e,t,i,r){this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+o.from;if(fB(r,i,d,d+u.length))if(u instanceof ol){if(s&on.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,t,i-d,r);if(h>-1)return new Ps(new kde(o,u,e,d),null,h)}else if(s&on.IncludeAnonymous||!u.type.isAnonymous||_x(u)){let h;if(!(s&on.IgnoreMounts)&&u.props&&(h=u.prop(wt.mounted))&&!h.overlay)return new Er(h.tree,d,e,o);let f=new Er(u,d,e,o);return s&on.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(t<0?u.children.length-1:0,t,i,r)}}if(s&on.IncludeAnonymous||!o.type.isAnonymous||(e=o.index>=0?o.index+t:t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&on.IgnoreOverlays)&&(r=this._tree.prop(wt.mounted))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Er(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Ah(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Zc(this,e,t,!1)}resolveInner(e,t=0){return Zc(this,e,t,!0)}enterUnfinishedNodesBefore(e){return pB(this,e)}getChild(e,t=null,i=null){let r=i_(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return i_(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return r_(this,e)}}function i_(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(null!=t)for(;!r.type.is(t);)if(!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function r_(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class kde{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class Ps{constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new Ps(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&on.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Ps(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ps(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Ps(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new Ah(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];return s>r&&(e.push(i.slice(r,s,i.buffer[this.index+1],i.buffer[this.index+2])),t.push(0)),new hn(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Zc(this,e,t,!1)}resolveInner(e,t=0){return Zc(this,e,t,!0)}enterUnfinishedNodesBefore(e){return pB(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let r=i_(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return i_(this,e,t,i)}get node(){return this}matchContext(e){return r_(this,e)}}class Ah{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Er)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Er?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return!(s<0)&&(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?!(i&on.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&on.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&on.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;({index:t,_parent:i}=i))if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&on.IncludeAnonymous||a instanceof ol||!a.type.isAnonymous||_x(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)t=new Ps(this.buffer,t,this.stack[r]);return this.bufferNode=new Ps(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return r_(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return r_(this.node,e,r);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function _x(n){return n.children.some(e=>e instanceof ol||!e.type.isAnonymous||_x(e))}const mB=new WeakMap;function s_(n,e){if(!n.isAnonymous||e instanceof ol||e.type!=n)return 1;let t=mB.get(e);if(null==t){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof hn)){t=1;break}t+=s_(n,i)}mB.set(e,t)}return t}function vx(n,e,t,i,r,s,o,a,l){let c=0;for(let p=i;p<r;p++)c+=s_(n,e[p]);let u=Math.ceil(1.5*c/8),d=[],h=[];return function f(p,m,v,O,b){for(let x=v;x<O;){let I=x,F=m[x],j=s_(n,p[x]);for(x++;x<O;x++){let B=s_(n,p[x]);if(j+B>=u)break;j+=B}if(x==I+1){if(j>u){let B=p[I];f(B.children,B.positions,0,B.children.length,m[I]+b);continue}d.push(p[I])}else d.push(vx(n,p,m,I,x,F,m[x-1]+p[x-1].length-F,null,l));h.push(F+b-s)}}(e,t,i,r,0),(a||l)(d,h,o)}class bo{constructor(e,t,i,r,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],i=!1){let r=[new bo(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,d=u?u.fromA:1e9;if(d-l>=i)for(;o&&o.from<d;){let h=o;if(l>=h.from||d<=h.to||c){let f=Math.max(h.from,l)-c,p=Math.min(h.to,d)-c;h=f>=p?null:new bo(f,p,h.tree,h.offset+c,a>0,!!u)}if(h&&r.push(h),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return r}}class gB{startParse(e,t,i){return"string"==typeof e&&(e=new Rde(e)),i=i?i.length?i.map(r=>new Tr(r.from,r.to)):[new Tr(0,0)]:[new Tr(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class Rde{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new wt({perNode:!0});let Bde=0;class Fs{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=Bde++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new Fs([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new o_;return t=>t.modified.indexOf(e)>-1?t:o_.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let Qde=0;class o_{constructor(){this.instances=[],this.id=Qde++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&function(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}(t,a.modified));if(i)return i;let r=[],s=new Fs(r,e,t);for(let a of t)a.instances.push(s);let o=wB(t);for(let a of e.set)for(let l of o)r.push(o_.get(a,l));return s}}function wB(n){let e=[n];for(let t=0;t<n.length;t++)for(let i of wB(n.slice(0,t).concat(n.slice(t+1))))e.push(i);return e}function CB(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],o=2,a=r;for(let d=0;;){if("..."==a&&d>0&&d+3==r.length){o=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!h)throw new RangeError("Invalid path: "+r);if(s.push("*"==h[0]?"":'"'==h[0][0]?JSON.parse(h[0]):h[0]),d+=h[0].length,d==r.length)break;let f=r[d++];if(d==r.length&&"!"==f){o=0;break}if("/"!=f)throw new RangeError("Invalid path: "+r);a=r.slice(d)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+r);let u=new jde(i,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return xB.add(e)}const xB=new wt;class jde{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function SB(n,e){let t=Object.create(null);for(let s of n)if(Array.isArray(s.tag))for(let o of s.tag)t[o.id]=s.class;else t[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function Ude(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function Hde(n,e,t,i=0,r=n.length){let s=new Wde(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class Wde{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter(f=>!f.scope||f.scope(o)));let c=r,u=o.prop(xB),d=!1;for(;u;){if(!u.context||e.matchContext(u.context)){let f=Ude(s,u.tags);f&&(c&&(c+=" "),c+=f,1==u.mode?r+=(r?" ":"")+f:0==u.mode&&(d=!0));break}u=u.next}if(this.startSpan(e.from,c),d)return;let h=e.tree&&e.tree.prop(wt.mounted);if(h&&h.overlay){let f=e.node.enter(h.overlay[0].from+a,1),p=this.highlighters.filter(v=>!v.scope||v.scope(h.tree.type)),m=e.firstChild();for(let v=0,O=a;;v++){let b=v<h.overlay.length?h.overlay[v]:null,x=b?b.from+a:l,I=Math.max(t,O),F=Math.min(i,x);if(I<F&&m)for(;e.from<F&&(this.highlightRange(e,I,F,r,s),this.startSpan(Math.min(i,e.to),c),!(e.to>=x)&&e.nextSibling()););if(!b||x>i)break;O=b.to+a,O>t&&(this.highlightRange(f.cursor(),Math.max(t,b.from+a),Math.min(i,O),r,p),this.startSpan(O,c))}m&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),c)}}while(e.nextSibling());e.parent()}}}const Oe=Fs.define,a_=Oe(),ra=Oe(),DB=Oe(ra),TB=Oe(ra),sa=Oe(),l_=Oe(sa),bx=Oe(sa),Ns=Oe(),al=Oe(Ns),Ls=Oe(),$s=Oe(),Ox=Oe(),Rh=Oe(Ox),c_=Oe(),G={comment:a_,lineComment:Oe(a_),blockComment:Oe(a_),docComment:Oe(a_),name:ra,variableName:Oe(ra),typeName:DB,tagName:Oe(DB),propertyName:TB,attributeName:Oe(TB),className:Oe(ra),labelName:Oe(ra),namespace:Oe(ra),macroName:Oe(ra),literal:sa,string:l_,docString:Oe(l_),character:Oe(l_),attributeValue:Oe(l_),number:bx,integer:Oe(bx),float:Oe(bx),bool:Oe(sa),regexp:Oe(sa),escape:Oe(sa),color:Oe(sa),url:Oe(sa),keyword:Ls,self:Oe(Ls),null:Oe(Ls),atom:Oe(Ls),unit:Oe(Ls),modifier:Oe(Ls),operatorKeyword:Oe(Ls),controlKeyword:Oe(Ls),definitionKeyword:Oe(Ls),moduleKeyword:Oe(Ls),operator:$s,derefOperator:Oe($s),arithmeticOperator:Oe($s),logicOperator:Oe($s),bitwiseOperator:Oe($s),compareOperator:Oe($s),updateOperator:Oe($s),definitionOperator:Oe($s),typeOperator:Oe($s),controlOperator:Oe($s),punctuation:Ox,separator:Oe(Ox),bracket:Rh,angleBracket:Oe(Rh),squareBracket:Oe(Rh),paren:Oe(Rh),brace:Oe(Rh),content:Ns,heading:al,heading1:Oe(al),heading2:Oe(al),heading3:Oe(al),heading4:Oe(al),heading5:Oe(al),heading6:Oe(al),contentSeparator:Oe(Ns),list:Oe(Ns),quote:Oe(Ns),emphasis:Oe(Ns),strong:Oe(Ns),link:Oe(Ns),monospace:Oe(Ns),strikethrough:Oe(Ns),inserted:Oe(),deleted:Oe(),changed:Oe(),invalid:Oe(),meta:c_,documentMeta:Oe(c_),annotation:Oe(c_),processingInstruction:Oe(c_),definition:Fs.defineModifier(),constant:Fs.defineModifier(),function:Fs.defineModifier(),standard:Fs.defineModifier(),local:Fs.defineModifier(),special:Fs.defineModifier()};var wx;SB([{tag:G.link,class:"tok-link"},{tag:G.heading,class:"tok-heading"},{tag:G.emphasis,class:"tok-emphasis"},{tag:G.strong,class:"tok-strong"},{tag:G.keyword,class:"tok-keyword"},{tag:G.atom,class:"tok-atom"},{tag:G.bool,class:"tok-bool"},{tag:G.url,class:"tok-url"},{tag:G.labelName,class:"tok-labelName"},{tag:G.inserted,class:"tok-inserted"},{tag:G.deleted,class:"tok-deleted"},{tag:G.literal,class:"tok-literal"},{tag:G.string,class:"tok-string"},{tag:G.number,class:"tok-number"},{tag:[G.regexp,G.escape,G.special(G.string)],class:"tok-string2"},{tag:G.variableName,class:"tok-variableName"},{tag:G.local(G.variableName),class:"tok-variableName tok-local"},{tag:G.definition(G.variableName),class:"tok-variableName tok-definition"},{tag:G.special(G.variableName),class:"tok-variableName2"},{tag:G.definition(G.propertyName),class:"tok-propertyName tok-definition"},{tag:G.typeName,class:"tok-typeName"},{tag:G.namespace,class:"tok-namespace"},{tag:G.className,class:"tok-className"},{tag:G.macroName,class:"tok-macroName"},{tag:G.propertyName,class:"tok-propertyName"},{tag:G.operator,class:"tok-operator"},{tag:G.comment,class:"tok-comment"},{tag:G.meta,class:"tok-meta"},{tag:G.invalid,class:"tok-invalid"},{tag:G.punctuation,class:"tok-punctuation"}]);const Yc=new wt;let Mr=(()=>{class n{constructor(t,i,r=[]){this.data=t,Dr.prototype.hasOwnProperty("tree")||Object.defineProperty(Dr.prototype,"tree",{get(){return In(this)}}),this.parser=i,this.extension=[oa.of(this),Dr.languageData.of((s,o,a)=>s.facet(MB(s,o,a)))].concat(r)}isActiveAt(t,i,r=-1){return MB(t,i,r)==this.data}findRegions(t){let i=t.facet(oa);if((null==i?void 0:i.data)==this.data)return[{from:0,to:t.doc.length}];if(!i||!i.allowsNesting)return[];let r=[],s=(o,a)=>{if(o.prop(Yc)==this.data)return void r.push({from:a,to:a+o.length});let l=o.prop(wt.mounted);if(l){if(l.tree.prop(Yc)==this.data){if(l.overlay)for(let c of l.overlay)r.push({from:c.from+a,to:c.to+a});else r.push({from:a,to:a+o.length});return}if(l.overlay){let c=r.length;if(s(l.tree,l.overlay[0].from+a),r.length>c)return}}for(let c=0;c<o.children.length;c++){let u=o.children[c];u instanceof hn&&s(u,o.positions[c]+a)}};return s(In(t),0),r}get allowsNesting(){return!0}}return n.setState=Ot.define(),n})();function MB(n,e,t){let i=n.facet(oa);if(!i)return null;let r=i.data;if(i.allowsNesting)for(let s=In(n).topNode;s;s=s.enter(e,t,on.ExcludeBuffers))r=s.type.prop(Yc)||r;return r}class u_ extends Mr{constructor(e,t){super(e,t),this.parser=t}static define(e){let t=function(n){return Fe.define({combine:n?e=>e.concat(n):void 0})}(e.languageData);return new u_(t,e.parser.configure({props:[Yc.add(i=>i.isTop?t:void 0)]}))}configure(e){return new u_(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasWrappers()}}function In(n){let e=n.field(Mr.state,!1);return e?e.tree:hn.empty}class qde{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Ih=null;class Ph{constructor(e,t,i=[],r,s,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}startParse(){return this.parser.startParse(new qde(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=hn.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if("number"==typeof e){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(bo.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(i=this.parse.stoppedAt)&&void 0!==i?i:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(bo.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Ih;Ih=this;try{return e()}finally{Ih=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=kB(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,h)=>l.push({fromA:c,toA:u,fromB:d,toB:h})),i=bo.applyChanges(i,l),r=hn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new Ph(this.parser,t,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=kB(this.fragments,r,s),this.skipped.splice(i--,1))}return!(this.skipped.length>=t||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends gB{createParse(t,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=Ih;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new hn(Ai.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return Ih}}function kB(n,e,t){return bo.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Kc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Kc(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=new Ph(e.facet(oa).parser,e,[],hn.empty,0,{from:0,to:t},[],null);return i.work(20,t)||i.takeTree(),new Kc(i)}}Mr.state=Rn.define({create:Kc.init,update(n,e){for(let t of e.effects)if(t.is(Mr.setState))return t.value;return e.startState.facet(oa)!=e.state.facet(oa)?Kc.init(e.state):n.apply(e)}});let AB=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(AB=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Cx="undefined"!=typeof navigator&&(null===(wx=navigator.scheduling)||void 0===wx?void 0:wx.isInputPending)?()=>navigator.scheduling.isInputPending():null,RB=bn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Mr.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Mr.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=AB(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(Mr.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Cx?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&i.doc.length>r+1e3,l=s.context.work(()=>Cx&&Cx()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Mr.setState.of(new Kc(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>or(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),oa=Fe.define({combine:n=>n.length?n[0]:null,enables:[Mr.state,RB]});class Gde{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const PB=Fe.define(),d_=Fe.define({combine:n=>{if(!n.length)return"  ";if(!/^(?: +|\t+)$/.test(n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return n[0]}});function ll(n){let e=n.facet(d_);return 9==e.charCodeAt(0)?n.tabSize*e.length:e.length}function Fh(n,e){let t="",i=n.tabSize;if(9==n.facet(d_).charCodeAt(0))for(;e>=i;)t+="\t",e-=i;for(let r=0;r<e;r++)t+=" ";return t}function xx(n,e){n instanceof Dr&&(n=new h_(n));for(let i of n.state.facet(PB)){let r=i(n,e);if(null!=r)return r}let t=In(n.state);return t?function(n,e,t){return NB(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}(n,t,e):null}class h_{constructor(e,t={}){this.state=e,this.options=t,this.unit=ll(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return null!=r&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return mh(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const FB=new wt;function Yde(n){let e=n.type.prop(FB);if(e)return e;let i,t=n.firstChild;if(t&&(i=t.type.prop(wt.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>LB(o,!0,1,void 0,s&&!function(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}(o)?r.from:void 0)}return null==n.parent?Kde:null}function NB(n,e,t){for(;n;n=n.parent){let i=Yde(n);if(i)return i(new Jde(t,e,n))}return null}function Kde(){return 0}class Jde extends h_{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(ehe(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?NB(e,this.pos,this.base):0}}function ehe(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function nhe({closing:n,align:e=!0,units:t=1}){return i=>LB(i,e,t,n)}function LB(n,e,t,i,r){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==n.pos+o,l=e?function(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=null==r||r<=s.from?s.to:Math.min(s.to,r);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<o?t:null;a=l.to}}(n):null;return l?n.column(a?l.from:l.to):n.baseIndent+(a?0:n.unit*t)}function Sx({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}function she(){return Dr.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+200)return n;let s=t.sliceString(r.from,i);if(!e.some(c=>c.test(s)))return n;let{state:o}=n,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let d=xx(o,u.from);if(null==d)continue;let h=/^\s*/.exec(u.text)[0],f=Fh(o,d);h!=f&&l.push({from:u.from,to:u.from+h.length,insert:f})}return l.length?[n,{changes:l,sequential:!0}]:n})}const ohe=Fe.define(),$B=new wt;function che(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function f_(n,e,t){for(let i of n.facet(ohe)){let r=i(n,e,t);if(r)return r}return function(n,e,t){let i=In(n);if(i.length<t)return null;let s=null;for(let o=i.resolveInner(t);o;o=o.parent){if(o.to<=t||o.from>t)continue;if(s&&o.from<e)break;let a=o.type.prop($B);if(a&&(o.to<i.length-50||i.length==n.doc.length||!che(o))){let l=a(o,n);l&&l.from<=t&&l.from>=e&&l.to>t&&(s=l)}}return s}(n,e,t)}function BB(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const p_=Ot.define({map:BB}),Nh=Ot.define({map:BB});function QB(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const aa=Rn.define({create:()=>Le.none,update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(p_)&&!uhe(n,t.value.from,t.value.to)?n=n.update({add:[mhe.range(t.value.from,t.value.to)]}):t.is(Nh)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(r,s)=>{r<i&&s>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(r,s)=>s<=i||r>=i}))}return n},provide:n=>Et.decorations.from(n)});function m_(n,e,t){var i;let r=null;return null===(i=n.field(aa,!1))||void 0===i||i.between(e,t,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function uhe(n,e,t){let i=!1;return n.between(e,e,(r,s)=>{r==e&&s==t&&(i=!0)}),i}function VB(n,e){return n.field(aa,!1)?e:e.concat(Ot.appendConfig.of(HB()))}function jB(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return Et.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const fhe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:n=>{for(let e of QB(n)){let t=f_(n.state,e.from,e.to);if(t)return n.dispatch({effects:VB(n.state,[p_.of(t),jB(n,t)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:n=>{if(!n.state.field(aa,!1))return!1;let e=[];for(let t of QB(n)){let i=m_(n.state,t.from,t.to);i&&e.push(Nh.of(i),jB(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),s=f_(e,r.from,r.to);s&&t.push(p_.of(s)),i=(s?n.lineBlockAt(s.to):r).to+1}return t.length&&n.dispatch({effects:VB(n.state,t)}),!!t.length}},{key:"Ctrl-Alt-]",run:n=>{let e=n.state.field(aa,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(Nh.of({from:i,to:r}))}),n.dispatch({effects:t}),!0}}],phe={placeholderDOM:null,placeholderText:"\u2026"},UB=Fe.define({combine:n=>Ms(n,phe)});function HB(n){let e=[aa,vhe];return n&&e.push(UB.of(n)),e}const mhe=Le.replace({widget:new class extends yo{toDOM(n){let{state:e}=n,t=e.facet(UB),i=s=>{let o=n.lineBlockAt(n.posAtDOM(s.target)),a=m_(n.state,o.from,o.to);a&&n.dispatch({effects:Nh.of(a)}),s.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(n,i);let r=document.createElement("span");return r.textContent=t.placeholderText,r.setAttribute("aria-label",e.phrase("folded code")),r.title=e.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=i,r}}}),ghe={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{}};class Dx extends Is{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function _he(n={}){let e=Object.assign(Object.assign({},ghe),n),t=new Dx(e,!0),i=new Dx(e,!1),r=bn.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(oa)!=o.state.facet(oa)||o.startState.field(aa,!1)!=o.state.field(aa,!1)||In(o.startState)!=In(o.state))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Zo;for(let l of o.viewportLineBlocks){let c=m_(o.state,l.from,l.to)?i:f_(o.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[r,rB({class:"cm-foldGutter",markers(o){var a;return(null===(a=o.plugin(r))||void 0===a?void 0:a.markers)||cn.empty},initialSpacer:()=>new Dx(e,!1),domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=m_(o.state,a.from,a.to);if(c)return o.dispatch({effects:Nh.of(c)}),!0;let u=f_(o.state,a.from,a.to);return!!u&&(o.dispatch({effects:p_.of(u)}),!0)}})}),HB()]}const vhe=Et.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class g_{constructor(e,t){let i;function r(o){let a=Yo.newName();return(i||(i=Object.create(null)))["."+a]=o,a}const s=t.scope;this.scope=s instanceof Mr?o=>o.prop(Yc)==s.data:s?o=>o==s:void 0,this.style=SB(e.map(o=>({tag:o.tag,class:o.class||r(Object.assign({},o,{tag:null}))})),{all:"string"==typeof t.all?t.all:t.all?r(t.all):void 0}).style,this.module=i?new Yo(i):null,this.themeType=t.themeType}static define(e,t){return new g_(e,t||{})}}const Tx=Fe.define(),WB=Fe.define({combine:n=>n.length?[n[0]]:null});function __(n){let e=n.facet(Tx);return e.length?e:n.facet(WB)}function yhe(n,e){let i,t=[Ohe];return n instanceof g_&&(n.module&&t.push(Et.styleModule.of(n.module)),i=n.themeType),t.push((null==e?void 0:e.fallback)?WB.of(n):i?Tx.computeN([Et.darkTheme],r=>r.facet(Et.darkTheme)==("dark"==i)?[n]:[]):Tx.of(n)),t}class bhe{constructor(e){this.markCache=Object.create(null),this.tree=In(e.state),this.decorations=this.buildDeco(e,__(e.state))}update(e){let t=In(e.state),i=__(e.state),r=i!=__(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return Le.none;let i=new Zo;for(let{from:r,to:s}of e.visibleRanges)Hde(this.tree,t,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=Le.mark({class:l})))},r,s);return i.finish()}}const Ohe=Uc.high(bn.fromClass(bhe,{decorations:n=>n.decorations})),whe=g_.define([{tag:G.meta,color:"#7a757a"},{tag:G.link,textDecoration:"underline"},{tag:G.heading,textDecoration:"underline",fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strong,fontWeight:"bold"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.keyword,color:"#708"},{tag:[G.atom,G.bool,G.url,G.contentSeparator,G.labelName],color:"#219"},{tag:[G.literal,G.inserted],color:"#164"},{tag:[G.string,G.deleted],color:"#a11"},{tag:[G.regexp,G.escape,G.special(G.string)],color:"#e40"},{tag:G.definition(G.variableName),color:"#00f"},{tag:G.local(G.variableName),color:"#30a"},{tag:[G.typeName,G.namespace],color:"#085"},{tag:G.className,color:"#167"},{tag:[G.special(G.variableName),G.macroName],color:"#256"},{tag:G.definition(G.propertyName),color:"#00c"},{tag:G.comment,color:"#940"},{tag:G.invalid,color:"#f00"}]),Che=Et.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),GB=Fe.define({combine:n=>Ms(n,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4,renderMatch:Dhe})}),xhe=Le.mark({class:"cm-matchingBracket"}),She=Le.mark({class:"cm-nonmatchingBracket"});function Dhe(n){let e=[],t=n.matched?xhe:She;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const The=[Rn.define({create:()=>Le.none,update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(GB);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=Bs(e.state,r.head,-1,i)||r.head>0&&Bs(e.state,r.head-1,1,i)||i.afterCursor&&(Bs(e.state,r.head,1,i)||r.head<e.state.doc.length&&Bs(e.state,r.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return Le.set(t,!0)},provide:n=>Et.decorations.from(n)}),Che];function Ehe(n={}){return[GB.of(n),The]}function Ex(n,e,t){let i=n.prop(e<0?wt.openedBy:wt.closedBy);if(i)return i;if(1==n.name.length){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function Bs(n,e,t,i={}){let r=i.maxScanDistance||1e4,s=i.brackets||"()[]{}",o=In(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=Ex(l.type,t,s);if(c&&l.from<l.to)return Mhe(0,0,t,l,c,s)}return function(n,e,t,i,r,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let h=0;!u.next().done&&h<=s;){let f=u.value;t<0&&(h+=f.length);let p=e+h*t;for(let m=t>0?0:f.length-1,v=t>0?f.length:-1;m!=v;m+=t){let O=o.indexOf(f[m]);if(!(O<0||i.resolve(p+m,1).type!=r))if(O%2==0==t>0)d++;else{if(1==d)return{start:c,end:{from:p+m,to:p+m+1},matched:O>>1==l>>1};d--}}t>0&&(h+=f.length)}return u.done?{start:c,matched:!1}:null}(n,e,t,o,a.type,r,s)}function Mhe(n,e,t,i,r,s){let o=i.parent,a={from:i.from,to:i.to},l=0,c=null==o?void 0:o.cursor();if(c&&(t<0?c.childBefore(i.from):c.childAfter(i.to)))do{if(t<0?c.to<=i.from:c.from>=i.to){if(0==l&&r.indexOf(c.type.name)>-1&&c.from<c.to)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(Ex(c.type,t,s))l++;else if(Ex(c.type,-t,s)&&(l--,0==l))return{start:a,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1}}}while(t<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}const kx=Object.create(null),Lh=[Ai.none],eQ=[],tQ=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])tQ[n]=iQ(kx,e);function Ax(n,e){eQ.indexOf(n)>-1||(eQ.push(n),console.warn(e))}function iQ(n,e){let t=null;for(let s of e.split(".")){let o=n[s]||G[s];o?"function"==typeof o?t?t=o(t):Ax(s,`Modifier ${s} used at start of tag`):t?Ax(s,`Tag ${s} used as modifier`):t=o:Ax(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),r=Ai.define({id:Lh.length,name:i,props:[CB({[i]:t})]});return Lh.push(r),r.id}function Rx(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return!!r&&(i(t.update(r)),!0)}}const Bhe=Rx(Hhe,0),Qhe=Rx(rQ,0),Vhe=Rx((n,e)=>rQ(n,e,function(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from,to:r.to})}return e}(e)),0);function Ix(n,e=n.selection.main.head){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}function rQ(n,e,t=e.selection.ranges){let i=t.map(s=>Ix(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,o)=>function(n,{open:e,close:t},i,r){let u,d,s=n.sliceDoc(i-50,i),o=n.sliceDoc(r,r+50),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};r-i<=100?u=d=n.sliceDoc(i,r):(u=n.sliceDoc(i,i+50),d=n.sliceDoc(r-50,r));let h=/^\s*/.exec(u)[0].length,f=/\s*$/.exec(d)[0].length,p=d.length-f-t.length;return u.slice(h,h+e.length)==e&&d.slice(p,p+t.length)==t?{open:{pos:i+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:r-f-t.length,margin:/\s/.test(d.charAt(p-1))?1:0}}:null}(e,i[o],s.from,s.to));if(2!=n&&!r.every(s=>s))return{changes:e.changes(t.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(1!=n&&r.some(s=>s)){let s=[];for(let a,o=0;o<r.length;o++)if(a=r[o]){let l=i[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function Hhe(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of t){let a=i.length,l=1e9;for(let c=s;c<=o;){let u=e.doc.lineAt(c);if(u.from>r&&(s==o||o>u.from)){r=u.from;let d=Ix(e,c).line;if(!d)continue;let h=/^\s*/.exec(u.text)[0].length,f=h==u.length,p=u.text.slice(h,h+d.length)==d?h:-1;h<u.text.length&&h<l&&(l=h),i.push({line:u,comment:p,token:d,indent:h,empty:f,single:!1})}c=u.to+1}if(l<1e9)for(let c=a;c<i.length;c++)i[c].indent<i[c].line.text.length&&(i[c].indent=l);i.length==a+1&&(i[a].single=!0)}if(2!=n&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:d}of i)(d||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}if(1!=n&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let c=o.from+a,u=c+l.length;" "==o.text[u-o.from]&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const Px=Xo.define(),Whe=Xo.define(),zhe=Fe.define(),sQ=Fe.define({combine:n=>Ms(n,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}),Fx=Rn.define({create:()=>Lx.empty,update(n,e){let t=e.state.facet(sQ),i=e.annotation(Px);if(i){let l=e.docChanged?le.single(function(n){let e=0;return n.iterChangedRanges((t,i)=>e=i),e}(e.changes)):void 0,c=Vi.fromTransaction(e,l),u=i.side,d=0==u?n.undone:n.done;return d=c?y_(d,d.length,t.minDepth,c):cQ(d,e.startState.selection),new Lx(0==u?i.rest:d,0==u?d:i.rest)}let r=e.annotation(Whe);if(("full"==r||"before"==r)&&(n=n.isolate()),!1===e.annotation(Es.addToHistory))return e.changes.empty?n:n.addMapping(e.changes.desc);let s=Vi.fromTransaction(e),o=e.annotation(Es.time),a=e.annotation(Es.userEvent);return s?n=n.addChanges(s,o,a,t.newGroupDelay,t.minDepth):e.selection&&(n=n.addSelection(e.startState.selection,o,a,t.newGroupDelay)),("full"==r||"after"==r)&&(n=n.isolate()),n},toJSON:n=>({done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}),fromJSON:n=>new Lx(n.done.map(Vi.fromJSON),n.undone.map(Vi.fromJSON))});function Ghe(n={}){return[Fx,sQ.of(n),Et.domEventHandlers({beforeinput(e,t){let i="historyUndo"==e.inputType?oQ:"historyRedo"==e.inputType?aQ:null;return!!i&&(e.preventDefault(),i(t))}})]}function v_(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(Fx,!1);if(!r)return!1;let s=r.pop(n,t,e);return!!s&&(i(s),!0)}}const oQ=v_(0,!1),aQ=v_(1,!1),Xhe=v_(0,!0),Zhe=v_(1,!0);class Vi{constructor(e,t,i,r,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new Vi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(i=this.startSelection)||void 0===i?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Vi(e.changes&&Gn.fromJSON(e.changes),[],e.mapped&&vo.fromJSON(e.mapped),e.startSelection&&le.fromJSON(e.startSelection),e.selectionsAfter.map(le.fromJSON))}static fromTransaction(e,t){let i=kr;for(let r of e.startState.facet(zhe)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new Vi(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,kr)}static selection(e){return new Vi(void 0,kr,void 0,void 0,e)}}function y_(n,e,t,i){let s=n.slice(e+1>t+20?e-t-1:0,e);return s.push(i),s}function lQ(n,e){return n.length?e.length?n.concat(e):n:e}const kr=[];function cQ(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-200));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),y_(n,n.length-1,1e9,t.setSelAfter(i)))}return[Vi.selection([e])]}function efe(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Nx(n,e){if(!n.length)return n;let t=n.length,i=kr;for(;t;){let r=tfe(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=n.slice(0,t);return s[t-1]=r,s}e=r.mapped,t--,i=r.selectionsAfter}return i.length?[Vi.selection(i)]:kr}function tfe(n,e,t){let i=lQ(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):kr,t);if(!n.changes)return Vi.selection(i);let r=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new Vi(r,Ot.mapEffects(n.effects,e),o,n.startSelection.map(s),i)}const nfe=/^(input\.type|delete)($|\.)/;let Lx=(()=>{class n{constructor(t,i,r=0,s){this.done=t,this.undone=i,this.prevTime=r,this.prevUserEvent=s}isolate(){return this.prevTime?new n(this.done,this.undone):this}addChanges(t,i,r,s,o){let a=this.done,l=a[a.length-1];return a=l&&l.changes&&!l.changes.empty&&t.changes&&(!r||nfe.test(r))&&(!l.selectionsAfter.length&&i-this.prevTime<s&&function(n,e){let t=[],i=!1;return n.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];a>=c&&o<=u&&(i=!0)}}),i}(l.changes,t.changes)||"input.type.compose"==r)?y_(a,a.length-1,o,new Vi(t.changes.compose(l.changes),lQ(t.effects,l.effects),l.mapped,l.startSelection,kr)):y_(a,a.length,o,t),new n(a,kr,i,r)}addSelection(t,i,r,s){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:kr;return o.length>0&&i-this.prevTime<s&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&function(n,e){return n.ranges.length==e.ranges.length&&0===n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length}(o[o.length-1],t)?this:new n(cQ(this.done,t),this.undone,i,r)}addMapping(t){return new n(Nx(this.done,t),Nx(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,i,r){let s=0==t?this.done:this.undone;if(0==s.length)return null;let o=s[s.length-1];if(r&&o.selectionsAfter.length)return i.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Px.of({side:t,rest:efe(s)}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=1==s.length?kr:s.slice(0,s.length-1);return o.mapped&&(a=Nx(a,o.mapped)),i.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Px.of({side:t,rest:a}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}return n.empty=new n(kr,kr),n})();const ife=[{key:"Mod-z",run:oQ,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:aQ,preventDefault:!0},{key:"Mod-u",run:Xhe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Zhe,preventDefault:!0}];function Jc(n,e){return le.create(n.ranges.map(e),n.mainIndex)}function Qs(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Vs({state:n,dispatch:e},t){let i=Jc(n.selection,t);return!i.eq(n.selection)&&(e(Qs(n,i)),!0)}function Bh(n,e){return le.cursor(e?n.to:n.from)}function b_(n,e){return Vs(n,t=>t.empty?n.moveByChar(t,e):Bh(t,e))}function Ar(n){return n.textDirectionAt(n.state.selection.main.head)==un.LTR}const uQ=n=>b_(n,!Ar(n)),dQ=n=>b_(n,Ar(n));function O_(n,e){return Vs(n,t=>t.empty?n.moveByGroup(t,e):Bh(t,e))}function ofe(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function w_(n,e,t){let o,a,i=In(n).resolveInner(e.head),r=t?wt.closedBy:wt.openedBy;for(let l=e.head;;){let c=t?i.childAfter(l):i.childBefore(l);if(!c)break;ofe(n,c,r)?i=c:l=t?c.to:c.from}return a=i.type.prop(r)&&(o=t?Bs(n,i.from,1):Bs(n,i.to,-1))&&o.matched?t?o.end.to:o.end.from:t?i.to:i.from,le.cursor(a,t?-1:1)}function pQ(n,e){return Vs(n,t=>{if(!t.empty)return Bh(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const mQ=n=>pQ(n,!1),gQ=n=>pQ(n,!0);function _Q(n,e){let{state:t}=n,i=Jc(t.selection,a=>a.empty?n.moveVertically(a,e,Math.min(n.dom.clientHeight,innerHeight)):Bh(a,e));if(i.eq(t.selection))return!1;let o,r=n.coordsAtPos(t.selection.main.head),s=n.scrollDOM.getBoundingClientRect();return r&&r.top>s.top&&r.bottom<s.bottom&&r.top-s.top<=n.scrollDOM.scrollHeight-n.scrollDOM.scrollTop-n.scrollDOM.clientHeight&&(o=Et.scrollIntoView(i.main.head,{y:"start",yMargin:r.top-s.top})),n.dispatch(Qs(t,i),{effects:o}),!0}const vQ=n=>_Q(n,!1),$x=n=>_Q(n,!0);function C_(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=le.cursor(i.from+s))}return r}const yQ=n=>Vs(n,e=>C_(n,e,!0)),bQ=n=>Vs(n,e=>C_(n,e,!1));function Yr(n,e){let t=Jc(n.state.selection,i=>{let r=e(i);return le.range(i.anchor,r.head,r.goalColumn)});return!t.eq(n.state.selection)&&(n.dispatch(Qs(n.state,t)),!0)}function x_(n,e){return Yr(n,t=>n.moveByChar(t,e))}const wQ=n=>x_(n,!Ar(n)),CQ=n=>x_(n,Ar(n));function S_(n,e){return Yr(n,t=>n.moveByGroup(t,e))}function SQ(n,e){return Yr(n,t=>n.moveVertically(t,e))}const DQ=n=>SQ(n,!1),TQ=n=>SQ(n,!0);function EQ(n,e){return Yr(n,t=>n.moveVertically(t,e,Math.min(n.dom.clientHeight,innerHeight)))}const MQ=n=>EQ(n,!1),kQ=n=>EQ(n,!0),AQ=n=>Yr(n,e=>C_(n,e,!0)),RQ=n=>Yr(n,e=>C_(n,e,!1)),IQ=({state:n,dispatch:e})=>(e(Qs(n,{anchor:0})),!0),PQ=({state:n,dispatch:e})=>(e(Qs(n,{anchor:n.doc.length})),!0),FQ=({state:n,dispatch:e})=>(e(Qs(n,{anchor:n.selection.main.anchor,head:0})),!0),NQ=({state:n,dispatch:e})=>(e(Qs(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0);function D_({state:n,dispatch:e},t){if(n.readOnly)return!1;let i="delete.selection",r=n.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=t(o);l<o?i="delete.backward":l>o&&(i="delete.forward"),o=Math.min(o,l),a=Math.max(a,l)}return o==a?{range:s}:{changes:{from:o,to:a},range:le.cursor(o)}});return!r.changes.empty&&(e(n.update(r,{scrollIntoView:!0,userEvent:i})),!0)}function T_(n,e,t){if(n instanceof Et)for(let i of n.state.facet(Et.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const LQ=(n,e)=>D_(n,t=>{let s,o,{state:i}=n,r=i.doc.lineAt(t);if(!e&&t>r.from&&t<r.from+200&&!/[^ \t]/.test(s=r.text.slice(0,t-r.from))){if("\t"==s[s.length-1])return t-1;let l=mh(s,i.tabSize)%ll(i)||ll(i);for(let c=0;c<l&&" "==s[s.length-1-c];c++)t--;o=t}else o=rr(r.text,t-r.from,e,e)+r.from,o==t&&r.number!=(e?i.doc.lines:1)&&(o+=e?1:-1);return T_(n,o,e)}),Bx=n=>LQ(n,!1),$Q=n=>LQ(n,!0),BQ=(n,e)=>D_(n,t=>{let i=t,{state:r}=n,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==t&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=rr(s.text,i-s.from,e)+s.from,c=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),u=o(c);if(null!=a&&u!=a)break;(" "!=c||i!=t)&&(a=u),i=l}return T_(n,i,e)}),QQ=n=>BQ(n,!1),VQ=n=>D_(n,e=>{let t=n.lineBlockAt(e).to;return T_(n,e<t?t:Math.min(n.state.doc.length,e+1),!0)});function E_(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function jQ(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of E_(n)){if(t?s.to==n.doc.length:0==s.from)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)r.push(le.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)r.push(le.range(l.anchor-a,l.head-a))}}return!!i.length&&(e(n.update({changes:i,scrollIntoView:!0,selection:le.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0)}function UQ(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of E_(n))i.push(t?{from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}:{from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Rfe=HQ(!1),Ife=HQ(!0);function HQ(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!n&&s==o&&function(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let s,t=In(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e);return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(wt.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from?{from:i.to,to:r.from}:null}(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new h_(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=xx(c,s);for(null==u&&(u=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?({from:s,to:o}=l):s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let d=["",Fh(e,u)];return l&&d.push(Fh(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:$t.of(d)},range:le.cursor(s+1+d[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Qx(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=n.doc.lineAt(o);a.number>t&&(i.empty||i.to>a.from)&&(e(a,r,i),t=a.number),o=a.to+1}let s=n.changes(r);return{changes:r,range:le.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const Ffe=[{key:"Ctrl-b",run:uQ,shift:wQ,preventDefault:!0},{key:"Ctrl-f",run:dQ,shift:CQ},{key:"Ctrl-p",run:mQ,shift:DQ},{key:"Ctrl-n",run:gQ,shift:TQ},{key:"Ctrl-a",run:n=>Vs(n,e=>le.cursor(n.lineBlockAt(e.head).from,1)),shift:n=>Yr(n,e=>le.cursor(n.lineBlockAt(e.head).from))},{key:"Ctrl-e",run:n=>Vs(n,e=>le.cursor(n.lineBlockAt(e.head).to,-1)),shift:n=>Yr(n,e=>le.cursor(n.lineBlockAt(e.head).to))},{key:"Ctrl-d",run:$Q},{key:"Ctrl-h",run:Bx},{key:"Ctrl-k",run:VQ},{key:"Ctrl-Alt-h",run:QQ},{key:"Ctrl-o",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:$t.of(["",""])},range:le.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||0==i.from||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),o=r==s.from?r-1:rr(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:rr(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(r,a).append(n.doc.slice(o,r))},range:le.cursor(a)}});return!t.changes.empty&&(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:$x}],Nfe=[{key:"ArrowLeft",run:uQ,shift:wQ,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n=>O_(n,!Ar(n)),shift:n=>S_(n,!Ar(n))},{mac:"Cmd-ArrowLeft",run:bQ,shift:RQ},{key:"ArrowRight",run:dQ,shift:CQ,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:n=>O_(n,Ar(n)),shift:n=>S_(n,Ar(n))},{mac:"Cmd-ArrowRight",run:yQ,shift:AQ},{key:"ArrowUp",run:mQ,shift:DQ,preventDefault:!0},{mac:"Cmd-ArrowUp",run:IQ,shift:FQ},{mac:"Ctrl-ArrowUp",run:vQ,shift:MQ},{key:"ArrowDown",run:gQ,shift:TQ,preventDefault:!0},{mac:"Cmd-ArrowDown",run:PQ,shift:NQ},{mac:"Ctrl-ArrowDown",run:$x,shift:kQ},{key:"PageUp",run:vQ,shift:MQ},{key:"PageDown",run:$x,shift:kQ},{key:"Home",run:bQ,shift:RQ,preventDefault:!0},{key:"Mod-Home",run:IQ,shift:FQ},{key:"End",run:yQ,shift:AQ,preventDefault:!0},{key:"Mod-End",run:PQ,shift:NQ},{key:"Enter",run:Rfe},{key:"Mod-a",run:({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Bx,shift:Bx},{key:"Delete",run:$Q},{key:"Mod-Backspace",mac:"Alt-Backspace",run:QQ},{key:"Mod-Delete",mac:"Alt-Delete",run:n=>BQ(n,!0)},{mac:"Mod-Backspace",run:n=>D_(n,e=>{let t=n.lineBlockAt(e).from;return T_(n,e>t?t:Math.max(0,e-1),!1)})},{mac:"Mod-Delete",run:VQ}].concat(Ffe.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Lfe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:n=>Vs(n,e=>w_(n.state,e,!Ar(n))),shift:n=>Yr(n,e=>w_(n.state,e,!Ar(n)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:n=>Vs(n,e=>w_(n.state,e,Ar(n))),shift:n=>Yr(n,e=>w_(n.state,e,Ar(n)))},{key:"Alt-ArrowUp",run:({state:n,dispatch:e})=>jQ(n,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:n,dispatch:e})=>UQ(n,e,!1)},{key:"Alt-ArrowDown",run:({state:n,dispatch:e})=>jQ(n,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:n,dispatch:e})=>UQ(n,e,!0)},{key:"Escape",run:({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=le.create([t.main]):t.main.empty||(i=le.create([le.cursor(t.main.head)])),!!i&&(e(Qs(n,i)),!0)}},{key:"Mod-Enter",run:Ife},{key:"Alt-l",mac:"Ctrl-l",run:({state:n,dispatch:e})=>{let t=E_(n).map(({from:i,to:r})=>le.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:le.create(t),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:n,dispatch:e})=>{let t=Jc(n.selection,i=>{var r;let s=In(n).resolveInner(i.head,1);for(;!(s.from<i.from&&s.to>=i.to||s.to>i.to&&s.from<=i.from)&&(null===(r=s.parent)||void 0===r?void 0:r.parent);)s=s.parent;return le.range(s.to,s.from)});return e(Qs(n,t)),!0},preventDefault:!0},{key:"Mod-[",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(Qx(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=mh(r,n.tabSize),o=0,a=Fh(n,Math.max(0,s-ll(n)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(Qx(n,(t,i)=>{i.push({from:t.from,insert:n.facet(d_)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new h_(n,{overrideIndentation:s=>{let o=t[s];return null==o?-1:o}}),r=Qx(n,(s,o,a)=>{let l=xx(i,s.from);if(null==l)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=Fh(n,l);(c!=u||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(E_(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=Jc(e.selection,r=>n.moveVertically(r,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:n,dispatch:e})=>function(n,e,t){let i=!1,r=Jc(n.selection,s=>{let o=Bs(n,s.head,-1)||Bs(n,s.head,1)||s.head>0&&Bs(n,s.head-1,1)||s.head<n.doc.length&&Bs(n,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return t?le.range(s.anchor,a):le.cursor(a)});return!!i&&(e(Qs(n,r)),!0)}(n,e,!1)},{key:"Mod-/",run:n=>{let e=Ix(n.state);return e.line?Bhe(n):!!e.block&&Vhe(n)}},{key:"Alt-A",run:Qhe}].concat(Nfe);function an(){var n=arguments[0];"string"==typeof n&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&"object"==typeof t&&null==t.nodeType&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];"string"==typeof r?n.setAttribute(i,r):null!=r&&(n[i]=r)}e++}for(;e<arguments.length;e++)zQ(n,arguments[e]);return n}function zQ(n,e){if("string"==typeof e)n.appendChild(document.createTextNode(e));else if(null!=e)if(null!=e.nodeType)n.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var t=0;t<e.length;t++)zQ(n,e[t])}}const qQ="function"==typeof String.prototype.normalize?n=>n.normalize("NFKD"):n=>n;class eu{constructor(e,t,i=0,r=e.length,s){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?o=>s(qQ(o)):qQ,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return _i(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=uC(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Sr(e);let r=this.normalize(t);for(let s=0,o=i;;s++){let a=r.charCodeAt(s),l=this.match(a,o);if(l)return this.value=l,this;if(s==r.length-1)break;o==i&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t){let i=null;for(let r=0;r<this.matches.length;r+=2){let s=this.matches[r],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?i={from:t,to:t+1}:this.matches.push(1,t)),i}}"undefined"!=typeof Symbol&&(eu.prototype[Symbol.iterator]=function(){return this});const GQ={from:-1,to:-1,match:/.*/.exec("")},jx="gm"+(null==/x/.unicode?"":"u");class XQ{constructor(e,t,i,r=0,s=e.length){if(this.to=s,this.curLine="",this.done=!1,this.value=GQ,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new ZQ(e,t,i,r,s);this.re=new RegExp(t,jx+((null==i?void 0:i.ignoreCase)?"i":"")),this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=r,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=r+(i==r?1:0),i==this.curLine.length&&this.nextLine(),i<r||i>this.value.to)return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const Ux=new WeakMap;class tu{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=Ux.get(e);if(!r||r.from>=i||r.to<=t){let a=new tu(t,e.sliceString(t,i));return Ux.set(e,a),a}if(r.from==t&&r.to==i)return r;let{text:s,from:o}=r;return o>t&&(s=e.sliceString(t,o)+s,o=t),r.to<i&&(s+=e.sliceString(r.to,i)),Ux.set(e,new tu(o,s)),new tu(t,s.slice(t-o,i-o))}}class ZQ{constructor(e,t,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=GQ,this.matchPos=r,this.re=new RegExp(t,jx+((null==i?void 0:i.ignoreCase)?"i":"")),this.flat=tu.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let i=this.flat.from+t.index,r=i+t[0].length;return this.value={from:i,to:r,match:t},this.matchPos=r+(i==r?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=tu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Hx(n){let e=an("input",{class:"cm-textfield",name:"line"});function i(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:s}=n,o=s.doc.lineAt(s.selection.main.head),[,a,l,c,u]=r,d=c?+c.slice(1):0,h=l?+l:o.number;if(l&&u){let p=h/100;a&&(p=p*("-"==a?-1:1)+o.number/s.doc.lines),h=Math.round(s.doc.lines*p)}else l&&a&&(h=h*("-"==a?-1:1)+o.number);let f=s.doc.line(Math.max(1,Math.min(s.doc.lines,h)));n.dispatch({effects:M_.of(!1),selection:le.cursor(f.from+Math.max(0,Math.min(d,f.length))),scrollIntoView:!0}),n.focus()}return{dom:an("form",{class:"cm-gotoLine",onkeydown:r=>{27==r.keyCode?(r.preventDefault(),n.dispatch({effects:M_.of(!1)}),n.focus()):13==r.keyCode&&(r.preventDefault(),i())},onsubmit:r=>{r.preventDefault(),i()}},an("label",n.state.phrase("Go to line"),": ",e)," ",an("button",{class:"cm-button",type:"submit"},n.state.phrase("go")))}}"undefined"!=typeof Symbol&&(XQ.prototype[Symbol.iterator]=ZQ.prototype[Symbol.iterator]=function(){return this});const M_=Ot.define(),YQ=Rn.define({create:()=>!0,update(n,e){for(let t of e.effects)t.is(M_)&&(n=t.value);return n},provide:n=>Mh.from(n,e=>e?Hx:null)}),Qfe=Et.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Vfe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},KQ=Fe.define({combine:n=>Ms(n,Vfe,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function jfe(n){let e=[qfe,zfe];return n&&e.push(KQ.of(n)),e}const Ufe=Le.mark({class:"cm-selectionMatch"}),Hfe=Le.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function JQ(n,e,t,i){return!(0!=t&&n(e.sliceDoc(t-1,t))==Ei.Word||i!=e.doc.length&&n(e.sliceDoc(i,i+1))==Ei.Word)}const zfe=bn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(KQ),{state:t}=n,i=t.selection;if(i.ranges.length>1)return Le.none;let s,r=i.main,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return Le.none;let l=t.wordAt(r.head);if(!l)return Le.none;o=t.charCategorizer(r.head),s=t.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return Le.none;if(e.wholeWords){if(s=t.sliceDoc(r.from,r.to),o=t.charCategorizer(r.head),!JQ(o,t,r.from,r.to)||!function(n,e,t,i){return n(e.sliceDoc(t,t+1))==Ei.Word&&n(e.sliceDoc(i-1,i))==Ei.Word}(o,t,r.from,r.to))return Le.none}else if(s=t.sliceDoc(r.from,r.to).trim(),!s)return Le.none}let a=[];for(let l of n.visibleRanges){let c=new eu(t.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:d}=c.value;if((!o||JQ(o,t,u,d))&&(r.empty&&u<=r.from&&d>=r.to?a.push(Hfe.range(u,d)):(u>=r.to||d<=r.from)&&a.push(Ufe.range(u,d)),a.length>e.maxMatches))return Le.none}}return Le.set(a)}},{decorations:n=>n.decorations}),qfe=Et.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),k_=Fe.define({combine(n){var e;return{top:n.reduce((t,i)=>null!=t?t:i.top,void 0)||!1,caseSensitive:n.reduce((t,i)=>null!=t?t:i.caseSensitive,void 0)||!1,createPanel:(null===(e=n.find(t=>t.createPanel))||void 0===e?void 0:e.createPanel)||(t=>new ope(t))}}});class eV{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(n){try{return new RegExp(n,jx),!0}catch(e){return!1}}(this.search)),this.unquoted=e.literal?this.search:this.search.replace(/\\([nrt\\])/g,(t,i)=>"n"==i?"\n":"r"==i?"\r":"t"==i?"\t":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new Kfe(this):new Yfe(this)}getCursor(e,t=0,i=e.length){return this.regexp?iu(this,e,t,i):nu(this,e,t,i)}}class tV{constructor(e){this.spec=e}}function nu(n,e,t,i){return new eu(e,n.unquoted,t,i,n.caseSensitive?void 0:r=>r.toLowerCase())}class Yfe extends tV{constructor(e){super(e)}nextMatch(e,t,i){let r=nu(this.spec,e,i,e.length).nextOverlapping();return r.done&&(r=nu(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let s=Math.max(t,r-1e4-this.spec.unquoted.length),o=nu(this.spec,e,s,r),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;r-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let i=nu(this.spec,e,0,e.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=nu(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function iu(n,e,t,i){return new XQ(e,n.search,n.caseSensitive?void 0:{ignoreCase:!0},t,i)}class Kfe extends tV{nextMatch(e,t,i){let r=iu(this.spec,e,i,e.length).next();return r.done&&(r=iu(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let s=Math.max(t,i-1e4*r),o=iu(this.spec,e,s,i),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,(t,i)=>"$"==i?"$":"&"==i?e.match[0]:"0"!=i&&+i<e.match.length?e.match[i]:t)}matchAll(e,t){let i=iu(this.spec,e,0,e.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=iu(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const Qh=Ot.define(),Wx=Ot.define(),Oo=Rn.define({create:n=>new zx(I_(n).create(),null),update(n,e){for(let t of e.effects)t.is(Qh)?n=new zx(t.value.create(),n.panel):t.is(Wx)&&(n=new zx(n.query,t.value?qx:null));return n},provide:n=>Mh.from(n,e=>e.panel)});class zx{constructor(e,t){this.query=e,this.panel=t}}const Jfe=Le.mark({class:"cm-searchMatch"}),epe=Le.mark({class:"cm-searchMatch cm-searchMatch-selected"}),tpe=bn.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Oo))}update(n){let e=n.state.field(Oo);(e!=n.startState.field(Oo)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Le.none;let{view:t}=this,i=new Zo;for(let r=0,s=t.visibleRanges,o=s.length;r<o;r++){let{from:a,to:l}=s[r];for(;r<o-1&&l>s[r+1].from-500;)l=s[++r].to;n.highlight(t.state.doc,a,l,(c,u)=>{let d=t.state.selection.ranges.some(h=>h.from==c&&h.to==u);i.add(c,u,d?epe:Jfe)})}return i.finish()}},{decorations:n=>n.decorations});function Vh(n){return e=>{let t=e.state.field(Oo,!1);return t&&t.query.spec.valid?n(e,t):iV(e)}}const A_=Vh((n,{query:e})=>{let{from:t,to:i}=n.state.selection.main,r=e.nextMatch(n.state.doc,t,i);return!(!r||r.from==t&&r.to==i||(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Gx(n,r),userEvent:"select.search"}),0))}),R_=Vh((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main,s=e.prevMatch(t.doc,i,r);return!!s&&(n.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:Gx(n,s),userEvent:"select.search"}),!0)}),npe=Vh((n,{query:e})=>{let t=e.matchAll(n.state.doc,1e3);return!(!t||!t.length||(n.dispatch({selection:le.create(t.map(i=>le.range(i.from,i.to))),userEvent:"select.search.matches"}),0))}),nV=Vh((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t.doc,i,i);if(!s)return!1;let a,l,o=[];if(s.from==i&&s.to==r&&(l=t.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(t.doc,s.from,s.to)),s){let c=0==o.length||o[0].from>=s.to?0:s.to-s.from-l.length;a={anchor:s.from-c,head:s.to-c}}return n.dispatch({changes:o,selection:a,scrollIntoView:!!a,effects:s?Gx(n,s):void 0,userEvent:"input.replace"}),!0}),rpe=Vh((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state.doc,1e9).map(i=>{let{from:r,to:s}=i;return{from:r,to:s,insert:e.getReplacement(i)}});return!!t.length&&(n.dispatch({changes:t,userEvent:"input.replace.all"}),!0)});function qx(n){return n.state.facet(k_).createPanel(n)}function I_(n,e){var t;let i=n.selection.main,r=i.empty||i.to>i.from+100?"":n.sliceDoc(i.from,i.to),s=null!==(t=null==e?void 0:e.caseSensitive)&&void 0!==t?t:n.facet(k_).caseSensitive;return e&&!r?e:new eV({search:r.replace(/\n/g,"\\n"),caseSensitive:s})}const iV=n=>{let e=n.state.field(Oo,!1);if(e&&e.panel){let t=Eh(n,qx);if(!t)return!1;let i=t.dom.querySelector("[name=search]");if(i!=n.root.activeElement){let r=I_(n.state,e.query.spec);r.valid&&n.dispatch({effects:Qh.of(r)}),i.focus(),i.select()}}else n.dispatch({effects:[Wx.of(!0),e?Qh.of(I_(n.state,e.query.spec)):Ot.appendConfig.of(Xx)]});return!0},rV=n=>{let e=n.state.field(Oo,!1);if(!e||!e.panel)return!1;let t=Eh(n,qx);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Wx.of(!1)}),!0},spe=[{key:"Mod-f",run:iV,scope:"editor search-panel"},{key:"F3",run:A_,shift:R_,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:A_,shift:R_,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:rV,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,s=[],o=0;for(let a=new eu(n.doc,n.sliceDoc(i,r));!a.next().done;){if(s.length>1e3)return!1;a.value.from==i&&(o=s.length),s.push(le.range(a.value.from,a.value.to))}return e(n.update({selection:le.create(s,o),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:n=>{let e=Eh(n,Hx);if(!e){let t=[M_.of(!0)];null==n.state.field(YQ,!1)&&t.push(Ot.appendConfig.of([YQ,Qfe])),n.dispatch({effects:t}),e=Eh(n,Hx)}return e&&e.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return(({state:n,dispatch:e})=>{let{selection:t}=n,i=le.create(t.ranges.map(r=>n.wordAt(r.head)||le.cursor(r.head)),t.mainIndex);return!i.eq(t)&&(e(n.update({selection:i})),!0)})({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=i))return!1;let r=function(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),s=r&&r.from==t.from&&r.to==t.to;for(let o=!1,a=new eu(n.doc,e,i[i.length-1].to);;){if(a.next(),!a.done){if(o&&i.some(l=>l.from==a.value.from))continue;if(s){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}if(o)return null;a=new eu(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}}(n,i);return!!r&&(e(n.update({selection:n.selection.addRange(le.range(r.from,r.to),!1),effects:Et.scrollIntoView(r.to)})),!0)},preventDefault:!0}];class ope{constructor(e){this.view=e;let t=this.query=e.state.field(Oo).query.spec;function i(r,s,o){return an("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.commit=this.commit.bind(this),this.searchField=an("input",{value:t.search,placeholder:Rr(e,"Find"),"aria-label":Rr(e,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=an("input",{value:t.replace,placeholder:Rr(e,"Replace"),"aria-label":Rr(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=an("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=an("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit}),this.dom=an("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>A_(e),[Rr(e,"next")]),i("prev",()=>R_(e),[Rr(e,"previous")]),i("select",()=>npe(e),[Rr(e,"all")]),an("label",null,[this.caseField,Rr(e,"match case")]),an("label",null,[this.reField,Rr(e,"regexp")]),...e.state.readOnly?[]:[an("br"),this.replaceField,i("replace",()=>nV(e),[Rr(e,"replace")]),i("replaceAll",()=>rpe(e),[Rr(e,"replace all")]),an("button",{name:"close",onclick:()=>rV(e),"aria-label":Rr(e,"close"),type:"button"},["\xd7"])]])}commit(){let e=new eV({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Qh.of(e)}))}keydown(e){!function(n,e,t){return U$(j$(n.state),e,n,"search-panel")}(this.view,e)?13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?R_:A_)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),nV(this.view)):e.preventDefault()}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(Qh)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(k_).top}}function Rr(n,e){return n.state.phrase(e)}const F_=/[\s\.,:;?!]/;function Gx(n,{from:e,to:t}){let i=n.state.doc.lineAt(e).from,r=n.state.doc.lineAt(t).to,s=Math.max(i,e-30),o=Math.min(r,t+30),a=n.state.sliceDoc(s,o);if(s!=i)for(let l=0;l<30;l++)if(!F_.test(a[l+1])&&F_.test(a[l])){a=a.slice(l);break}if(o!=r)for(let l=a.length-1;l>a.length-30;l--)if(!F_.test(a[l-1])&&F_.test(a[l])){a=a.slice(0,l);break}return Et.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${n.state.doc.lineAt(e).number}`)}const ape=Et.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Xx=[Oo,Uc.lowest(tpe),ape];class sV{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=In(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),s=r.search(cV(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return null==this.abortListeners}addEventListener(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}function oV(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function aV(n){let e=n.map(r=>"string"==typeof r?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:function(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=oV(e)+oV(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}function cpe(n,e){return t=>{for(let i=In(t.state).resolveInner(t.pos,-1);i;i=i.parent)if(n.indexOf(i.name)>-1)return null;return e(t)}}class lV{constructor(e,t,i){this.completion=e,this.source=t,this.match=i}}function la(n){return n.selection.main.head}function cV(n,e){var t;let{source:i}=n,r=e&&"^"!=i[0],s="$"!=i[i.length-1];return r||s?new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,null!==(t=n.flags)&&void 0!==t?t:n.ignoreCase?"i":""):n}const upe=Xo.define();function uV(n,e){const t=e.completion.apply||e.completion.label;let i=e.source;"string"==typeof t?n.dispatch(n.state.changeByRange(r=>{if(r==n.state.selection.main)return{changes:{from:i.from,to:i.to,insert:t},range:le.cursor(i.from+t.length)};let s=i.to-i.from;return!r.empty||s&&n.state.sliceDoc(r.from-s,r.from)!=n.state.sliceDoc(i.from,i.to)?{range:r}:{changes:{from:r.from-s,to:r.from,insert:t},range:le.cursor(r.from-s+t.length)}}),{userEvent:"input.complete",annotations:upe.of(e.completion)}):t(n,e.completion,i.from,i.to)}const dV=new WeakMap;function dpe(n){if(!Array.isArray(n))return n;let e=dV.get(n);return e||dV.set(n,e=aV(n)),e}class hpe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let i=_i(e,t),r=Sr(i);this.chars.push(i);let s=e.slice(t,t+r),o=s.toUpperCase();this.folded.push(_i(o==s?s.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}match(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:r,precise:s,byWord:o}=this;if(1==t.length){let b=_i(e,0);return b==t[0]?[0,0,Sr(b)]:b==i[0]?[-200,0,Sr(b)]:null}let a=e.indexOf(this.pattern);if(0==a)return[0,0,this.pattern.length];let l=t.length,c=0;if(a<0){for(let b=0,x=Math.min(e.length,200);b<x&&c<l;){let I=_i(e,b);(I==t[c]||I==i[c])&&(r[c++]=b),b+=Sr(I)}if(c<l)return null}let u=0,d=0,h=!1,f=0,p=-1,m=-1,v=/[a-z]/.test(e),O=!0;for(let b=0,x=Math.min(e.length,200),I=0;b<x&&d<l;){let F=_i(e,b);a<0&&(u<l&&F==t[u]&&(s[u++]=b),f<l&&(F==t[f]||F==i[f]?(0==f&&(p=b),m=b+1,f++):f=0));let j,B=F<255?F>=48&&F<=57||F>=97&&F<=122?2:F>=65&&F<=90?1:0:(j=uC(F))!=j.toLowerCase()?1:j!=j.toUpperCase()?2:0;(!b||1==B&&v||0==I&&0!=B)&&(t[d]==F||i[d]==F&&(h=!0)?o[d++]=b:o.length&&(O=!1)),I=B,b+=Sr(F)}return d==l&&0==o[0]&&O?this.result((h?-200:0)-100,o,e):f==l&&0==p?[-200-e.length,0,m]:a>-1?[-700-e.length,a,a+this.pattern.length]:f==l?[-900-e.length,p,m]:d==l?this.result((h?-200:0)-100-700+(O?0:-1100),o,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}result(e,t,i){let r=[e-i.length],s=1;for(let o of t){let a=o+(this.astral?Sr(_i(i,o)):1);s>1&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return r}}const cl=Fe.define({combine:n=>Ms(n,{activateOnTyping:!0,override:null,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>i=>function(n,e){return n?e?n+" "+e:n:e}(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})});function hV(n,e,t){if(n<=t)return{from:0,to:n};if(e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class mpe{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:a=>this.positionInfo(a),key:this};let i=e.state.field(t),{options:r,selected:s}=i.open,o=e.state.facet(cl);this.optionContent=function(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r){let s=document.createElement("span");s.className="cm-completionLabel";let{label:o}=t,a=0;for(let l=1;l<r.length;){let c=r[l++],u=r[l++];c>a&&s.appendChild(document.createTextNode(o.slice(a,c)));let d=s.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(o.slice(c,u))),d.className="cm-completionMatchedText",a=u}return a<o.length&&s.appendChild(document.createTextNode(o.slice(a))),s},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}(o),this.optionClass=o.optionClass,this.range=hV(r.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",a=>{for(let c,l=a.target;l&&l!=this.dom;l=l.parentNode)if("LI"==l.nodeName&&(c=/-(\d+)$/.exec(l.id))&&+c[1]<r.length)return uV(e,r[+c[1]]),void a.preventDefault()}),this.list=this.dom.appendChild(this.createListBox(r,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=hV(t.options.length,t.selected,this.view.state.facet(cl).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let s="string"==typeof r?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o)}).catch(o=>or(this.view.state,o,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&function(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<t.top?n.scrollTop-=t.top-i.top:i.bottom>t.bottom&&(n.scrollTop+=i.bottom-t.bottom)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect();if(r.top>Math.min(innerHeight,t.bottom)-10||r.bottom<Math.max(0,t.top)+10)return null;let s=Math.max(0,Math.min(r.top,innerHeight-i.height))-t.top,o=this.view.textDirection==un.RTL,a=t.left,l=innerWidth-t.right;return o&&a<Math.min(i.width,l)?o=!1:!o&&l<Math.min(i.width,a)&&(o=!0),{top:s,left:o}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true");for(let s=i.from;s<i.to;s++){let{completion:o,match:a}=e[s];const l=r.appendChild(document.createElement("li"));l.id=t+"-"+s,l.setAttribute("role","option");let c=this.optionClass(o);c&&(l.className=c);for(let u of this.optionContent){let d=u(o,this.view.state,a);d&&l.appendChild(d)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function gpe(n){return e=>new mpe(e,n)}function fV(n){return 100*(n.boost||0)+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}class jh{constructor(e,t,i,r,s){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new jh(this.options,pV(t,e),this.tooltip,this.timestamp,e)}static build(e,t,i,r,s){let o=function(n,e){let t=[],i=0;for(let o of n)if(o.hasResult())if(!1===o.result.filter)for(let a of o.result.options)t.push(new lV(a,o,[1e9-i++]));else{let l,a=new hpe(e.sliceDoc(o.from,o.to));for(let c of o.result.options)(l=a.match(c.label))&&(null!=c.boost&&(l[0]+=c.boost),t.push(new lV(c,o,l)))}let r=[],s=null;for(let o of t.sort(wpe))!s||s.label!=o.completion.label||s.detail!=o.completion.detail||null!=s.type&&null!=o.completion.type&&s.type!=o.completion.type||s.apply!=o.completion.apply?r.push(o):fV(o.completion)>fV(s)&&(r[r.length-1]=o),s=o.completion;return r}(e,t);if(!o.length)return null;let a=0;if(r&&r.selected){let l=r.options[r.selected].completion;for(let c=0;c<o.length;c++)if(o[c].completion==l){a=c;break}}return new jh(o,pV(i,a),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:gpe(Ri),above:s.aboveCursor},r?r.timestamp:Date.now(),a)}map(e){return new jh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class N_{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new N_(Ope,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,i=t.facet(cl),s=(i.override||t.languageDataAt("autocomplete",la(t)).map(dpe)).map(a=>(this.active.find(c=>c.source==a)||new ji(a,this.active.some(c=>0!=c.state)?1:0)).update(e,i));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!function(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let r=t==n.length,s=i==e.length;if(r||s)return r==s;if(n[t++].result!=e[i++].result)return!1}}(s,this.active)?jh.build(s,t,this.id,this.open,i):this.open&&e.docChanged?this.open.map(e.changes):this.open;!o&&s.every(a=>1!=a.state)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new ji(a.source,0):a));for(let a of e.effects)a.is(Jx)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new N_(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:bpe}}const bpe={"aria-autocomplete":"list"};function pV(n,e){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":n+"-"+e,"aria-controls":n}}const Ope=[];function wpe(n,e){return e.match[0]-n.match[0]||n.completion.label.localeCompare(e.completion.label)}function Zx(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class ji{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=Zx(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&0!=r.state&&(r=new ji(r.source,0));for(let s of e.effects)if(s.is(Yx))r=new ji(r.source,1,s.value?la(e.state):-1);else if(s.is(Kx))r=new ji(r.source,0);else if(s.is(mV))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,t,i){return"delete"!=t&&i.activateOnTyping?new ji(this.source,1):this.map(e.changes)}handleChange(e){return e.changes.touchesRange(la(e.startState))?new ji(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new ji(this.source,this.state,e.mapPos(this.explicitPos))}}class Uh extends ji{constructor(e,t,i,r,s){super(e,2,t),this.result=i,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,t,i){var r;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=la(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||"delete"==t&&la(e.startState)==this.from)return new ji(this.source,"input"==t&&i.activateOnTyping?1:0);let c,l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return"function"==typeof n?n(r,t,i,e):cV(n,!0).test(r)}(this.result.validFor,e.state,s,o)?new Uh(this.source,l,this.result,s,o):this.result.update&&(c=this.result.update(this.result,s,o,new sV(e.state,a,l>=0)))?new Uh(this.source,l,c,c.from,null!==(r=c.to)&&void 0!==r?r:la(e.state)):new ji(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new ji(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Uh(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}const Yx=Ot.define(),Kx=Ot.define(),mV=Ot.define({map:(n,e)=>n.map(t=>t.map(e))}),Jx=Ot.define(),Ri=Rn.define({create:()=>N_.start(),update:(n,e)=>n.update(e),provide:n=>[Kg.from(n,e=>e.tooltip),Et.contentAttributes.from(n,e=>e.attrs)]});function L_(n,e="option"){return t=>{let i=t.state.field(Ri,!1);if(!i||!i.open||Date.now()-i.open.timestamp<75)return!1;let s,r=1;"page"==e&&(s=function(n,e){let t=n.plugin(ux);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let o=i.open.selected+r*(n?1:-1),{length:a}=i.open.options;return o<0?o="page"==e?0:a-1:o>=a&&(o="page"==e?a-1:0),t.dispatch({effects:Jx.of(o)}),!0}}class Tpe{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const kpe=bn.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(Ri).active)1==e.state&&this.startQuery(e)}update(n){let e=n.state.field(Ri);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Ri)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!Zx(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(t||r.updates.length+n.transactions.length>50&&Date.now()-r.time>1e3){for(let s of r.context.abortListeners)try{s()}catch(o){or(this.view.state,o)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>1==i.state&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),50):-1,0!=this.composing)for(let i of n.transactions)"input"==Zx(i)?this.composing=2:2==this.composing&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(Ri);for(let t of e.active)1==t.state&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=la(e),i=new sV(e,t,n.explicitPos==t),r=new Tpe(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Kx.of(null)}),or(this.view.state,s)})}scheduleAccept(){this.running.every(n=>void 0!==n.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),50))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(cl);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(void 0===r.done)continue;if(this.running.splice(i--,1),r.done){let o=new Uh(r.active.source,r.active.explicitPos,r.done,r.done.from,null!==(n=r.done.to)&&void 0!==n?n:la(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)o=o.update(a,t);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(Ri).active.find(o=>o.source==r.active.source);if(s&&1==s.state)if(null==r.done){let o=new ji(r.active.source,0);for(let a of r.updates)o=o.update(a,t);1!=o.state&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:mV.of(e)})}},{eventHandlers:{compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:Yx.of(!1)}),20),this.composing=0}}}),vV=Et.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1d465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1d436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1d461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1f511}\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Ape{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class eS{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,si.TrackDel),i=e.mapPos(this.to,1,si.TrackDel);return null==t||null==i?null:new eS(this.field,t,i)}}class tS{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let d=0;d<u;d++)c+=e.facet(d_);r.push(t+c.length-u),l=c+l.slice(u)}i.push(l),t+=l.length+1}return{text:i,ranges:this.fieldPositions.map(l=>new eS(l.field,r[l.line]+l.from,r[l.line]+l.to))}}static parse(e){let s,t=[],i=[],r=[];for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1;for(let u=0;u<t.length;u++)(null!=a?t[u].seq==a:l&&t[u].name==l)&&(c=u);if(c<0){let u=0;for(;u<t.length&&(null==a||null!=t[u].seq&&t[u].seq<a);)u++;t.splice(u,0,{seq:a,name:l}),c=u;for(let d of r)d.field>=c&&d.field++}r.push(new Ape(c,i.length,s.index,s.index+l.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}i.push(o)}return new tS(i,r)}}let Rpe=Le.widget({widget:new class extends yo{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),Ipe=Le.mark({class:"cm-snippetField"});class ru{constructor(e,t){this.ranges=e,this.active=t,this.deco=Le.set(e.map(i=>(i.from==i.to?Rpe:Ipe).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new ru(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const Hh=Ot.define({map:(n,e)=>n&&n.map(e)}),Ppe=Ot.define(),Wh=Rn.define({create:()=>null,update(n,e){for(let t of e.effects){if(t.is(Hh))return t.value;if(t.is(Ppe)&&n)return new ru(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>Et.decorations.from(n,e=>e?e.deco:Le.none)});function nS(n,e){return le.create(n.filter(t=>t.field==e).map(t=>le.range(t.from,t.to)))}function Fpe(n){let e=tS.parse(n);return(t,i,r,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,r),l={changes:{from:r,to:s,insert:$t.of(o)}};if(a.length&&(l.selection=nS(a,0)),a.length>1){let c=new ru(a,0),u=l.effects=[Hh.of(c)];void 0===t.state.field(Wh,!1)&&u.push(Ot.appendConfig.of([Wh,Lpe,$pe,vV]))}t.dispatch(t.state.update(l))}}function yV(n){return({state:e,dispatch:t})=>{let i=e.field(Wh,!1);if(!i||n<0&&0==i.active)return!1;let r=i.active+n,s=n>0&&!i.ranges.some(o=>o.field==r+n);return t(e.update({selection:nS(i.ranges,r),effects:Hh.of(s?null:new ru(i.ranges,r))})),!0}}const Npe=[{key:"Tab",run:yV(1),shift:yV(-1)},{key:"Escape",run:({state:n,dispatch:e})=>!!n.field(Wh,!1)&&(e(n.update({effects:Hh.of(null)})),!0)}],bV=Fe.define({combine:n=>n.length?n[0]:Npe}),Lpe=Uc.highest(Xg.compute([bV],n=>n.facet(bV)));function ul(n,e){return Object.assign(Object.assign({},e),{apply:Fpe(n)})}const $pe=Et.domEventHandlers({mousedown(n,e){let i,t=e.state.field(Wh,!1);if(!t||null==(i=e.posAtCoords({x:n.clientX,y:n.clientY})))return!1;let r=t.ranges.find(s=>s.from<=i&&s.to>=i);return!(!r||r.field==t.active||(e.dispatch({selection:nS(t.ranges,r.field),effects:Hh.of(t.ranges.some(s=>s.field>r.field)?new ru(t.ranges,r.field):null)}),0))}}),$_={brackets:["(","[","{","'",'"'],before:")]}:;>"},dl=Ot.define({map(n,e){let t=e.mapPos(n,-1,si.TrackAfter);return null==t?void 0:t}}),iS=Ot.define({map:(n,e)=>e.mapPos(n)}),rS=new class extends il{};rS.startSide=1,rS.endSide=-1;const SV=Rn.define({create:()=>cn.empty,update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(i,-1)&&(n=cn.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(dl)?n=n.update({add:[rS.range(t.value,t.value+1)]}):t.is(iS)&&(n=n.update({filter:i=>i!=t.value}));return n}});function Vpe(){return[Upe,SV]}const sS="()[]{}<>";function DV(n){for(let e=0;e<sS.length;e+=2)if(sS.charCodeAt(e)==n)return sS.charAt(e+1);return uC(n<128?n:n+1)}function TV(n,e){return n.languageDataAt("closeBrackets",e)[0]||$_}const jpe="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Upe=Et.inputHandler.of((n,e,t,i)=>{if((jpe?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||2==i.length&&1==Sr(_i(i,0))||e!=r.from||t!=r.to)return!1;let s=function(n,e){let t=TV(n,n.selection.main.head),i=t.brackets||$_.brackets;for(let r of i){let s=DV(_i(r,0));if(e==r)return s==r?Xpe(n,r,i.indexOf(r+r+r)>-1):qpe(n,r,s,t.before||$_.before);if(e==s&&EV(n,n.selection.main.from))return Gpe(n,0,s)}return null}(n.state,i);return!!s&&(n.dispatch(s),!0)}),Hpe=[{key:"Backspace",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=TV(n,n.selection.main.head).brackets||$_.brackets,r=null,s=n.changeByRange(o=>{if(o.empty){let a=function(n,e){let t=n.sliceString(e-2,e);return Sr(_i(t,0))==t.length?t:t.slice(1)}(n.doc,o.head);for(let l of i)if(l==a&&B_(n.doc,o.head)==DV(_i(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:le.cursor(o.head-l.length),userEvent:"delete.backward"}}return{range:r=o}});return r||e(n.update(s,{scrollIntoView:!0})),!r}}];function EV(n,e){let t=!1;return n.field(SV).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function B_(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Sr(_i(t,0)))}function qpe(n,e,t,i){let r=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:dl.of(o.to+e.length),range:le.range(o.anchor+e.length,o.head+e.length)};let a=B_(n.doc,o.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:dl.of(o.head+e.length),range:le.cursor(o.head+e.length)}:{range:r=o}});return r?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Gpe(n,e,t){let i=null,r=n.selection.ranges.map(s=>s.empty&&B_(n.doc,s.head)==t?le.cursor(s.head+t.length):i=s);return i?null:n.update({selection:le.create(r,n.selection.mainIndex),scrollIntoView:!0,effects:n.selection.ranges.map(({from:s})=>iS.of(s))})}function Xpe(n,e,t){let i=null,r=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:dl.of(s.to+e.length),range:le.range(s.anchor+e.length,s.head+e.length)};let o=s.head,a=B_(n.doc,o);if(a==e){if(MV(n,o))return{changes:{insert:e+e,from:o},effects:dl.of(o+e.length),range:le.cursor(o+e.length)};if(EV(n,o)){let l=t&&n.sliceDoc(o,o+3*e.length)==e+e+e;return{range:le.cursor(o+e.length*(l?3:1)),effects:iS.of(o)}}}else{if(t&&n.sliceDoc(o-2*e.length,o)==e+e&&MV(n,o-2*e.length))return{changes:{insert:e+e+e+e,from:o},effects:dl.of(o+e.length),range:le.cursor(o+e.length)};if(n.charCategorizer(o)(a)!=Ei.Word){let l=n.sliceDoc(o-1,o);if(l!=e&&n.charCategorizer(o)(l)!=Ei.Word&&!function(n,e,t){let i=In(n).resolveInner(e,-1);for(let r=0;r<5;r++){if(n.sliceDoc(i.from,i.from+t.length)==t)return!0;let s=i.to==e&&i.parent;if(!s)break;i=s}return!1}(n,o,e))return{changes:{insert:e+e,from:o},effects:dl.of(o+e.length),range:le.cursor(o+e.length)}}}return{range:i=s}});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function MV(n,e){let t=In(n).resolveInner(e+1);return t.parent&&t.from==e}function Ype(n={}){return[Ri,cl.of(n),kpe,Kpe,vV]}const kV=[{key:"Ctrl-Space",run:n=>!!n.state.field(Ri,!1)&&(n.dispatch({effects:Yx.of(!0)}),!0)},{key:"Escape",run:n=>{let e=n.state.field(Ri,!1);return!(!e||!e.active.some(t=>0!=t.state)||(n.dispatch({effects:Kx.of(null)}),0))}},{key:"ArrowDown",run:L_(!0)},{key:"ArrowUp",run:L_(!1)},{key:"PageDown",run:L_(!0,"page")},{key:"PageUp",run:L_(!1,"page")},{key:"Enter",run:n=>{let e=n.state.field(Ri,!1);return!(n.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<75||(uV(n,e.open.options[e.open.selected]),0))}}],Kpe=Uc.highest(Xg.computeN([cl],n=>n.facet(cl).defaultKeymap?[kV]:[]));class Jpe{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class hl{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,s=i.facet(fl).markerFilter;s&&(r=s(r));let o=Le.set(r.map(a=>a.from==a.to||a.from==a.to-1&&i.doc.lineAt(a.from).to==a.from?Le.widget({widget:new sme(a),diagnostic:a}).range(a.from):Le.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity},diagnostic:a}).range(a.from,a.to)),!0);return new hl(o,t,su(o))}}function su(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,s,{spec:o})=>{if(!e||o.diagnostic==e)return i=new Jpe(r,s,o.diagnostic),!1}),i}function RV(n,e){return!(!n.effects.some(t=>t.is(Q_))&&!n.changes.touchesRange(e.pos))}function IV(n,e){return n.field(Ui,!1)?e:e.concat(Ot.appendConfig.of([Ui,Et.decorations.compute([Ui],t=>{let{selected:i,panel:r}=t.field(Ui);return i&&r&&i.from!=i.to?Le.set([tme.range(i.from,i.to)]):Le.none}),pde(nme,{hideOn:RV}),ome]))}const Q_=Ot.define(),oS=Ot.define(),PV=Ot.define(),Ui=Rn.define({create:()=>new hl(Le.none,null,null),update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let r=e.changes.mapPos(n.selected.from,1);i=su(t,n.selected.diagnostic,r)||su(t,null,r)}n=new hl(t,n.panel,i)}for(let t of e.effects)t.is(Q_)?n=hl.init(t.value,n.panel,e.state):t.is(oS)?n=new hl(n.diagnostics,t.value?V_.open:null,n.selected):t.is(PV)&&(n=new hl(n.diagnostics,n.panel,t.value));return n},provide:n=>[Mh.from(n,e=>e.panel),Et.decorations.from(n,e=>e.diagnostics)]}),tme=Le.mark({class:"cm-lintRange cm-lintRange-active"});function nme(n,e,t){let{diagnostics:i}=n.state.field(Ui),r=[],s=2e8,o=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0))&&(r.push(u.diagnostic),s=Math.min(l,s),o=Math.max(c,o))});let a=n.state.facet(fl).tooltipFilter;return a&&(r=a(r)),r.length?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create:()=>({dom:FV(n,r)})}:null}function FV(n,e){return an("ul",{class:"cm-tooltip-lint"},e.map(t=>BV(n,t,!1)))}const NV=n=>{let e=n.state.field(Ui,!1);return!(!e||!e.panel||(n.dispatch({effects:oS.of(!1)}),0))},rme=[{key:"Mod-Shift-m",run:n=>{let e=n.state.field(Ui,!1);(!e||!e.panel)&&n.dispatch({effects:IV(n.state,[oS.of(!0)])});let t=Eh(n,V_.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0}},{key:"F8",run:n=>{let e=n.state.field(Ui,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!(!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)||(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),0))}}],LV=bn.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(fl);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(fl);Promise.all(t.map(i=>Promise.resolve(i(this.view)))).then(i=>{let r=i.reduce((s,o)=>s.concat(o));this.view.state.doc==e.doc&&this.view.dispatch(function(n,e){return{effects:IV(n,[Q_.of(e)])}}(this.view.state,r))},i=>{or(this.view.state,i)})}}update(n){let e=n.state.facet(fl);(n.docChanged||e!=n.startState.facet(fl))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),fl=Fe.define({combine:n=>Object.assign({sources:n.map(e=>e.source)},Ms(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null})),enables:LV});function $V(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function BV(n,e,t){var i;let r=t?$V(e.actions):[];return an("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},an("span",{class:"cm-diagnosticText"},e.message),null===(i=e.actions)||void 0===i?void 0:i.map((s,o)=>{let a=d=>{d.preventDefault();let h=su(n.state.field(Ui).diagnostics,e);h&&s.apply(n,h.from,h.to)},{name:l}=s,c=r[o]?l.indexOf(r[o]):-1,u=c<0?l:[l.slice(0,c),an("u",l.slice(c,c+1)),l.slice(c+1)];return an("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${l}${c<0?"":` (access key "${r[o]})"`}.`},u)}),e.source&&an("div",{class:"cm-diagnosticSource"},e.source))}class sme extends yo{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return an("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class QV{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=BV(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class V_{constructor(e){this.view=e,this.items=[],this.list=an("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r=>{if(27==r.keyCode)NV(this.view),this.view.focus();else if(38==r.keyCode||33==r.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==r.keyCode||34==r.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==r.keyCode)this.moveSelection(0);else if(35==r.keyCode)this.moveSelection(this.items.length-1);else if(13==r.keyCode)this.view.focus();else{if(!(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:s}=this.items[this.selectedIndex],o=$V(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=su(this.view.state.field(Ui).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}}r.preventDefault()},onclick:r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)}}),this.dom=an("div",{class:"cm-panel-lint"},this.list,an("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>NV(this.view)},"\xd7")),this.update()}get selectedIndex(){let e=this.view.state.field(Ui).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Ui),i=0,r=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let u,c=-1;for(let d=i;d<this.items.length;d++)if(this.items[d].diagnostic==l.diagnostic){c=d;break}c<0?(u=new QV(this.view,l.diagnostic),this.items.splice(i,0,u),r=!0):(u=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),s=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new QV(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{o.top<a.top?this.list.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(this.list.scrollTop+=o.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let i=su(this.view.state.field(Ui).diagnostics,this.items[e].diagnostic);!i||this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:PV.of(i)})}static open(e){return new V_(e)}}function aS(n){return function(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const ome=Et.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:aS("#d11")},".cm-lintRange-warning":{backgroundImage:aS("orange")},".cm-lintRange-info":{backgroundImage:aS("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),fme=[Cde(),Dde(),Hue(),Ghe(),_he(),Rue(),$ue(),Dr.allowMultipleSelections.of(!0),she(),yhe(whe,{fallback:!0}),Ehe(),Vpe(),Ype(),ide(),ode(),Zue(),jfe(),Xg.of([...Hpe,...Lfe,...spe,...ife,...fhe,...kV,...rme])];class H_{constructor(e,t,i,r,s,o,a,l,c,u=0,d){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new H_(e,[],t,i,i,0,[],0,r?new UV(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,i=65535&e,{parser:r}=this.p,s=r.dynamicPrecedence(i);if(s&&(this.score+=s),0==t)return this.pushState(r.getGoto(this.state,i,!0),this.reducePos),i<r.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.reduceContext(i,this.reducePos);let o=this.stack.length-3*(t-1)-(262144&e?6:0),a=this.stack[o-2],c=this.bufferBase+this.buffer.length-this.stack[o-1];if(i<r.minRepeatTerm||131072&e){let u=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,a,u,c+4,!0)}for(this.state=262144&e?this.stack[o]:r.getGoto(this.stack[o-3],i,!0);this.stack.length>o;)this.stack.pop();this.reduceContext(i,a)}storeNode(e,t,i,r=4,s=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(0==a&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&0==o.buffer[a-4]&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t)return void(o.buffer[a-2]=i)}}if(s&&this.pos!=i){let o=this.buffer.length;if(o>0&&0!=this.buffer[o-4])for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=r}else this.buffer.push(e,t,i,r)}shift(e,t,i){let r=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}else this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4)}apply(e,t,i){65536&e?this.reduce(e):this.shift(e,t,i)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new H_(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new pme(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&i))return!0;if(0==i)return!1;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let o,s=0;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(t[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<t.length;s+=2){let o=t[s+1];r.some((a,l)=>1&l&&a==o)||r.push(t[s],o)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[r],this.pos),o.score-=200,i.push(o)}return i}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let r=65535&e,s=this.stack.length-3*(e>>19);if(s<0||t.getGoto(this.stack[s],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new UV(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class UV{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class pme{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,i=e>>19;0==i?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(i-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class W_{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new W_(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new W_(this.stack,this.pos,this.index)}}class z_{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const HV=new z_;class mme{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=HV,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}peek(e){let i,r,t=this.chunkOff+e;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(null==s)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(null==i||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos);this.chunk=this.pos+e.length>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.next=this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?-1:this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=HV,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class q_{constructor(e,t){this.data=e,this.id=t}token(e,t){!function(n,e,t,i){let r=0,s=1<<i,{parser:o}=t.p,{dialect:a}=o;e:for(;0!=(s&n[r]);){let l=n[r+1];for(let c=r+3;c<l;c+=2)if((n[c+1]&s)>0){let u=n[c];if(a.allows(u)&&(-1==e.token.value||e.token.value==u||o.overrides(u,e.token.value))){e.acceptToken(u);break}}for(let c=e.next,u=0,d=n[r+2];u<d;){let h=u+d>>1,f=l+h+(h<<1),m=n[f+1];if(c<n[f])d=h;else{if(!(c>=m)){r=n[f+2],e.advance();continue e}u=h+1}}break}}(this.data,e,t,this.id)}}q_.prototype.contextual=q_.prototype.fallback=q_.prototype.extend=!1;class G_{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function X_(n,e=Uint16Array){if("string"!=typeof n)return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let o=n.charCodeAt(i++),a=!1;if(126==o){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[r++]=s:t=new e(s)}return t}const Kr="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let cS=null;function WV(n,e,t){let i=n.cursor(on.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class _me{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?WV(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?WV(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[t]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof hn){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(wt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class vme{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new z_)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(0==(1<<c&o))continue;let u=s[c],d=this.tokens[c];if((!i||u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=o||d.context!=a)&&(this.updateCachedToken(d,u,e),d.mask=o,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),0!=d.value)){let h=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!u.extend&&(i=d,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new z_,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new z_,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){if(t.token(this.stream.reset(i.pos,e),i),e.value>-1){let{parser:r}=i.p;for(let s=0;s<r.specialized.length;s++)if(r.specialized[s]==e.value){let o=r.specializers[s](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){0==(1&o)?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=Math.min(i.p.stream.end,i.pos+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(65535==a[c]){if(1!=a[c+1]){0==r&&2==a[c+1]&&(r=this.putAction(wo(a,c+2),t,i,r));break}c=wo(a,c+2)}a[c]==t&&(r=this.putAction(wo(a,c+1),t,i,r))}return r}}class yme{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new mme(t,r),this.tokens=new vme(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[H_.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>4*e.bufferLength?new _me(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let r,s,e=this.stacks,t=this.minStackPos,i=this.stacks=[];for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=r&&function(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||null!=i&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}(r);if(o)return this.stackToTree(o);if(this.parser.strict)throw Kr&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=null!=this.stoppedAt&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return this.stackToTree(o.forceAll())}if(this.recovering){let o=1==this.recovering?1:3*this.recovering;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1)e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500){if(!((a.score-c.score||a.buffer.length-c.buffer.length)>0)){i.splice(o--,1);continue e}i.splice(l--,1)}}}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,o=Kr?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(r);d;){let h=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(h>-1&&d.length&&(!c||(d.prop(wt.contextHash)||0)==u))return e.useNode(d,h),Kr&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof hn)||0==d.children.length||d.positions[0]>0)break;let f=d.children[0];if(!(f instanceof hn&&0==d.positions[0]))break;d=f}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Kr&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(65535&a)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],d=l[c++],h=l[c++],f=c==l.length||!i,p=f?e:e.split();if(p.apply(u,d,h),Kr&&console.log(o+this.stackID(p)+` (via ${0==(65536&u)?"shift":`reduce of ${s.getName(65535&u)}`} for ${s.getName(d)} @ ${r}${p==e?"":", split"})`),f)return!0;p.pos>r?t.push(p):i.push(p)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return zV(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[1+(o<<1)],u=Kr?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Kr&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let d=a.split(),h=u;for(let f=0;d.forceReduce()&&f<10&&(Kr&&console.log(h+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,i));f++)Kr&&(h=this.stackID(d)+" -> ");for(let f of a.recoverByInsert(l))Kr&&console.log(u+this.stackID(f)+" (via recover-insert)"),this.advanceFully(f,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Kr&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),zV(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),hn.build({buffer:W_.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(cS||(cS=new WeakMap)).get(e);return t||cS.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function zV(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n))return void(e[t].score<n.score&&(e[t]=n))}e.push(n)}class bme{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||0==this.disabled[e]}}const uS=n=>n;class Z_ extends gB{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<t.length;a++)r.push([]);function s(a,l,c){r[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];"string"==typeof l&&(l=wt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let d=a[c+-u];for(let h=-u;h>0;h--)s(a[c++],l,d);c++}}}this.nodeSet=new t_(t.map((a,l)=>Ai.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:0==l,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=dB;let o=X_(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let a=0;a<e.specialized.length;a++)this.specialized[a]=e.specialized[a].term,this.specializers[a]=e.specialized[a].get;this.states=X_(e.states,Uint32Array),this.data=X_(e.stateData),this.goto=X_(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>"number"==typeof a?new q_(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new yme(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let o=r[s++],a=1&o,l=r[s++];if(a&&i)return l;for(let c=s+(o>>1);s<c;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let o,s=this.stateSlot(e,r?2:1);;s+=3){if(65535==(o=i[s])){if(1!=i[s+1]){if(2==i[s+1])return wo(i,s+2);break}o=i[s=wo(i,s+2)]}if(o==t||0==o)return wo(i,s+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let i=this.stateSlot(e,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])return!1;i=wo(this.data,i+2)}if(t==wo(this.data,i+1))return!0}}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=wo(this.data,i+2)}if(0==(1&this.data[i+2])){let r=this.data[i+1];t.some((s,o)=>1&o&&s==r)||t.push(this.data[i],r)}}return t}overrides(e,t){let i=qV(this.data,this.tokenPrecTable,t);return i<0||qV(this.data,this.tokenPrecTable,e)<i}configure(e){let t=Object.assign(Object.create(Z_.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let a,o=this.dialects[t[s]];65535!=(a=this.data[o++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new bme(e,i,r)}static deserialize(e){return new Z_(e)}}function wo(n,e){return n[e]|n[e+1]<<16}function qV(n,e,t){for(let r,i=e;65535!=(r=n[i]);i++)if(r==t)return i-e;return-1}const Rme=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Vme=new class{constructor(e){this.start=e.start,this.shift=e.shift||uS,this.reduce=e.reduce||uS,this.reuse=e.reuse||uS,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}({start:!1,shift:(n,e)=>5==e||6==e||286==e?n:287==e,strict:!1}),jme=new G_((n,e)=>{let{next:t}=n;(125==t||-1==t||e.context)&&e.canShift(284)&&n.acceptToken(284)},{contextual:!0,fallback:!0}),Ume=new G_((n,e)=>{let i,{next:t}=n;Rme.indexOf(t)>-1||47==t&&(47==(i=n.peek(1))||42==i)||125!=t&&59!=t&&-1!=t&&!e.context&&e.canShift(281)&&n.acceptToken(281)},{contextual:!0}),Hme=new G_((n,e)=>{let{next:t}=n;if((43==t||45==t)&&(n.advance(),t==n.next)){n.advance();let i=!e.context&&e.canShift(1);n.acceptToken(i?1:2)}},{contextual:!0}),Wme=new G_(n=>{for(let e=!1,t=0;;t++){let{next:i}=n;if(i<0){t&&n.acceptToken(282);break}if(96==i){t?n.acceptToken(282):n.acceptToken(283,1);break}if(123==i&&e){1==t?n.acceptToken(3,1):n.acceptToken(282,-1);break}if(10==i&&t){n.advance(),n.acceptToken(282);break}92==i&&n.advance(),e=36==i,n.advance()}}),qme=CB({"get set async static":G.modifier,"for while do if else switch try catch finally return throw break continue default case":G.controlKeyword,"in of await yield void typeof delete instanceof":G.operatorKeyword,"let var const function class extends":G.definitionKeyword,"import export from":G.moduleKeyword,"with debugger as new":G.keyword,TemplateString:G.special(G.string),Super:G.atom,BooleanLiteral:G.bool,this:G.self,null:G.null,Star:G.modifier,VariableName:G.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":G.function(G.variableName),VariableDefinition:G.definition(G.variableName),Label:G.labelName,PropertyName:G.propertyName,PrivatePropertyName:G.special(G.propertyName),"CallExpression/MemberExpression/PropertyName":G.function(G.propertyName),"FunctionDeclaration/VariableDefinition":G.function(G.definition(G.variableName)),"ClassDeclaration/VariableDefinition":G.definition(G.className),PropertyDefinition:G.definition(G.propertyName),PrivatePropertyDefinition:G.definition(G.special(G.propertyName)),UpdateOp:G.updateOperator,LineComment:G.lineComment,BlockComment:G.blockComment,Number:G.number,String:G.string,ArithOp:G.arithmeticOperator,LogicOp:G.logicOperator,BitOp:G.bitwiseOperator,CompareOp:G.compareOperator,RegExp:G.regexp,Equals:G.definitionOperator,"Arrow : Spread":G.punctuation,"( )":G.paren,"[ ]":G.squareBracket,"{ }":G.brace,"InterpolationStart InterpolationEnd":G.special(G.brace),".":G.derefOperator,", ;":G.separator,TypeName:G.typeName,TypeDefinition:G.definition(G.typeName),"type enum interface implements namespace module declare":G.definitionKeyword,"abstract global Privacy readonly override":G.modifier,"is keyof unique infer":G.operatorKeyword,JSXAttributeValue:G.attributeValue,JSXText:G.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":G.angleBracket,"JSXIdentifier JSXNameSpacedName":G.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":G.attributeName}),Gme={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:474,finally:478,return:482,throw:486,break:490,continue:494,debugger:498},Xme={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},Zme={__proto__:null,"<":129},Yme=Z_.deserialize({version:14,states:"$4|O`QYOOO'QQ$IfO'#ChO'XOSO'#DVO)dQYO'#D]O)tQYO'#DhO){QYO'#DrO-xQYO'#DxOOQO'#E]'#E]O.]QWO'#E[O.bQWO'#E[OOQ$IU'#Ef'#EfO0aQ$IfO'#ItO2wQ$IfO'#IuO3eQWO'#EzO3jQpO'#FaOOQ$IU'#FS'#FSO3rO!bO'#FSO4QQWO'#FhO5_QWO'#FgOOQ$IU'#Iu'#IuOOQ$IS'#It'#ItOOQQ'#J^'#J^O5dQWO'#HpO5iQ$I[O'#HqOOQQ'#Ih'#IhOOQQ'#Hr'#HrQ`QYOOO){QYO'#DjO5qQWO'#G[O5vQ#tO'#CmO6UQWO'#EZO6aQWO'#EgO6fQ#tO'#FRO7QQWO'#G[O7VQWO'#G`O7bQWO'#G`O7pQWO'#GcO7pQWO'#GdO7pQWO'#GfO5qQWO'#GiO8aQWO'#GlO9oQWO'#CdO:PQWO'#GyO:XQWO'#HPO:XQWO'#HRO`QYO'#HTO:XQWO'#HVO:XQWO'#HYO:^QWO'#H`O:cQ$I]O'#HfO){QYO'#HhO:nQ$I]O'#HjO:yQ$I]O'#HlO5iQ$I[O'#HnO){QYO'#DWOOOS'#Ht'#HtO;UOSO,59qOOQ$IU,59q,59qO=gQbO'#ChO=qQYO'#HuO>UQWO'#IvO@TQbO'#IvO'dQYO'#IvO@[QWO,59wO@rQ&jO'#DbOAkQWO'#E]OAxQWO'#JROBTQWO'#JQOBTQWO'#JQOB]QWO,5:yOBbQWO'#JPOBiQWO'#DyO5vQ#tO'#EZOBwQWO'#EZOCSQ`O'#FROOQ$IU,5:S,5:SOC[QYO,5:SOEYQ$IfO,5:^OEvQWO,5:dOFaQ$I[O'#JOO7VQWO'#I}OFhQWO'#I}OFpQWO,5:xOFuQWO'#I}OGTQYO,5:vOITQWO'#EWOJ_QWO,5:vOKnQWO'#DlOKuQYO'#DqOLPQ&jO,5;PO){QYO,5;POOQQ'#Er'#ErOOQQ'#Et'#EtO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;ROOQQ'#Ex'#ExOLXQYO,5;cOOQ$IU,5;h,5;hOOQ$IU,5;i,5;iONXQWO,5;iOOQ$IU,5;j,5;jO){QYO'#IPON^Q$I[O,5<TONxQWO,5;RO){QYO,5;fO! bQpO'#JVO! PQpO'#JVO! iQpO'#JVO! zQpO,5;qOOOO,5;{,5;{O!!YQYO'#FcOOOO'#IO'#IOO3rO!bO,5;nO!!aQpO'#FeOOQ$IU,5;n,5;nO!!}Q,UO'#CrOOQ$IU'#Cu'#CuO!#bQWO'#CuO!#gOSO'#CyO!$TQ#tO,5<QO!$[QWO,5<SO!%hQWO'#FrO!%uQWO'#FsO!%zQWO'#FwO!&yQ&jO'#F{O!'lQ,UO'#IqOOQ$IU'#Iq'#IqO!'vQWO'#IpO!(UQWO'#IoOOQ$IU'#Cs'#CsOOQ$IU'#C|'#C|O!(^QWO'#DOOJdQWO'#FjOJdQWO'#FlO!(cQWO'#FnO!(hQWO'#FoO!(mQWO'#FuOJdQWO'#FzO!(rQWO'#E^O!)ZQWO,5<RO`QYO,5>[OOQQ'#Ik'#IkOOQQ,5>],5>]OOQQ-E;p-E;pO!+VQ$IfO,5:UOOQ$IS'#Cp'#CpO!+vQ#tO,5<vOOQO'#Cf'#CfO!,XQWO'#CqO!,aQ$I[O'#IlO5_QWO'#IlO:^QWO,59XO!,rQpO,59XO!,zQ#tO,59XO5vQ#tO,59XO!-VQWO,5:vO!-_QWO'#GxO!-mQWO'#JbO){QYO,5;kO!-uQ&jO,5;mO!-zQWO,5=cO!.PQWO,5=cO!.UQWO,5=cO5iQ$I[O,5=cO5qQWO,5<vO!.dQWO'#E_O!.xQ&jO'#E`OOQ$IS'#JP'#JPO!/ZQ$I[O'#J_O5iQ$I[O,5<zO7pQWO,5=QOOQO'#Cr'#CrO!/fQpO,5<}O!/nQ#tO,5=OO!/yQWO,5=QO!0OQ`O,5=TO:^QWO'#GnO5qQWO'#GpO!0WQWO'#GpO5vQ#tO'#GsO!0]QWO'#GsOOQQ,5=W,5=WO!0bQWO'#GtO!0jQWO'#CmO!0oQWO,59OO!0yQWO,59OO!2{QYO,59OOOQQ,59O,59OO!3YQ$I[O,59OO){QYO,59OO!3eQYO'#G{OOQQ'#G|'#G|OOQQ'#G}'#G}O`QYO,5=eO!3uQWO,5=eO){QYO'#DxO`QYO,5=kO`QYO,5=mO!3zQWO,5=oO`QYO,5=qO!4PQWO,5=tO!4UQYO,5=zOOQQ,5>Q,5>QO){QYO,5>QO5iQ$I[O,5>SOOQQ,5>U,5>UO!8VQWO,5>UOOQQ,5>W,5>WO!8VQWO,5>WOOQQ,5>Y,5>YO!8[Q`O,59rOOOS-E;r-E;rOOQ$IU1G/]1G/]O!8aQbO,5>aO'dQYO,5>aOOQO,5>f,5>fO!8kQYO'#HuOOQO-E;s-E;sO!8xQWO,5?bO!9QQbO,5?bO!9XQWO,5?lOOQ$IU1G/c1G/cO!9aQpO'#DTOOQO'#Ix'#IxO){QYO'#IxO!:OQpO'#IxO!:mQpO'#DcO!;OQ&jO'#DcO!=ZQYO'#DcO!=bQWO'#IwO!=jQWO,59|O!=oQWO'#EaO!=}QWO'#JSO!>VQWO,5:zO!>mQ&jO'#DcO){QYO,5?mO!>wQWO'#HzOOQO-E;x-E;xO!9XQWO,5?lOOQ$IS1G0e1G0eO!@TQ&jO'#D|OOQ$IU,5:e,5:eO){QYO,5:eOITQWO,5:eO!@[QWO,5:eO:^QWO,5:uO!,rQpO,5:uO!,zQ#tO,5:uO5vQ#tO,5:uOOQ$IU1G/n1G/nOOQ$IU1G0O1G0OOOQ$IS'#EV'#EVO){QYO,5?jO!@gQ$I[O,5?jO!@xQ$I[O,5?jO!APQWO,5?iO!AXQWO'#H|O!APQWO,5?iOOQ$IS1G0d1G0dO7VQWO,5?iOOQ$IU1G0b1G0bO!AsQ$IfO1G0bO!BdQ$IdO,5:rOOQ$IU'#Fq'#FqO!CQQ$IfO'#IqOGTQYO1G0bO!EPQ#tO'#IyO!EZQWO,5:WO!E`QbO'#IzO){QYO'#IzO!EjQWO,5:]OOQ$IU'#DT'#DTOOQ$IU1G0k1G0kO!EoQWO1G0kO!HQQ$IfO1G0mO!HXQ$IfO1G0mO!JlQ$IfO1G0mO!JsQ$IfO1G0mO!LzQ$IfO1G0mO!M_Q$IfO1G0mO#!OQ$IfO1G0mO#!VQ$IfO1G0mO#$jQ$IfO1G0mO#$qQ$IfO1G0mO#&fQ$IfO1G0mO#)`Q7^O'#ChO#+ZQ7^O1G0}O#-UQ7^O'#IuOOQ$IU1G1T1G1TO#-iQ$IfO,5>kOOQ$IS-E;}-E;}O#.YQ$IfO1G0mOOQ$IU1G0m1G0mO#0[Q$IfO1G1QO#0{QpO,5;sO#1QQpO,5;tO#1VQpO'#F[O#1kQWO'#FZOOQO'#JW'#JWOOQO'#H}'#H}O#1pQpO1G1]OOQ$IU1G1]1G1]OOOO1G1f1G1fO#2OQ7^O'#ItO#2YQWO,5;}OLXQYO,5;}OOOO-E;|-E;|OOQ$IU1G1Y1G1YOOQ$IU,5<P,5<PO#2_QpO,5<POOQ$IU,59a,59aOITQWO'#C{OOOS'#Hs'#HsO#2dOSO,59eOOQ$IU,59e,59eO){QYO1G1lO!(hQWO'#IRO#2oQWO,5<eOOQ$IU,5<b,5<bOOQO'#GV'#GVOJdQWO,5<pOOQO'#GX'#GXOJdQWO,5<rOJdQWO,5<tOOQO1G1n1G1nO#2zQ`O'#CpO#3_Q`O,5<^O#3fQWO'#JZO5qQWO'#JZO#3tQWO,5<`OJdQWO,5<_O#3yQ`O'#FqO#4WQ`O'#J[O#4bQWO'#J[OITQWO'#J[O#4gQWO,5<cOOQ$IS'#Dg'#DgO#4lQWO'#FtO#4wQpO'#F|O!&tQ&jO'#F|O!&tQ&jO'#GOO#5YQWO'#GPO!(mQWO'#GSO#5_Q$I[O'#ITO#5jQ&jO,5<gOOQ$IU,5<g,5<gO#5qQ&jO'#F|O#6PQ&jO'#F}O#6XQ&jO'#F}OOQ$IU,5<u,5<uOJdQWO,5?[OJdQWO,5?[O#6^QWO'#IUO#6iQWO,5?ZOOQ$IU'#Ch'#ChO#7]Q#tO,59jOOQ$IU,59j,59jO#8OQ#tO,5<UO#8qQ#tO,5<WO#8{QWO,5<YOOQ$IU,5<Z,5<ZO#9QQWO,5<aO#9VQ#tO,5<fOGTQYO1G1mO#9gQWO1G1mOOQQ1G3v1G3vOOQ$IU1G/p1G/pONXQWO1G/pOOQQ1G2b1G2bOITQWO1G2bO){QYO1G2bOITQWO1G2bO#9lQWO1G2bO#9zQWO,59]O#;TQWO'#EWOOQ$IS,5?W,5?WO#;_Q$I[O,5?WOOQQ1G.s1G.sO:^QWO1G.sO!,rQpO1G.sO!,zQ#tO1G.sO#;pQWO1G0bO#;uQWO'#ChO#<QQWO'#JcO#<YQWO,5=dO#<_QWO'#JcO#<dQWO'#JcO#<lQWO'#I^O#<zQWO,5?|O#=SQbO1G1VOOQ$IU1G1X1G1XO5qQWO1G2}O#=ZQWO1G2}O#=`QWO1G2}O#=eQWO1G2}OOQQ1G2}1G2}O#=jQ#tO1G2bO7VQWO'#JQO7VQWO'#EaO7VQWO'#IWO#={Q$I[O,5?yOOQQ1G2f1G2fO!/yQWO1G2lOITQWO1G2iO#>WQWO1G2iOOQQ1G2j1G2jOITQWO1G2jO#>]QWO1G2jO#>eQ&jO'#GhOOQQ1G2l1G2lO!&tQ&jO'#IYO!0OQ`O1G2oOOQQ1G2o1G2oOOQQ,5=Y,5=YO#>mQ#tO,5=[O5qQWO,5=[O#5YQWO,5=_O5_QWO,5=_O!,rQpO,5=_O!,zQ#tO,5=_O5vQ#tO,5=_O#?OQWO'#JaO#?ZQWO,5=`OOQQ1G.j1G.jO#?`Q$I[O1G.jO#?kQWO1G.jO#?pQWO1G.jO5iQ$I[O1G.jO#?xQbO,5@OO#@SQWO,5@OO#@_QYO,5=gO#@fQWO,5=gO7VQWO,5@OOOQQ1G3P1G3PO`QYO1G3POOQQ1G3V1G3VOOQQ1G3X1G3XO:XQWO1G3ZO#@kQYO1G3]O#DfQYO'#H[OOQQ1G3`1G3`O#DsQWO'#HbO:^QWO'#HdOOQQ1G3f1G3fO#D{QYO1G3fO5iQ$I[O1G3lOOQQ1G3n1G3nOOQ$IS'#Fx'#FxO5iQ$I[O1G3pO5iQ$I[O1G3rOOOS1G/^1G/^O#HyQ`O,5<TO#IRQbO1G3{OOQO1G4Q1G4QO){QYO,5>aO#I]QWO1G4|O#IeQWO1G5WO#ImQWO,5?dOLXQYO,5:{O7VQWO,5:{O:^QWO,59}OLXQYO,59}O!,rQpO,59}O#IrQ7^O,59}OOQO,5:{,5:{O#I|Q&jO'#HvO#JdQWO,5?cOOQ$IU1G/h1G/hO#JlQ&jO'#H{O#KQQWO,5?nOOQ$IS1G0f1G0fO!;OQ&jO,59}O#KYQbO1G5XO7VQWO,5>fOOQ$IS'#ES'#ESO#KdQ$ItO'#ETO!?{Q&jO'#D}OOQO'#Hy'#HyO#LOQ&jO,5:hOOQ$IU,5:h,5:hO#LVQ&jO'#D}O#LhQ&jO'#D}O#LoQ&jO'#EYO#LrQ&jO'#ETO#MPQ&jO'#ETO!?{Q&jO'#ETO#MdQWO1G0PO#MiQ`O1G0POOQ$IU1G0P1G0PO){QYO1G0POITQWO1G0POOQ$IU1G0a1G0aO:^QWO1G0aO!,rQpO1G0aO!,zQ#tO1G0aO#MpQ$IfO1G5UO){QYO1G5UO#NQQ$I[O1G5UO#NcQWO1G5TO7VQWO,5>hOOQO,5>h,5>hO#NkQWO,5>hOOQO-E;z-E;zO#NcQWO1G5TO#NyQ$IfO,59jO$!xQ$IfO,5<UO$$zQ$IfO,5<WO$&|Q$IfO,5<fOOQ$IU7+%|7+%|O$)UQ$IfO7+%|O$)uQWO'#HwO$*PQWO,5?eOOQ$IU1G/r1G/rO$*XQYO'#HxO$*fQWO,5?fO$*nQbO,5?fOOQ$IU1G/w1G/wOOQ$IU7+&V7+&VO$*xQ7^O,5:^O){QYO7+&iO$+SQ7^O,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$+aQMhO,5;vOLXQYO,5;uOOQO-E;{-E;{OOQ$IU7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$+lQWO1G1iOOQ$IU1G1k1G1kO$+qQ`O,59gOOOS-E;q-E;qOOQ$IU1G/P1G/PO$+xQ$IfO7+'WOOQ$IU,5>m,5>mO$,iQWO,5>mOOQ$IU1G2P1G2PP$,nQWO'#IRPOQ$IU-E<P-E<PO$-_Q#tO1G2[O$.QQ#tO1G2^O$.[Q#tO1G2`OOQ$IU1G1x1G1xO$.cQWO'#IQO$.qQWO,5?uO$.qQWO,5?uO$.yQWO,5?uO$/UQWO,5?uOOQO1G1z1G1zO$/dQ#tO1G1yO$/tQWO'#ISO$0UQWO,5?vOITQWO,5?vO$0^Q`O,5?vOOQ$IU1G1}1G1}OOQ$IS,5<h,5<hOOQ$IS,5<i,5<iO$0hQWO,5<iO#5TQWO,5<iO!,rQpO,5<hO$0mQWO,5<jOOQ$IS,5<k,5<kO$0hQWO,5<nOOQO,5>o,5>oOOQO-E<R-E<ROOQ$IU1G2R1G2RO!&tQ&jO,5<hO$0uQWO,5<iO!&tQ&jO,5<jO!&tQ&jO,5<iO$1QQ#tO1G4vO$1[Q#tO1G4vOOQO,5>p,5>pOOQO-E<S-E<SO!-uQ&jO,59lO){QYO,59lO$1iQWO1G1tOJdQWO1G1{O$1nQ$IfO7+'XOOQ$IU7+'X7+'XOGTQYO7+'XOOQ$IU7+%[7+%[O$2_Q`O'#J]O#MdQWO7+'|O$2iQWO7+'|O$2qQ`O7+'|OOQQ7+'|7+'|OITQWO7+'|O){QYO7+'|OITQWO7+'|OOQO1G.w1G.wO$2{Q$IdO'#ChO$3`Q$IdO,5<lO$4QQWO,5<lOOQ$IS1G4r1G4rOOQQ7+$_7+$_O:^QWO7+$_O!,rQpO7+$_OGTQYO7+%|O$4VQWO'#I]O$4hQWO,5?}OOQO1G3O1G3OO5qQWO,5?}O$4hQWO,5?}O$4pQWO,5?}OOQO,5>x,5>xOOQO-E<[-E<[OOQ$IU7+&q7+&qO$4uQWO7+(iO5iQ$I[O7+(iO5qQWO7+(iO$4zQWO7+(iO$5PQWO7+'|OOQ$IS,5>r,5>rOOQ$IS-E<U-E<UOOQQ7+(W7+(WO$5_Q$IdO7+(TOITQWO7+(TO$5iQ`O7+(UOOQQ7+(U7+(UOITQWO7+(UO$5pQWO'#J`O$5{QWO,5=SOOQO,5>t,5>tOOQO-E<W-E<WOOQQ7+(Z7+(ZO$6uQ&jO'#GqOOQQ1G2v1G2vOITQWO1G2vO){QYO1G2vOITQWO1G2vO$6|QWO1G2vO$7[Q#tO1G2vO5iQ$I[O1G2yO#5YQWO1G2yO5_QWO1G2yO!,rQpO1G2yO!,zQ#tO1G2yO$7mQWO'#I[O$7xQWO,5?{O$8QQ&jO,5?{OOQ$IS1G2z1G2zOOQQ7+$U7+$UO$8YQWO7+$UO5iQ$I[O7+$UO$8_QWO7+$UO){QYO1G5jO){QYO1G5kO$8dQYO1G3RO$8kQWO1G3RO$8pQYO1G3RO$8wQ$I[O1G5jOOQQ7+(k7+(kO5iQ$I[O7+(uO`QYO7+(wOOQQ'#Jf'#JfOOQQ'#I_'#I_O$9RQYO,5=vOOQQ,5=v,5=vO){QYO'#H]O$9`QWO'#H_OOQQ,5=|,5=|O7VQWO,5=|OOQQ,5>O,5>OOOQQ7+)Q7+)QOOQQ7+)W7+)WOOQQ7+)[7+)[OOQQ7+)^7+)^OOQO1G5O1G5OO$9eQ7^O1G0gO$9oQWO1G0gOOQO1G/i1G/iO$9zQ7^O1G/iO:^QWO1G/iOLXQYO'#DcOOQO,5>b,5>bOOQO-E;t-E;tOOQO,5>g,5>gOOQO-E;y-E;yO!,rQpO1G/iO:^QWO,5:iOOQO,5:o,5:oO){QYO,5:oO$:UQ$I[O,5:oO$:aQ$I[O,5:oO!,rQpO,5:iOOQO-E;w-E;wOOQ$IU1G0S1G0SO!?{Q&jO,5:iO$:oQ&jO,5:iO$;QQ$ItO,5:oO$;lQ&jO,5:iO!?{Q&jO,5:oOOQO,5:t,5:tO$;sQ&jO,5:oO$<QQ$I[O,5:oOOQ$IU7+%k7+%kO#MdQWO7+%kO#MiQ`O7+%kOOQ$IU7+%{7+%{O:^QWO7+%{O!,rQpO7+%{O$<fQ$IfO7+*pO){QYO7+*pOOQO1G4S1G4SO7VQWO1G4SO$<vQWO7+*oO$=OQ$IfO1G2[O$?QQ$IfO1G2^O$ASQ$IfO1G1yO$C[Q#tO,5>cOOQO-E;u-E;uO$CfQbO,5>dO){QYO,5>dOOQO-E;v-E;vO$CpQWO1G5QO$CxQ7^O1G0bO$FPQ7^O1G0mO$FWQ7^O1G0mO$HXQ7^O1G0mO$H`Q7^O1G0mO$JTQ7^O1G0mO$JhQ7^O1G0mO$LuQ7^O1G0mO$L|Q7^O1G0mO$N}Q7^O1G0mO% UQ7^O1G0mO%!yQ7^O1G0mO%#^Q$IfO<<JTO%#}Q7^O1G0mO%&UQ7^O'#IqO%'nQ7^O1G1QOLXQYO'#F^OOQO'#JX'#JXOOQO1G1b1G1bO%'{QWO1G1aO%(QQ7^O,5>kOOOO7+'T7+'TOOOS1G/R1G/ROOQ$IU1G4X1G4XOJdQWO7+'zO%([QWO,5>lO5qQWO,5>lOOQO-E<O-E<OO%(jQWO1G5aO%(jQWO1G5aO%(rQWO1G5aO%(}Q`O,5>nO%)XQWO,5>nOITQWO,5>nOOQO-E<Q-E<QO%)^Q`O1G5bO%)hQWO1G5bOOQ$IS1G2T1G2TO$0hQWO1G2TOOQ$IS1G2S1G2SO%)pQWO1G2UOITQWO1G2UOOQ$IS1G2Y1G2YO!,rQpO1G2SO#5TQWO1G2TO%)uQWO1G2UO%)}QWO1G2TOJdQWO7+*bOOQ$IU1G/W1G/WO%*YQWO1G/WOOQ$IU7+'`7+'`O%*_Q#tO7+'gO%*oQ$IfO<<JsOOQ$IU<<Js<<JsOITQWO'#IVO%+`QWO,5?wOOQQ<<Kh<<KhOITQWO<<KhO#MdQWO<<KhO%+hQWO<<KhO%+pQ`O<<KhOITQWO1G2WOOQQ<<Gy<<GyO:^QWO<<GyO%+zQ$IfO<<IhOOQ$IU<<Ih<<IhOOQO,5>w,5>wO%,kQWO,5>wO%,pQWO,5>wOOQO-E<Z-E<ZO%,xQWO1G5iO%,xQWO1G5iO5qQWO1G5iO%-QQWO<<LTOOQQ<<LT<<LTO%-VQWO<<LTO5iQ$I[O<<LTO){QYO<<KhOITQWO<<KhOOQQ<<Ko<<KoO$5_Q$IdO<<KoOOQQ<<Kp<<KpO$5iQ`O<<KpO%-[Q&jO'#IXO%-gQWO,5?zOLXQYO,5?zOOQQ1G2n1G2nO#KdQ$ItO'#ETO!?{Q&jO'#GrOOQO'#IZ'#IZO%-oQ&jO,5=]OOQQ,5=],5=]O%-vQ&jO'#ETO%.RQ&jO'#ETO%.jQ&jO'#ETO%.tQ&jO'#GrO%/VQWO7+(bO%/[QWO7+(bO%/dQ`O7+(bOOQQ7+(b7+(bOITQWO7+(bO){QYO7+(bOITQWO7+(bO%/nQWO7+(bOOQQ7+(e7+(eO5iQ$I[O7+(eO#5YQWO7+(eO5_QWO7+(eO!,rQpO7+(eO%/|QWO,5>vOOQO-E<Y-E<YOOQO'#Gu'#GuO%0XQWO1G5gO5iQ$I[O<<GpOOQQ<<Gp<<GpO%0aQWO<<GpO%0fQWO7++UO%0kQWO7++VOOQQ7+(m7+(mO%0pQWO7+(mO%0uQYO7+(mO%0|QWO7+(mO){QYO7++UO){QYO7++VOOQQ<<La<<LaOOQQ<<Lc<<LcOOQQ-E<]-E<]OOQQ1G3b1G3bO%1RQWO,5=wOOQQ,5=y,5=yO%1WQWO1G3hOLXQYO7+&ROOQO7+%T7+%TO%1]Q7^O1G5XO:^QWO7+%TOOQO1G0T1G0TO%1gQ$IfO1G0ZOOQO1G0Z1G0ZO){QYO1G0ZO%1qQ$I[O1G0ZO:^QWO1G0TO!,rQpO1G0TO!?{Q&jO1G0TO%1|Q$I[O1G0ZO%2[Q&jO1G0TO%2mQ$I[O1G0ZO%3RQ$ItO1G0ZO%3]Q&jO1G0TO!?{Q&jO1G0ZOOQ$IU<<IV<<IVOOQ$IU<<Ig<<IgO:^QWO<<IgO%3dQ$IfO<<N[OOQO7+)n7+)nO%3tQ$IfO7+'gO%5|QbO1G4OO%6WQ7^O7+%|O%6|Q7^O,59jO%8zQ7^O,5<UO%:{Q7^O,5<WO%<hQ7^O,5<fO%>WQ7^O7+'WO%>eQ7^O7+'XO%>rQWO,5;xOOQO7+&{7+&{O%>wQ#tO<<KfOOQO1G4W1G4WO%?XQWO1G4WO%?dQWO1G4WO%?rQWO7+*{O%?rQWO7+*{OITQWO1G4YO%?zQ`O1G4YO%@UQWO7+*|OOQ$IS7+'o7+'oO$0hQWO7+'pO%@^Q`O7+'pOOQ$IS7+'n7+'nO$0hQWO7+'oO%@eQWO7+'pOITQWO7+'pO#5TQWO7+'oO%@jQ#tO<<M|OOQ$IU7+$r7+$rO%@tQ`O,5>qOOQO-E<T-E<TO#MdQWOANASOOQQANASANASOITQWOANASO%AOQ$IdO7+'rOOQQAN=eAN=eO5qQWO1G4cOOQO1G4c1G4cO%A`QWO1G4cO%AeQWO7++TO%AeQWO7++TO5iQ$I[OANAoO%AmQWOANAoOOQQANAoANAoO%ArQWOANASO%AzQ`OANASOOQQANAZANAZOOQQANA[ANA[O%BUQWO,5>sOOQO-E<V-E<VO%BaQ7^O1G5fO#5YQWO,5=^O5_QWO,5=^O!,rQpO,5=^OOQO-E<X-E<XOOQQ1G2w1G2wO$;QQ$ItO,5:oO!?{Q&jO,5=^O%BkQ&jO,5=^O%B|Q&jO,5:oOOQQ<<K|<<K|OITQWO<<K|O%/VQWO<<K|O%CWQWO<<K|O%C`Q`O<<K|O){QYO<<K|OITQWO<<K|OOQQ<<LP<<LPO5iQ$I[O<<LPO#5YQWO<<LPO5_QWO<<LPO%CjQ&jO1G4bO%CrQWO7++ROOQQAN=[AN=[O5iQ$I[OAN=[OOQQ<<Np<<NpOOQQ<<Nq<<NqOOQQ<<LX<<LXO%CzQWO<<LXO%DPQYO<<LXO%DWQWO<<NpO%D]QWO<<NqOOQQ1G3c1G3cO:^QWO7+)SO%DbQ7^O<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%1gQ$IfO7+%uO){QYO7+%uOOQO7+%o7+%oO:^QWO7+%oO!,rQpO7+%oO%DlQ$I[O7+%uO!?{Q&jO7+%oO%DwQ$I[O7+%uO%EVQ&jO7+%oO%EhQ$I[O7+%uOOQ$IUAN?RAN?RO%E|Q$IfO<<KfO%HUQ7^O<<JTO%HcQ7^O1G1yO%JgQ7^O1G2[O%LhQ7^O1G2^O%NTQ7^O<<JsO%NbQ7^O<<IhOOQO1G1d1G1dOOQO7+)r7+)rO%NoQWO7+)rO%NzQWO<<NgO& SQ`O7+)tOOQ$IS<<K[<<K[O$0hQWO<<K[OOQ$IS<<KZ<<KZO& ^Q`O<<K[O$0hQWO<<KZOOQQG26nG26nO#MdQWOG26nOOQO7+)}7+)}O5qQWO7+)}O& eQWO<<NoOOQQG27ZG27ZO5iQ$I[OG27ZOITQWOG26nOLXQYO1G4_O& mQWO7++QO5iQ$I[O1G2xO#5YQWO1G2xO5_QWO1G2xO!,rQpO1G2xO!?{Q&jO1G2xO%3RQ$ItO1G0ZO& uQ&jO1G2xO%/VQWOANAhOOQQANAhANAhOITQWOANAhO&!WQWOANAhO&!`Q`OANAhOOQQANAkANAkO5iQ$I[OANAkO#5YQWOANAkOOQO'#Gv'#GvOOQO7+)|7+)|OOQQG22vG22vOOQQANAsANAsO&!jQWOANAsOOQQAND[AND[OOQQAND]AND]OOQQ<<Ln<<LnOOQO<<Ia<<IaO%1gQ$IfO<<IaOOQO<<IZ<<IZO:^QWO<<IZO){QYO<<IaO!,rQpO<<IZO&!oQ$I[O<<IaO!?{Q&jO<<IZO&!zQ$I[O<<IaO&#YQ7^O7+'gOOQO<<M^<<M^OOQ$ISAN@vAN@vO$0hQWOAN@vOOQ$ISAN@uAN@uOOQQLD,YLD,YOOQO<<Mi<<MiOOQQLD,uLD,uO#MdQWOLD,YO&$xQ7^O7+)yOOQO7+(d7+(dO5iQ$I[O7+(dO#5YQWO7+(dO5_QWO7+(dO!,rQpO7+(dO!?{Q&jO7+(dOOQQG27SG27SO%/VQWOG27SOITQWOG27SOOQQG27VG27VO5iQ$I[OG27VOOQQG27_G27_OOQOAN>{AN>{OOQOAN>uAN>uO%1gQ$IfOAN>{O:^QWOAN>uO){QYOAN>{O!,rQpOAN>uO&%SQ$I[OAN>{O&%_Q7^O<<KfOOQ$ISG26bG26bOOQQ!$( t!$( tOOQO<<LO<<LOO5iQ$I[O<<LOO#5YQWO<<LOO5_QWO<<LOO!,rQpO<<LOOOQQLD,nLD,nO%/VQWOLD,nOOQQLD,qLD,qOOQOG24gG24gOOQOG24aG24aO%1gQ$IfOG24gO:^QWOG24aO){QYOG24gO&&}QMhO,5:rO&'tQ!LQO'#IqOOQOANAjANAjO5iQ$I[OANAjO#5YQWOANAjO5_QWOANAjOOQQ!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%1gQ$IfOLD*RO&(hQMhO,59jO&)[QMhO,5<UO&*OQMhO,5<WO&*rQMhO,5<fOOQOG27UG27UO5iQ$I[OG27UO#5YQWOG27UOOQO!$'Mm!$'MmO&+iQMhO1G2[O&,]QMhO1G2^O&-PQMhO1G1yOOQOLD,pLD,pO5iQ$I[OLD,pO&-vQMhO7+'gOOQO!$(![!$(![O&.mQMhO<<KfOLXQYO'#DrO&/dQbO'#ItOLXQYO'#DjO&/kQ$IfO'#ChO&0UQbO'#ChO&0fQYO,5:vO&2fQWO'#EWOLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO'#IPO&3pQWO,5<TO&5SQWO,5;ROLXQYO,5;fO!(^QWO'#DOO!(^QWO'#DOO!(^QWO'#DOOITQWO'#FjO&2fQWO'#FjO&3xQWO'#FjOITQWO'#FlO&2fQWO'#FlO&3xQWO'#FlOITQWO'#FzO&2fQWO'#FzO&3xQWO'#FzOLXQYO,5?mO&0fQYO1G0bO&5ZQ7^O'#ChOLXQYO1G1lOITQWO,5<pO&2fQWO,5<pO&3xQWO,5<pOITQWO,5<rO&2fQWO,5<rO&3xQWO,5<rOITQWO,5<_O&2fQWO,5<_O&3xQWO,5<_O&0fQYO1G1mOLXQYO7+&iOITQWO1G1{O&2fQWO1G1{O&3xQWO1G1{O&0fQYO7+'XO&0fQYO7+%|OITQWO7+'zO&2fQWO7+'zO&3xQWO7+'zO&5eQWO7+'pO&5eQWO<<K[O&5eQWOAN@vO&5jQWO'#E[O&5oQWO'#E[O&5wQWO'#EzO&5|QWO'#EgO&6RQWO'#JRO&6^QWO'#JPO&6iQWO,5:vO&6nQ#tO,5<QO&6uQWO'#FsO&6zQWO'#FsO&7PQWO'#FsO&7UQWO,5<RO&7^QWO,5:vO&7fQ7^O1G0}O&7mQWO,5<aO&7rQWO,5<aO&7wQWO,5<aO&7|QWO1G1mO&8RQWO1G0bO&8WQ#tO1G2`O&8_Q#tO1G2`O&8fQ#tO1G2`O&8mQWO1G2UO&8rQ`O7+'pO&8yQWO7+'pO&9OQ`O<<K[O4QQWO'#FhO5_QWO'#FgOBwQWO'#EZOLXQYO,5;cO!(mQWO'#FuO!(mQWO'#FuO!(mQWO'#FuOJdQWO,5<tOJdQWO,5<tOJdQWO,5<tO&9VQWO,5<jOITQWO1G2UO&9_QWO1G2UOITQWO7+'pO!&tQ&jO'#GOO!&tQ&jO,5<j",stateData:"&:]~O'YOS'ZOSTOSUOS~OPTOQTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&Z!RO&]!SO&_!TO&a!UO&c!VO']PO'fQO'oYO'|aO~OP[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'W[X'f[X'p[X'w[X'x[X~O!]$lX~P$zOR!WO'U!XO'V!ZO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']![O'fQO'oYO'|aO~O!Q!`O!R!]O!O'jP!O'tP~P'dO!S!mO~P`OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9WO'fQO'oYO'|aO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'fQO'oYO'|aO~O!Q!rO#U!uO#V!rO']9XO!c'qP~P+{O#W!vO~O!]!wO#W!vO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_'hX'W'hX!c'hX!O'hX!T'hX%Q'hX!]'hX~P.jO!{#eO#o#eOP'iXZ'iX_'iXj'iXu'iXv'iXx'iX!R'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX~O#c'iX'W'iX!O'iX!c'iXn'iX!T'iX%Q'iX!]'iX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO']#pO'f#sO'a'cP~O!d$XO~O!]$ZO~O_$[O'W$[O~O']$`O~O!d$XO']$`O'^$bO'b$cO~Oc$iO!d$XO']$`O~O#c#TO~O]$rOu$nO!T$kO!d$mO%R$qO']$`O'^$bO^(UP~O!n$sO~Ox$tO!T$uO']$`O~Ox$tO!T$uO%Z$yO']$`O~O']$zO~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%TOc%SO!n%QO%P%RO%c%PO~P7uOb%WOcmO!T%VO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%ZO!{%^O%R%XO'^$bO~P8tO!d%_O!g%cO~O!d%dO~O!TSO~O_$[O'T%lO'W$[O~O_$[O'T%oO'W$[O~O_$[O'T%qO'W$[O~OR!WO'U!XO'V%uO~OP[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X~O!O[X!OdX~P;aO!Q%wO!O&iX!O&nX!R&iX!R&nX~P'dO!R%yO!O'jX~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R%yO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O!O'jX~P>^O!O&OO~Ox&RO!W&]O!X&UO!Y&UO'^$bO~O]&SOk&SO!Q&VO'g&PO!S'kP!S'vP~P@aO!O'sX!R'sX!]'sX!c'sX'p'sX~O!{'sX#W#PX!S'sX~PAYO!{&^O!O'uX!R'uX~O!R&_O!O'tX~O!O&bO~O!{#eO~PAYOS&fO!T&cO!o&eO']$`O~Oc&kO!d$XO']$`O~Ou$nO!d$mO~O!S&lO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'fQOP!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'p!fa'w!fa'x!fa~O_!fa'W!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCcO!c&mO~O!]!wO!{&oO'p&nO!R'rX_'rX'W'rX~O!c'rX~PE{O!R&sO!c'qX~O!c&uO~Ox$tO!T$uO#V&vO']$`O~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9WO'fQO'oYO'|aO~O]#qOh$OOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO']&zO'f#sO~O#W&|O~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO']&zO'f#sO~O'a'mP~PJdO!Q'QO!c'nP~P){O'g'SO'oYO~OP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!T!bO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O']'bO'fQO'oYO'|:}O~O!d!zO~O!R#bO_$]a'W$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'iO~PITO!]'kO!T'yX#w'yX#z'yX$R'yX~Ou'lO~P! POu'lO!T'yX#w'yX#z'yX$R'yX~O!T'nO#w'rO#z'mO$R'sO~O!Q'vO~PLXO#z#fO$R'yO~Ou$eXx$eX!b$eX'p$eX'w$eX'x$eX~OSfX!RfX!{fX'afX'a$eX~P!!iOk'{O~OR'|O'U'}O'V(PO~Ou(ROx(SO'p#[O'w(UO'x(WO~O'a(QO~P!#rO'a(ZO~O]#qOh$OOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO'f#sO~O!Q(_O']([O!c'}P~P!$aO#W(aO~O!Q(eO'](bO!O(OP~P!$aOj(sOx(kO!W(qO!X(jO!Y(jO!d(hO!x(rO$w(mO'^$bO'g(gO~O!S(pO~P!&XO!b!yOu'eXx'eX'p'eX'w'eX'x'eX!R'eX!{'eX~O'a'eX#m'eX~P!'QOS(vO!{(uO!R'dX'a'dX~O!R(wO'a'cX~O'](yO~O!d)OO~O']&zO~O!d(hO~Ox$tO!Q!rO!T$uO#U!uO#V!rO']$`O!c'qP~O!]!wO#W)SO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_!^a!R!^a'W!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)cOS)[O!T&cO!o)ZO%Q)YO'b$cO~O']$zO'a'cP~O!])_O!T'`X_'`X!R'`X'W'`X~O!d$XO'b$cO~O!d$XO']$`O'b$cO~O!]!wO#W&|O~O])jO%R)kO'])gO!S(VP~O!R)lO^(UX~O'g'SO~OZ)pO~O^)qO~O!T$kO']$`O'^$bO^(UP~Ox$tO!Q)vO!R&_O!T$uO']$`O!O'tP~O]&YOk&YO!Q)wO'g'SO!S'vP~O!R)xO_(RX'W(RX~O!{)|O'b$cO~OS*PO!T#yO'b$cO~O!T*RO~Ou*TO!TSO~O!n*YO~Oc*_O~O'](yO!S(TP~Oc$iO~O%RtO']$zO~P8tOZ*eO^*dO~OPTOQTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'fQO'oYO'|aO~O!T!bO#t!lO']9WO~P!1RO^*dO_$[O'W$[O~O_*iO#d*kO%T*kO%U*kO~P){O!d%_O~O%t*pO~O!T*rO~O&V*tO&X*uOP&SaQ&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&Z&Sa&]&Sa&_&Sa&a&Sa&c&Sa'S&Sa']&Sa'f&Sa'o&Sa'|&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O']*zO~On*}O~O!O&ia!R&ia~P!)cO!Q+RO!O&iX!R&iX~P){O!R%yO!O'ja~O!O'ja~P>^O!R&_O!O'ta~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'b!ZX~O!]+WO!{+VO!R#TX!R'lX!S#TX!S'lX!]'lX!d'lX'b'lX~O!]+YO!d$XO'b$cO!R!VX!S!VX~O]&QOk&QOx&RO'g(gO~OP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!T!bO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O'fQO'oYO'|:}O~O']9yO~P!;^O!R+^O!S'kX~O!S+`O~O!]+WO!{+VO!R#TX!S#TX~O!R+aO!S'vX~O!S+cO~O]&QOk&QOx&RO'^$bO'g(gO~O!X+dO!Y+dO~P!>[Ox$tO!Q+fO!T$uO']$`O!O&nX!R&nX~O_+jO!W+mO!X+iO!Y+iO!r+qO!s+oO!t+pO!u+nO!x+rO'^$bO'g(gO'o+gO~O!S+lO~P!?]OS+wO!T&cO!o+vO~O!{+}O!R'ra!c'ra_'ra'W'ra~O!]!wO~P!@gO!R&sO!c'qa~Ox$tO!Q,QO!T$uO#U,SO#V,QO']$`O!R&pX!c&pX~O_#Oi!R#Oi'W#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)cO#W!za!R!za!c!za!{!za!T!za_!za'W!za!O!za~P!#rO#W'eXP'eXZ'eX_'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX'W'eX'f'eX!c'eX!O'eX!T'eXn'eX%Q'eX!]'eX~P!'QO!R,]O'a'mX~P!#rO'a,_O~O!R,`O!c'nX~P!)cO!c,cO~O!O,dO~OP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!EtO#[#PO~P!EtOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'fQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!H`Oj#RO~P!H`OP#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'fQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!JzOZ#dO!a#TO#a#TO#b#TO#c#TO~P!JzOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'fQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'w#Zi~P!MrO'w!}O~P!MrOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'fQO'w!}O_#Zi!R#Zi#i#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'x#Zi~P#!^O'x#OO~P#!^OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'fQO'w!}O'x#OO~O_#Zi!R#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#$xOP[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X!R[X!S[X~O#m[X~P#']OP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO#i9eO#j9fO'fQO'p#[O'w!}O'x#OO~O#m,fO~P#)gOP'iXZ'iXj'iXu'iXv'iXx'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX!R'iX~O!{9jO#o9jO#c'iX#m'iX!S'iX~P#+bO_&sa!R&sa'W&sa!c&san&sa!O&sa!T&sa%Q&sa!]&sa~P!)cOP#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'f#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!#rO_#ni!R#ni'W#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)cO#z,hO~O#z,iO~O!]'kO!{,jO!T$OX#w$OX#z$OX$R$OX~O!Q,kO~O!T'nO#w,mO#z'mO$R,nO~O!R9gO!S'hX~P#)gO!S,oO~O$R,qO~OR'|O'U'}O'V,tO~O],wOk,wO!O,xO~O!RdX!]dX!cdX!c$eX'pdX~P!!iO!c-OO~P!#rO!R-PO!]!wO'p&nO!c'}X~O!c-UO~O!O$eX!R$eX!]$lX~P!!iO!R-WO!O(OX~P!#rO!]-YO~O!O-[O~O!Q(_O']$`O!c'}P~Oj-`O!]!wO!d$XO'b$cO'p&nO~O!])_O~O_$[O!R-eO'W$[O~O!S-gO~P!&XO!X-hO!Y-hO'^$bO'g(gO~Ox-jO'g(gO~O!x-kO~O']$zO!R&xX'a&xX~O!R(wO'a'ca~Ou-pOv-pOx-qO'pra'wra'xra!Rra!{ra~O'ara#mra~P#6qOu(ROx(SO'p$^a'w$^a'x$^a!R$^a!{$^a~O'a$^a#m$^a~P#7gOu(ROx(SO'p$`a'w$`a'x$`a!R$`a!{$`a~O'a$`a#m$`a~P#8YO]-rO~O#W-sO~O'a$na!R$na#m$na!{$na~P!#rO#W-vO~OS.PO!T&cO!o.OO%Q-}O~O'a.QO~O]#qOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO'f#sO~Oh.SO'].RO~P#:PO!])_O!T'`a_'`a!R'`a'W'`a~O#W.YO~OZ[X!RdX!SdX~O!R.ZO!S(VX~O!S.]O~OZ.^O~O].`O'])gO~O!T$kO']$`O^'QX!R'QX~O!R)lO^(Ua~O!c.cO~P!)cO].eO~OZ.fO~O^.gO~OS.PO!T&cO!o.OO%Q-}O'b$cO~O!R)xO_(Ra'W(Ra~O!{.mO~OS.pO!T#yO~O'g'SO!S(SP~OS.zO!T.vO!o.yO%Q.xO'b$cO~OZ/UO!R/SO!S(TX~O!S/VO~O^/XO_$[O'W$[O~O]/YO~O]/ZO'](yO~O#c/[O%r/]O~P0zO!{#eO#c/[O%r/]O~O_/^O~P){O_/`O~O%{/dOP%yiQ%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&Z%yi&]%yi&_%yi&a%yi&c%yi'S%yi']%yi'f%yi'o%yi'|%yi!S%yi`%yi&Q%yi~O`/jO!S/hO&Q/iO~P`O!TSO!d/lO~O&X*uOP&SiQ&SiX&Si]&Si_&Sib&Sic&Sih&Sij&Sik&Sil&Siq&Sis&Six&Si{&Si|&Si}&Si!T&Si!_&Si!d&Si!g&Si!h&Si!i&Si!j&Si!k&Si!n&Si#d&Si#t&Si#x&Si%P&Si%R&Si%T&Si%U&Si%X&Si%Z&Si%^&Si%_&Si%a&Si%n&Si%t&Si%v&Si%x&Si%z&Si%}&Si&T&Si&Z&Si&]&Si&_&Si&a&Si&c&Si'S&Si']&Si'f&Si'o&Si'|&Si!S&Si%{&Si`&Si&Q&Si~O!R#bOn$]a~O!O&ii!R&ii~P!)cO!R%yO!O'ji~O!R&_O!O'ti~O!O/rO~O!R!Va!S!Va~P#)gO]&QOk&QO!Q/xO'g(gO!R&jX!S&jX~P@aO!R+^O!S'ka~O]&YOk&YO!Q)wO'g'SO!R&oX!S&oX~O!R+aO!S'va~O!O'ui!R'ui~P!)cO_$[O!]!wO!d$XO!j0SO!{0QO'W$[O'b$cO'p&nO~O!S0VO~P!?]O!X0WO!Y0WO'^$bO'g(gO'o+gO~O!W0XO~P#LVO!TSO!W0XO!u0ZO!x0[O~P#LVO!W0XO!s0^O!t0^O!u0ZO!x0[O~P#LVO!T&cO~O!T&cO~P!#rO!R'ri!c'ri_'ri'W'ri~P!)cO!{0gO!R'ri!c'ri_'ri'W'ri~O!R&sO!c'qi~Ox$tO!T$uO#V0iO']$`O~O#WraPraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Wra'fra!cra!Ora!Tranra%Qra!]ra~P#6qO#W$^aP$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'W$^a'f$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#7gO#W$`aP$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'W$`a'f$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#8YO#W$naP$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'W$na'f$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!#rO_#Oq!R#Oq'W#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)cO!R&kX'a&kX~PJdO!R,]O'a'ma~O!Q0qO!R&lX!c&lX~P){O!R,`O!c'na~O!R,`O!c'na~P!)cO#m!fa!S!fa~PCcO#m!^a!R!^a!S!^a~P#)gO!T1UO#x^O$P1VO~O!S1ZO~On1[O~P!#rO_$Yq!R$Yq'W$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)cO!O1]O~O],wOk,wO~Ou(ROx(SO'x(WO'p$xi'w$xi!R$xi!{$xi~O'a$xi#m$xi~P$,vOu(ROx(SO'p$zi'w$zi'x$zi!R$zi!{$zi~O'a$zi#m$zi~P$-iO#m1^O~P!#rO!Q1`O']$`O!R&tX!c&tX~O!R-PO!c'}a~O!R-PO!]!wO!c'}a~O!R-PO!]!wO'p&nO!c'}a~O'a$gi!R$gi#m$gi!{$gi~P!#rO!Q1gO'](bO!O&vX!R&vX~P!$aO!R-WO!O(Oa~O!R-WO!O(Oa~P!#rO!]!wO~O!]!wO#c1oO~Oj1rO!]!wO'p&nO~O!R'di'a'di~P!#rO!{1uO!R'di'a'di~P!#rO!c1xO~O_$Zq!R$Zq'W$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)cO!R1|O!T(PX~P!#rO!T&cO%Q2PO~O!T&cO%Q2PO~P!#rO!T$eX$u[X_$eX!R$eX'W$eX~P!!iO$u2TOugXxgX!TgX'pgX'wgX'xgX_gX!RgX'WgX~O$u2TO~O]2ZO%R2[O'])gO!R'PX!S'PX~O!R.ZO!S(Va~OZ2`O~O^2aO~O]2dO~OS2fO!T&cO!o2eO%Q2PO~O_$[O'W$[O~P!#rO!T#yO~P!#rO!R2kO!{2mO!S(SX~O!S2nO~Ox;]O!W2wO!X2pO!Y2pO!r2vO!s2uO!t2uO!x2tO'^$bO'g(gO'o+gO~O!S2sO~P$6QOS3OO!T.vO!o2}O%Q2|O~OS3OO!T.vO!o2}O%Q2|O'b$cO~O'](yO!R'OX!S'OX~O!R/SO!S(Ta~O]3YO'g3XO~O]3ZO~O^3]O~O!c3`O~P){O_3bO~O_3bO~P){O#c3dO%r3eO~PE{O`/jO!S3iO&Q/iO~P`O!]3kO~O!R#Ti!S#Ti~P#)gO!{3mO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#)gO_$[O!{3tO'W$[O~O_$[O!]!wO!{3tO'W$[O~O!X3xO!Y3xO'^$bO'g(gO'o+gO~O_$[O!]!wO!d$XO!j3yO!{3tO'W$[O'b$cO'p&nO~O!W3zO~P$:oO!W3zO!u3}O!x4OO~P$:oO_$[O!]!wO!j3yO!{3tO'W$[O'p&nO~O!R'rq!c'rq_'rq'W'rq~P!)cO!R&sO!c'qq~O#W$xiP$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'W$xi'f$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$,vO#W$ziP$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'W$zi'f$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$-iO#W$giP$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'W$gi'f$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!#rO!R&ka'a&ka~P!#rO!R&la!c&la~P!)cO!R,`O!c'ni~O#m#Oi!R#Oi!S#Oi~P#)gOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~O#[#Zi~P$DVO#[9[O~P$DVOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O'fQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~Oj#Zi~P$F_Oj9^O~P$F_OP#^Oj9^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O'fQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$HgOZ9iO!a9`O#a9`O#b9`O#c9`O~P$HgOP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO'fQO#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'x#Zi!R#Zi!S#Zi~O'w#Zi~P$J{O'w!}O~P$J{OP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO'fQO'w!}O#i#Zi#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~O'x#Zi~P$MTO'x#OO~P$MTOP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO#i9eO'fQO'w!}O'x#OO~O#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~P% ]O_#ky!R#ky'W#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)cOP#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'f#Zi!R#Zi!S#Zi~P!#rO!b!yOu'eXx'eX'p'eX'w'eX'x'eX!S'eX~OP'eXZ'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX#m'eX'f'eX!R'eX~P%%mO#m#ni!R#ni!S#ni~P#)gO!S4`O~O!R&sa!S&sa~P#)gO!]!wO'p&nO!R&ta!c&ta~O!R-PO!c'}i~O!R-PO!]!wO!c'}i~O!O&va!R&va~P!#rO!]4gO~O!R-WO!O(Oi~P!#rO!R-WO!O(Oi~O!O4kO~O!]!wO#c4pO~Oj4qO!]!wO'p&nO~O!O4sO~O'a$iq!R$iq#m$iq!{$iq~P!#rO_$Zy!R$Zy'W$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)cO!R1|O!T(Pa~O!T&cO%Q4xO~O!T&cO%Q4xO~P!#rO_#Oy!R#Oy'W#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)cOZ4{O~O]4}O'])gO~O!R.ZO!S(Vi~O]5QO~O^5RO~O'g'SO!R&{X!S&{X~O!R2kO!S(Sa~O!S5`O~P$6QOx;^O'g(gO'o+gO~O!W5cO!X5bO!Y5bO!x0[O'^$bO'g(gO'o+gO~O!s5dO!t5dO~P%.RO!X5bO!Y5bO'^$bO'g(gO'o+gO~O!T.vO~O!T.vO%Q5fO~O!T.vO%Q5fO~P!#rOS5kO!T.vO!o5jO%Q5fO~OZ5pO!R'Oa!S'Oa~O!R/SO!S(Ti~O]5sO~O!c5tO~O!c5uO~O!c5vO~O!c5vO~P){O_5xO~O!]5{O~O!c5|O~O!R'ui!S'ui~P#)gO_$[O'W$[O~P!)cO_$[O!{6RO'W$[O~O_$[O!]!wO!{6RO'W$[O~O!X6WO!Y6WO'^$bO'g(gO'o+gO~O_$[O!]!wO!j6XO!{6RO'W$[O'p&nO~O!d$XO'b$cO~P%2mO!W6YO~P%2[O!R'ry!c'ry_'ry'W'ry~P!)cO#W$iqP$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'W$iq'f$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!#rO!R&li!c&li~P!)cO#m#Oq!R#Oq!S#Oq~P#)gOu-pOv-pOx-qO'pra'wra'xra!Sra~OPraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'fra!Rra~P%6eOu(ROx(SO'p$^a'w$^a'x$^a!S$^a~OP$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'f$^a!R$^a~P%8fOu(ROx(SO'p$`a'w$`a'x$`a!S$`a~OP$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'f$`a!R$`a~P%:gOP$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'f$na!R$na!S$na~P!#rO#m$Yq!R$Yq!S$Yq~P#)gO#m$Zq!R$Zq!S$Zq~P#)gO!S6dO~O'a$|y!R$|y#m$|y!{$|y~P!#rO!]!wO!R&ti!c&ti~O!]!wO'p&nO!R&ti!c&ti~O!R-PO!c'}q~O!O&vi!R&vi~P!#rO!R-WO!O(Oq~O!O6jO~P!#rO!O6jO~O!R'dy'a'dy~P!#rO!R&ya!T&ya~P!#rO!T$tq_$tq!R$tq'W$tq~P!#rOZ6qO~O!R.ZO!S(Vq~O]6tO~O!T&cO%Q6uO~O!T&cO%Q6uO~P!#rO!{6vO!R&{a!S&{a~O!R2kO!S(Si~P#)gO!X6|O!Y6|O'^$bO'g(gO'o+gO~O!W7OO!x4OO~P%BkO!T.vO%Q7RO~O!T.vO%Q7RO~P!#rO]7YO'g7XO~O!R/SO!S(Tq~O!c7[O~O!c7[O~P){O!c7^O~O!c7_O~O!R#Ty!S#Ty~P#)gO_$[O!{7eO'W$[O~O_$[O!]!wO!{7eO'W$[O~O!X7hO!Y7hO'^$bO'g(gO'o+gO~O_$[O!]!wO!j7iO!{7eO'W$[O'p&nO~O#W$|yP$|yZ$|y_$|yj$|yv$|y!R$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y'W$|y'f$|y!c$|y!O$|y!T$|y!{$|yn$|y%Q$|y!]$|y~P!#rO#m#ky!R#ky!S#ky~P#)gOP$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'f$gi!R$gi!S$gi~P!#rOu(ROx(SO'x(WO'p$xi'w$xi!S$xi~OP$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'f$xi!R$xi~P%JROu(ROx(SO'p$zi'w$zi'x$zi!S$zi~OP$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'f$zi!R$zi~P%LSO#m$Zy!R$Zy!S$Zy~P#)gO#m#Oy!R#Oy!S#Oy~P#)gO!]!wO!R&tq!c&tq~O!R-PO!c'}y~O!O&vq!R&vq~P!#rO!O7mO~P!#rO!R.ZO!S(Vy~O!R2kO!S(Sq~O!X7yO!Y7yO'^$bO'g(gO'o+gO~O!T.vO%Q7|O~O!T.vO%Q7|O~P!#rO!c8PO~O_$[O!{8UO'W$[O~O_$[O!]!wO!{8UO'W$[O~OP$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'f$iq!R$iq!S$iq~P!#rO!R&{q!S&{q~P#)gO_$[O!{8hO'W$[O~OP$|yZ$|yj$|yv$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y#m$|y'f$|y!R$|y!S$|y~P!#rO!S!za!W!za!X!za!Y!za!r!za!s!za!t!za!x!za'^!za'g!za'o!za~P!#rO!W'eX!X'eX!Y'eX!r'eX!s'eX!t'eX!x'eX'^'eX'g'eX'o'eX~P%%mO!Wra!Xra!Yra!rra!sra!tra!xra'^ra'gra'ora~P%6eO!W$^a!X$^a!Y$^a!r$^a!s$^a!t$^a!x$^a'^$^a'g$^a'o$^a~P%8fO!W$`a!X$`a!Y$`a!r$`a!s$`a!t$`a!x$`a'^$`a'g$`a'o$`a~P%:gO!S$na!W$na!X$na!Y$na!r$na!s$na!t$na!x$na'^$na'g$na'o$na~P!#rO!W$xi!X$xi!Y$xi!r$xi!s$xi!t$xi!x$xi'^$xi'g$xi'o$xi~P%JRO!W$zi!X$zi!Y$zi!r$zi!s$zi!t$zi!x$zi'^$zi'g$zi'o$zi~P%LSO!S$gi!W$gi!X$gi!Y$gi!r$gi!s$gi!t$gi!x$gi'^$gi'g$gi'o$gi~P!#rO!S$iq!W$iq!X$iq!Y$iq!r$iq!s$iq!t$iq!x$iq'^$iq'g$iq'o$iq~P!#rO!S$|y!W$|y!X$|y!Y$|y!r$|y!s$|y!t$|y!x$|y'^$|y'g$|y'o$|y~P!#rOn'hX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'pdX~P;aOP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!TSO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O']'bO'fQO'oYO'|:}O~O]#qOh$OOj#rOk#qOl#qOq$POs9lOx#xO!T#yO!_;SO!d#vO#V9uO#t$TO$_9oO$a9rO$d$UO']&zO'f#sO~O!R9gO!S$]a~O]#qOh$OOj#rOk#qOl#qOq$POs9mOx#xO!T#yO!_;TO!d#vO#V9vO#t$TO$_9pO$a9sO$d$UO']&zO'f#sO~O#d'iO~P&3xO!S[X!SdX~P;aO!]9ZO~O#W9YO~O!]!wO#W9YO~O!{9jO~O#c9`O~O!{9wO!R'uX!S'uX~O!{9jO!R'sX!S'sX~O#W9xO~O'a9zO~P!#rO#W:RO~O#W:SO~O#W:TO~O!]!wO#W:UO~O!]!wO#W9xO~O#m:VO~P#)gO#W:WO~O#W:XO~O#W:YO~O#W:ZO~O#W:[O~O#m:]O~P!#rO#m:^O~P!#rO#m:_O~P!#rO!O:`O~O!O:aO~P!#rO!O:aO~O!O:bO~P!#rO!]!wO#c;YO~O!]!wO#c;[O~O#x~!b!r!t!u#U#V'|$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'|#]}'Y'Z#z'Y']'g~",goto:"#Hc(ZPPPPPPPP([P(lP*`PPPP-zPP.a3s5g5zP5zPPP5zP7t5zP5zP7xPP8OP8d<uPPPP<yPPPP<y?kPPP?qBSP<yPDgPPPPF`<yPPPPPHX<yPPKYLVPPPPLZMsPM{N|PLV<y<y!$^!'X!+z!+z!/ZPPP!/b!2W<yPPPPPPPPPP!4}P!6`PP<y!7mP<yP<y<y<y<yP<y!:[PP!=TP!?x!@Q!@U!@UP!=QP!@Y!@YP!B}P!CR<y<y!CX!E{5zP5zP5z5zP!GO5z5z!IU5z!Ki5z!Mi5z5z!NV#!]#!]#!a#!]#!iP#!]P5z##e5z#$y5z5z-zPPP#&cPP#&{#&{P#&{P#'b#&{PP#'hP#'_P#'_#'zMw#'_#(i#(o#(r([#(u([P#(|#(|#(|P([P([P([P([PP([P#)S#)VP#)V([P#)ZP#)^P([P([P([P([P([P([([#)d#)n#)t#)z#*Y#*`#*f#*p#*v#+V#+]#+k#+q#+w#,V#,l#.[#.j#.p#.v#.|#/S#/^#/d#/j#/t#0W#0^PPPPPPPP#0dPP#1W#4`PP#5v#5}#6VPP#;X#=l#Ch#Ck#Cn#Cy#C|PP#DP#DT#Dr#Ei#Em#FRPP#FV#F]#FaP#Fd#Fh#Fk#GZ#Gq#Gv#Gy#G|#HS#HV#HZ#H_mhOSj}!n$Z%b%e%f%h*m*r/d/gQ$hmQ$opQ%YyS&U!b+^Q&j!jS(j#y(oQ)e$iQ)r$qQ*^%SQ+d&]S+i&c+kQ+{&kQ-h(qQ/R*_Y0W+m+n+o+p+qS2p.v2rU3x0X0Z0^U5b2u2v2wS6W3z3}S6|5c5dQ7h6YR7y7O$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!j'd#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ(z$QQ)j$kQ*`%VQ*g%_Q,V9kQ.T)_Q.`)kQ/Z*eQ2Z.ZQ3V/SQ4X9mQ4}2[R8s9lpeOSjy}!n$Z%X%b%e%f%h*m*r/d/gR*b%Z&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%y&R&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;P;Q[!cRU!]!`%w&VQ$alQ$gmS$lp$qv$vrs!r!u$X$t&_&s&v)v)w)x*k+W+f,Q,S/l0iQ%OwQ&g!iQ&i!jS(^#v(hS)d$h$iQ)h$kQ)u$sQ*X%QQ*]%SS+z&j&kQ-T(_Q.X)eQ._)kQ.a)lQ.d)pQ.|*YS/Q*^*_Q0e+{Q1_-PQ2Y.ZQ2^.^Q2c.fQ3U/RQ4d1`Q4|2[Q5P2`Q6p4{R7p6q!Y$em!j$g$h$i&T&i&j&k(i)d)e+Z+h+z+{-a.X/}0T0Y0e1q3w3|6U7f8VQ)]$aQ)}${Q*Q$|Q*[%SQ.h)uQ.{*XU/P*]*^*_Q3P.|S3T/Q/RQ5]2oQ5o3US6z5^5aS7w6{6}Q8_7xR8n8`W#|a$c(w:}S${t%XQ$|uQ$}vR){$y$o#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+w,]-W-Y-s-}.P.m.p.x.z1^1g1o1u1|2P2T2f2|3O4g4p4x5f5k6u7R7|9Z9i9n9o9p9q9r9s9t9u9v9{9|9}:O:P:Q:R:S:T:W:X:Y:]:^:_:};U;V;W;Y;[T'}#s(OX({$Q9k9l9mU&Y!b$u+aQ'T!{Q)o$nQ.q*RQ1v-pR5X2k&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q$]#aZ!_!o$_%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,g,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pT!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ&W!bR/y+^Y&Q!b&U&]+^+dS(i#y(oS+h&c+kS-a(j(qQ-b(kQ-i(rQ.s*TU0T+i+m+nU0Y+o+p+qS0_+r2tQ1q-hQ1s-jQ1t-kS2o.v2rU3w0W0X0ZQ3{0[Q3|0^S5^2p2wS5a2u2vU6U3x3z3}Q6Z4OS6{5b5cQ6}5dS7f6W6YS7x6|7OQ8V7hQ8`7yQ;X;]R;Z;^lhOSj}!n$Z%b%e%f%h*m*r/d/gQ%j!QS&w!v9YQ)b$fQ*V%OQ*W%PQ+x&hS,Z&|9xS-u)S:UQ.V)cQ.u*UQ/k*tQ/m*uQ/u+XQ0]+oQ0c+yS1{-v:ZQ2U.WS2X.Y:[Q3n/wQ3q0OQ4Q0dQ4z2VQ6O3pQ6S3vQ6[4RQ7`5|Q7c6TQ8R7dQ8e8TR8q8g$W#`Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pW(t#z&{1S8jT)W$_,g$W#_Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pQ'e#`S)V$_,gR-w)W&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ%e{Q%f|Q%h!OQ%i!PR/c*pQ&d!iQ)X$aQ+u&gS-|)])uS0`+s+tW2O-y-z-{.hS4P0a0bU4w2Q2R2SU6n4v5T5UQ7o6oR8Z7rT+j&c+kS+h&c+kU0T+i+m+nU0Y+o+p+qS0_+r2tS2o.v2rU3w0W0X0ZQ3{0[Q3|0^S5^2p2wS5a2u2vU6U3x3z3}Q6Z4OS6{5b5cQ6}5dS7f6W6YS7x6|7OQ8V7hR8`7yS+j&c+kT2q.v2rS&q!q/aQ-S(^Q-_(iS0S+h2oQ1d-TS1l-`-iU3y0Y0_5aQ4c1_S4n1r1tU6X3{3|6}Q6f4dQ6m4qR7i6ZQ!xXS&p!q/aQ)T$YQ)`$dQ)f$jQ,O&qQ-R(^Q-^(iQ-c(lQ.U)aQ.}*ZS0R+h2oS1c-S-TS1k-_-iQ1n-bQ1p-dQ3R/OW3u0S0Y0_5aQ4b1_Q4f1dS4j1l1tQ4o1sQ5m3SW6V3y3{3|6}S6e4c4dS6i4k:`Q6k4nQ6x5[Q7V5nS7g6X6ZQ7k6fS7l6j:aQ7n6mQ7u6yQ8O7WQ8W7iS8Y7m:bQ8]7vQ8l8^Q8x8mQ9P8yQ:i:dQ:t:nQ:u:oQ:y;XR:{;Z$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hS!xn!k!j:c#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR:i;P$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hQ$Yb!Y$dm!j$g$h$i&T&i&j&k(i)d)e+Z+h+z+{-a.X/}0T0Y0e1q3w3|6U7f8VS$jn!kQ)a$eQ*Z%SW/O*[*]*^*_U3S/P/Q/RQ5[2oS5n3T3UU6y5]5^5aQ7W5oU7v6z6{6}S8^7w7xS8m8_8`Q8y8n!j:d#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ:n;OR:o;P$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hY!hRU!]!`%wv$vrs!r!u$X$t&_&s&v)v)w)x*k+W+f,Q,S/l0iQ*h%_!h:e#]#k'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR:h&VS&Z!b$uR/{+a$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!j'd#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR*g%_$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hQ'T!{!k:f#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q!h#VZ!_$_%v%|&x'P'^'_'`'a'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9U!R9b'c't+[,g/s/v0t0|0}1O1P1T1Y3o4W4]4^5Z5}6^6b6c7s:p!d#XZ!_$_%v%|&x'P'`'a'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9U}9d'c't+[,g/s/v0t1O1P1T1Y3o4W4]4^5Z5}6^6b6c7s:p!`#]Z!_$_%v%|&x'P'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9Un(Y#t&})R,}-V-l-m0n1y4a4r:j:v:w:xx;Q'c't+[,g/s/v0t1T1Y3o4W4]4^5Z5}6^6b6c7s:p!d;U&y'h(](c+t,Y,r-Z-x-{.l.n0b0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|Y;V8i8v8}9Q9SZ;W1R4[6_7j8X&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QS#l`#mR1V,j&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,j,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QS#g^#nT'm#i'qT#h^#nT'o#i'q&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,j,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QT#l`#mQ#o`R'x#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!k;O#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q#RdOSUj}!S!W!n!|#k$Z%Z%^%_%b%d%e%f%h%l&R&e'v)Z*i*m*r+v,k-q.O.y/[/]/^/`/d/g/i1U2e2}3b3d3e5j5xv#za!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;W#Q&{!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[Q)P$UQ,v(Rb1S9i9p9s9v9}:Q:T:Y:_c8j9Z9o9r9u9|:P:S:X:^v#wa!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;WS(l#y(oQ)Q$VQ-d(m#Q:k!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[b:l9Z9o9r9u9|:P:S:X:^b:m9i9p9s9v9}:Q:T:Y:_Q:q;RQ:r;SR:s;Tv#za!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;W#Q&{!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[b1S9i9p9s9v9}:Q:T:Y:_c8j9Z9o9r9u9|:P:S:X:^lfOSj}!n$Z%b%e%f%h*m*r/d/gQ(d#xQ*{%oQ*|%qR1f-W$n#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+w,]-W-Y-s-}.P.m.p.x.z1^1g1o1u1|2P2T2f2|3O4g4p4x5f5k6u7R7|9Z9i9n9o9p9q9r9s9t9u9v9{9|9}:O:P:Q:R:S:T:W:X:Y:]:^:_:};U;V;W;Y;[Q*O$|Q.o*QQ2i.nR5W2jT(n#y(oS(n#y(oT2q.v2rQ)`$dQ-c(lQ.U)aQ.}*ZQ3R/OQ5m3SQ6x5[Q7V5nQ7u6yQ8O7WQ8]7vQ8l8^Q8x8mR9P8yn(V#t&})R,}-V-l-m0n1y4a4r:j:v:w:x!d9{&y'h(](c+t,Y,r-Z-x-{.l.n0b0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|Y9|8i8v8}9Q9SZ9}1R4[6_7j8Xp(X#t&})R,{,}-V-l-m0n1y4a4r:j:v:w:x!f:O&y'h(](c+t,Y,r-Z-x-{.l.n0b0k0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|[:P8i8v8{8}9Q9S]:Q1R4[6_6`7j8XpeOSjy}!n$Z%X%b%e%f%h*m*r/d/gQ%UxR*i%_peOSjy}!n$Z%X%b%e%f%h*m*r/d/gR%UxQ*S$}R.k){qeOSjy}!n$Z%X%b%e%f%h*m*r/d/gQ.w*XS2{.{.|W5e2x2y2z3PU7Q5g5h5iU7z7P7S7TQ8a7{R8o8bQ%]yR*c%XR3Y/UR7Y5pS$lp$qR.a)lQ%bzR*m%cR*s%iT/e*r/gR*w%jQ*v%jR/n*wQjOQ!nST$^j!nQ(O#sR,s(OQ!YQR%t!YQ!^RU%z!^%{+SQ%{!_R+S%|Q+_&WR/z+_Q,^&}R0o,^Q,a'PS0r,a0sR0s,bQ+k&cR0U+kS!eR$tU&`!e&a+TQ&a!fR+T%}Q+b&ZR/|+bQ&t!sQ,P&rU,T&t,P0jR0j,UQ'q#iR,l'qQ#m`R'w#mQ#cZU'g#c+O9hQ+O9UR9h'tQ-Q(^W1a-Q1b4e6gU1b-R-S-TS4e1c1dR6g4f$Z(T#t&y&}'h(](c(|(})R+t,W,X,Y,r,{,|,}-V-Z-l-m-x-{.l.n0b0k0l0m0n1R1e1i1y2S2h2j2z4U4Y4Z4[4a4h4l4r4t4y5U5i6]6_6`6a6h6l7T7j8X8i8t8u8v8{8|8}9Q9S:j:v:w:x:z:|Q-X(cU1h-X1j4iQ1j-ZR4i1iQ(o#yR-f(oQ(x#}R-o(xQ1}-xR4u1}Q)y$wR.j)yQ2l.qS5Y2l6wR6w5ZQ*U%OR.t*UQ2r.vR5_2rQ/T*`S3W/T5qR5q3YQ.[)hW2].[2_5O6rQ2_._Q5O2^R6r5PQ)m$lR.b)mQ/g*rR3h/gWiOSj!nQ%g}Q)U$ZQ*l%bQ*n%eQ*o%fQ*q%hQ/b*mS/e*r/gR3g/dQ$]gQ%k!RQ%n!TQ%p!UQ%r!VQ)t$rQ)z$xQ*b%]Q*y%mQ-e(nS/W*c*fQ/o*xQ/p*{Q/q*|S0P+h2oQ2b.eQ2g.lQ3Q.}Q3[/YQ3f/cY3s0R0S0Y0_5aQ5S2dQ5V2hQ5l3RQ5r3Z[6P3r3u3y3{3|6}Q6s5QQ7U5mQ7Z5sW7a6Q6V6X6ZQ7q6tQ7t6xQ7}7VU8Q7b7g7iQ8[7uQ8c8OS8d8S8WQ8k8]Q8p8fQ8w8lQ8z8rQ9O8xR9R9PQ$fmQ&h!jU)c$g$h$iQ+X&TU+y&i&j&kQ-](iS.W)d)eQ/w+ZQ0O+hS0d+z+{Q1m-aQ2V.XQ3p/}S3v0T0YQ4R0eQ4m1qS6T3w3|Q7d6UQ8T7fR8g8VS#ua:}R)^$cU#}a$c:}R-n(wQ#taS&y!w)_Q&}!yQ'h#dQ(]#vQ(c#xQ(|$RQ(}$SQ)R$WQ+t&fQ,W9nQ,X9qQ,Y9tQ,r'|Q,{(VQ,|(XQ,}(YQ-V(aQ-Z(eQ-l(uQ-m(vd-x)Y-}.x2P2|4x5f6u7R7|Q-{)[Q.l)|Q.n*PQ0b+wQ0k9{Q0l:OQ0m:RQ0n,]Q1R9iQ1e-WQ1i-YQ1y-sQ2S.PQ2h.mQ2j.pQ2z.zQ4U:WQ4Y9pQ4Z9sQ4[9vQ4a1^Q4h1gQ4l1oQ4r1uQ4t1|Q4y2TQ5U2fQ5i3OQ6]:]Q6_:TQ6`9}Q6a:QQ6h4gQ6l4pQ7T5kQ7j:YQ8X:_Q8i9ZQ8t9oQ8u9rQ8v9uQ8{9|Q8|:PQ8}:SQ9Q:XQ9S:^Q:j:}Q:v;UQ:w;VQ:x;WQ:z;YR:|;[lgOSj}!n$Z%b%e%f%h*m*r/d/gS!pU%dQ%m!SQ%s!WQ'U!|Q'u#kS*f%Z%^Q*j%_Q*x%lQ+U&RQ+s&eQ,p'vQ-z)ZQ/_*iQ0a+vQ1X,kQ1w-qQ2R.OQ2y.yQ3^/[Q3_/]Q3a/^Q3c/`Q3j/iQ4_1UQ5T2eQ5h2}Q5w3bQ5y3dQ5z3eQ7S5jR7]5x!vZOSUj}!S!n!|$Z%Z%^%_%b%d%e%f%h%l&R&e)Z*i*m*r+v-q.O.y/[/]/^/`/d/g/i2e2}3b3d3e5j5xQ!_RQ!oTQ$_kS%v!]%yQ%|!`Q&x!vQ'P!zQ'V#PQ'W#QQ'X#RQ'Y#SQ'Z#TQ'[#UQ']#VQ'^#WQ'_#XQ'`#YQ'a#ZQ'c#]Q'f#bQ'j#eW't#k'v,k1UQ)n$mS+P%w+RS+[&V/xQ+e&^Q+|&oQ,[&|Q,b'QQ,e9TQ,g9VQ,u(QQ-t)SQ/s+VQ/v+YQ0f+}Q0p,`Q0t9YQ0u9[Q0v9]Q0w9^Q0x9_Q0y9`Q0z9aQ0{9bQ0|9cQ0}9dQ1O9eQ1P9fQ1Q,fQ1T9jQ1Y9gQ1z-vQ2W.YQ3o9wQ3r0QQ4S0gQ4V0qQ4W9xQ4]9zQ4^:UQ5Z2mQ5}3mQ6Q3tQ6^:VQ6b:ZQ6c:[Q7b6RQ7s6vQ8S7eQ8f8UQ8r8hQ9U!WR:p;QR!aRR&X!bS&T!b+^S+Z&U&]R/}+dR'O!yR'R!zT!tU$XS!sU$XU$wrs*kS&r!r!uQ,R&sQ,U&vQ.i)xS0h,Q,SR4T0i`!dR!]!`$t%w&_)v+fh!qUrs!r!u$X&s&v)x,Q,S0iQ/a*kQ/t+WQ3l/lT:g&V)wT!gR$tS!fR$tS%x!]&_S%}!`)vS+Q%w+fT+]&V)wT&[!b$uQ#i^R'z#nT'p#i'qR1W,jT(`#v(hR(f#xQ-y)YQ2Q-}Q2x.xQ4v2PQ5g2|Q6o4xQ7P5fQ7r6uQ7{7RR8b7|lhOSj}!n$Z%b%e%f%h*m*r/d/gQ%[yR*b%XV$xrs*kR.r*RR*a%VQ$ppR)s$qR)i$kT%`z%cT%az%cT/f*r/g",nodeNames:"\u26a0 ArithOp ArithOp InterpolationStart extends LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:332,context:Vme,nodeProps:[["closedBy",3,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],["group",-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,240,242,244,246,248,250,251,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],["openedBy",30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],propSources:[qme],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T7Z%jg$UW'Y7ROX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T7Z'YR$UW'Z7RO!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T'u(rZ$UW]!ROY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j'u*{R$P&j$UW]!RO!^%T!_#o%T#p~%T'm+ZV]!ROY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U'm+wO$P&j]!R'm+zROr+Urs,Ts~+U'm,[U$P&j]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R,sU]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R-[O]!R!R-_PO~,n'u-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k'u.VZ$P&j$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/PZ$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/yR$UW]!RO!^%T!_#o%T#p~%T!Z0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.x2k0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`2k1g]$UW'o2cOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`7Z2k_$UW#zS']%k'g2bOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T6d5lU'x6[$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T'u6jZ$UW]!ROY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w'm8YV]!ROY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T'm8rROw8Twx8{x~8T'm9SU$P&j]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R9kU]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R:QPO~9f'u:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c'u:xZ$P&j$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z;rZ$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k%V=QR!d$}$UWO!^%T!_#o%T#p~%TZ=bR!cR$UWO!^%T!_#o%T#p~%T5s=tU'^2s#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T$u>rSj$m$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T7Z?gVu6`$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%Ty@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%Ty@iR!Qq$UWO!^%T!_#o%T#p~%Ty@yZ$UWkqO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%TyAqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyBiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyCVV$UWkqO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T7ZCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du7ZJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7ZKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZMSR$UWU7RO!^%T!_#o%T#p~%T7RM`ROzM]z{Mi{~M]7RMlTOzM]z{Mi{!PM]!P!QM{!Q~M]7RNQOU7R7ZNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7Z! ^_$UWU7R}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T7R!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#|UU7R}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd7R!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%sTU7ROYG{Z#OG{#O#PH_#P#QFx#Q~G{7R!&VTOY!$`YZM]Zz!$`z{!${{~!$`7R!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]7R!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M]7Z!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!*PY$UWU7ROYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq7Z!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|7Z!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl7Z!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko7Z!-lV$UWT7ROY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e7R!.WQT7ROY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Duy!0cd$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%Ty!1x_$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%Ty!3OR$UWkqO!^%T!_#o%T#p~%Ty!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%Ty!3}Y$UWkqO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%Ty!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%Ty!5`X$UWkqO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%Ty!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%Ty!6z]$UWkqO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T%w!7|R!]V$UW#m%hO!^%T!_#o%T#p~%T!P!8^R_w$UWO!^%T!_#o%T#p~%T6i!8rR'bd!a0`#x&s'|P!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v%w!9kT!{%o$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%w!:gT'a!s#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T6i!<YV'p6a$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T)z!<vRv)r$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T7V!=kRx6}$UWO!^%T!_#o%T#p~%TZ!={R!OR$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$P!>pR$UW'f#wO!^%T!_#o%T#p~%T~!?OO!T~6d!?VT'w6[$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T5g!?oR!S5]nQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T7Z!@gr$UW'Y7R#zS']%k'g2bOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`7Z!CO_$UW'Z7R#zS']%k'g2bOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[Ume,Hme,Wme,0,1,2,3,4,5,6,7,8,9,jme],topRules:{Script:[0,7]},dialects:{jsx:11707,ts:11709},dynamicPrecedences:{149:1,176:1},specialized:[{term:289,get:(n,e)=>function(n,e){return"extends"==n&&e.dialectEnabled(1)?4:-1}(n,e)<<1},{term:289,get:n=>Gme[n]||-1},{term:299,get:n=>Xme[n]||-1},{term:63,get:n=>Zme[n]||-1}],tokenPrec:11730}),Kme=[ul("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),ul("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),ul("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),ul("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"block",type:"keyword"}),ul("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),ul('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),ul('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],pl=u_.define({parser:Yme.configure({props:[FB.add({IfStatement:Sx({except:/^\s*({|else\b)/}),TryStatement:Sx({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:n=>n.baseIndent,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:i?1:2)*n.unit},Block:nhe({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>-1,"Statement Property":Sx({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag":n=>n.column(n.node.from)+n.unit}),$B.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":function(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null},BlockComment:n=>({from:n.from+2,to:n.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Jme=pl.configure({dialect:"ts"}),ege=pl.configure({dialect:"jsx"}),tge=pl.configure({dialect:"jsx ts"});function nge(n={}){return new Gde(n.jsx?n.typescript?tge:ege:n.typescript?Jme:pl,[pl.data.of({autocomplete:cpe(["LineComment","BlockComment","String"],aV(Kme))}),n.jsx?rge:[]])}function JV(n,e,t=n.length){if(!e)return"";let i=e.getChild("JSXIdentifier");return i?n.sliceString(i.from,Math.min(i.to,t)):""}const ige="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),rge=Et.inputHandler.of((n,e,t,i)=>{if((ige?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||">"!=i&&"/"!=i||!pl.isActiveAt(n.state,e,-1))return!1;let{state:r}=n,s=r.changeByRange(o=>{var a,l,c;let h,{head:u}=o,d=In(r).resolveInner(u,-1);if("JSXStartTag"==d.name&&(d=d.parent),">"==i&&"JSXFragmentTag"==d.name)return{range:le.cursor(u+1),changes:{from:u,insert:"><>"}};if(">"==i&&"JSXIdentifier"==d.name){if("JSXEndTag"!=(null===(l=null===(a=d.parent)||void 0===a?void 0:a.lastChild)||void 0===l?void 0:l.name)&&(h=JV(r.doc,d.parent,u)))return{range:le.cursor(u+1),changes:{from:u,insert:`></${h}>`}}}else if("/"==i&&"JSXFragmentTag"==d.name){let f=d.parent,p=null==f?void 0:f.parent;if(f.from==u-1&&"JSXEndTag"!=(null===(c=p.lastChild)||void 0===c?void 0:c.name)&&(h=JV(r.doc,null==p?void 0:p.firstChild,u))){let m=`/${h}>`;return{range:le.cursor(u+m.length),changes:{from:u,insert:m}}}}return{range:o}});return!s.changes.empty&&(n.dispatch(s,{userEvent:"input.type",scrollIntoView:!0}),!0)}),oge=["codemirrorhost"],age=function(){return["/app/random-tables"]};let lge=(()=>{class n{constructor(){this.template=new Kle}ngOnInit(){}ngAfterViewInit(){new Et({state:Dr.create({extensions:[fme,nge()]}),parent:this.codemirrorhost.nativeElement})}save(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ft({type:n,selectors:[["app-template-add-edit"]],viewQuery:function(t,i){if(1&t&&Sn(oge,5),2&t){let r;Ve(r=je())&&(i.codemirrorhost=r.first)}},decls:14,vars:3,consts:[[1,"actions-container"],[1,"back-button"],["mat-stroked-button","",3,"routerLink"],["mat-stroked-button","",3,"click"],[1,"full-width"],["matInput","",3,"ngModel","ngModelChange"],[1,"codemirrorhost"],["codemirrorhost",""]],template:function(t,i){1&t&&(oe(0,"div",0),oe(1,"div",1),oe(2,"button",2),at(3,"Back"),ae(),ae(),oe(4,"button",3),yt("click",function(){return i.save()}),at(5,"Save"),ae(),ae(),Pt(6,"br"),oe(7,"div"),oe(8,"mat-form-field",4),oe(9,"mat-label"),at(10,"Name"),ae(),oe(11,"input",5),yt("ngModelChange",function(s){return i.template.name=s}),ae(),ae(),Pt(12,"div",6,7),ae()),2&t&&($e(2),qe("routerLink",Po(2,age)),$e(9),qe("ngModel",i.template.name))},directives:[vc,el,FI,gm,uP,ud,E0,Wp],styles:[".back-button[_ngcontent-%COMP%]{margin-right:auto}"]}),n})();function cge(n,e){1&n&&(oe(0,"th",9),at(1,"Name"),ae())}function uge(n,e){if(1&n&&(oe(0,"td",10),at(1),ae()),2&n){const t=e.$implicit;$e(1),Ys(" ",t.name," ")}}function dge(n,e){1&n&&Pt(0,"th",9)}function hge(n,e){if(1&n){const t=hs();oe(0,"td",10),oe(1,"div",0),oe(2,"button",11),yt("click",function(){const s=fr(t).$implicit;return en().edit(s)}),at(3,"Edit"),ae(),oe(4,"button",12),at(5,"Delete"),ae(),ae(),ae()}}function fge(n,e){1&n&&Pt(0,"tr",13)}function pge(n,e){1&n&&Pt(0,"tr",14)}const mge=function(){return["/app/templates/add"]},gge=[{path:"",redirectTo:"app",pathMatch:"full"},{path:"app",component:Fle,children:[{path:"",redirectTo:"notes",pathMatch:"full"},{path:"notes",component:Nle},{path:"templates",component:(()=>{class n{constructor(){this.templates=[{name:"foo",content:"bar",_id:"",_rev:""}],this.displayedColumns=["name","actions"]}ngOnInit(){}edit(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ft({type:n,selectors:[["app-templates"]],decls:13,vars:5,consts:[[1,"actions-container"],["mat-stroked-button","",3,"routerLink"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click"],["mat-button",""],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(oe(0,"div",0),oe(1,"button",1),at(2,"Add"),ae(),ae(),Pt(3,"br"),oe(4,"table",2),us(5,3),vt(6,cge,2,0,"th",4),vt(7,uge,2,1,"td",5),ds(),us(8,6),vt(9,dge,1,0,"th",4),vt(10,hge,6,0,"td",5),ds(),vt(11,fge,1,0,"tr",7),vt(12,pge,1,0,"tr",8),ae()),2&t&&($e(1),qe("routerLink",Po(4,mge)),$e(3),qe("dataSource",i.templates),$e(7),qe("matHeaderRowDef",i.displayedColumns),$e(1),qe("matRowDefColumns",i.displayedColumns))},directives:[vc,el,IO,Nm,Fm,Pm,PO,FO,Lm,$m,NO,LO],styles:[""]}),n})()},{path:"templates/:id",component:lge},{path:"random-tables",component:Yle},{path:"random-tables/:id",component:Ule}]}];let _ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=ze({providers:[],imports:[[RL.forRoot(gge)],RL]}),n})(),vge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n,bootstrap:[Ole]}),n.\u0275inj=ze({providers:[],imports:[[Ak,_ge,L7,AG,RG,AK,iX.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),gX,NY,LI,JY,fK,_m,jK,GK,fJ,vJ,Pa,xJ,AP,Eee,Pee,zee,HJ,Qee,$J]]}),n})();$M=!1,Z6().bootstrapModule(vge).catch(n=>console.error(n))},525:()=>{}},He=>{He(He.s=95)}]);