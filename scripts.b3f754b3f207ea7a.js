!function(Le){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Le():"function"==typeof define&&define.amd?define([],Le):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EasyMDE=Le()}(function(){return function Le(qe,Je,J){function X(z,L){if(!Je[z]){if(!qe[z]){var C="function"==typeof require&&require;if(!L&&C)return C(z,!0);if(j)return j(z,!0);var ee=new Error("Cannot find module '"+z+"'");throw ee.code="MODULE_NOT_FOUND",ee}var W=Je[z]={exports:{}};qe[z][0].call(W.exports,function($){return X(qe[z][1][$]||$)},W,W.exports,Le,qe,Je,J)}return Je[z].exports}for(var j="function"==typeof require&&require,k=0;k<J.length;k++)X(J[k]);return X}({1:[function(Le,qe,Je){},{}],2:[function(Le,qe,Je){"use strict";var J=Le("typo-js");function X(j){"function"==typeof(j=j||{}).codeMirrorInstance&&"function"==typeof j.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),j.codeMirrorInstance.defineMode("spell-checker",function(k){if(!X.aff_loading){X.aff_loading=!0;var z=new XMLHttpRequest;z.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),z.onload=function(){4===z.readyState&&200===z.status&&(X.aff_data=z.responseText,2==++X.num_loaded&&(X.typo=new J("en_US",X.aff_data,X.dic_data,{platform:"any"})))},z.send(null)}if(!X.dic_loading){X.dic_loading=!0;var L=new XMLHttpRequest;L.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),L.onload=function(){4===L.readyState&&200===L.status&&(X.dic_data=L.responseText,2==++X.num_loaded&&(X.typo=new J("en_US",X.aff_data,X.dic_data,{platform:"any"})))},L.send(null)}var C='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',ee={token:function($){var ue=$.peek(),Y="";if(C.includes(ue))return $.next(),null;for(;null!=(ue=$.peek())&&!C.includes(ue);)Y+=ue,$.next();return X.typo&&!X.typo.check(Y)?"spell-error":null}},W=j.codeMirrorInstance.getMode(k,k.backdrop||"text/plain");return j.codeMirrorInstance.overlayMode(W,ee,!0)})):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}X.num_loaded=0,X.aff_loading=!1,X.dic_loading=!1,X.aff_data="",X.dic_data="",qe.exports=X},{"typo-js":16}],3:[function(Le,qe,Je){!function(J){"use strict";function X(j,k){clearTimeout(k.timeout),J.off(window,"mouseup",k.hurry),J.off(window,"keyup",k.hurry)}J.defineOption("autoRefresh",!1,function(j,k){j.state.autoRefresh&&(X(0,j.state.autoRefresh),j.state.autoRefresh=null),k&&0==j.display.wrapper.offsetHeight&&function(z,L){function C(){z.display.wrapper.offsetHeight?(X(0,L),z.display.lastWrapHeight!=z.display.wrapper.clientHeight&&z.refresh()):L.timeout=setTimeout(C,L.delay)}L.timeout=setTimeout(C,L.delay),L.hurry=function(){clearTimeout(L.timeout),L.timeout=setTimeout(C,50)},J.on(window,"mouseup",L.hurry),J.on(window,"keyup",L.hurry)}(j,j.state.autoRefresh={delay:k.delay||250})})}("object"==typeof Je&&"object"==typeof qe?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],4:[function(Le,qe,Je){!function(J){"use strict";J.defineOption("fullScreen",!1,function(X,j,k){var z,L;k==J.Init&&(k=!1),!k!=!j&&(j?(L=(z=X).getWrapperElement(),z.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:L.style.width,height:L.style.height},L.style.width="",L.style.height="auto",L.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",z.refresh()):function(z){var L=z.getWrapperElement();L.className=L.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var C=z.state.fullScreenRestore;L.style.width=C.width,L.style.height=C.height,window.scrollTo(C.scrollLeft,C.scrollTop),z.refresh()}(X))})}("object"==typeof Je&&"object"==typeof qe?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],5:[function(Le,qe,Je){!function(J){function X(C){C.state.placeholder&&(C.state.placeholder.parentNode.removeChild(C.state.placeholder),C.state.placeholder=null)}function j(C){X(C);var ee=C.state.placeholder=document.createElement("pre");ee.style.cssText="height: 0; overflow: visible",ee.style.direction=C.getOption("direction"),ee.className="CodeMirror-placeholder CodeMirror-line-like";var W=C.getOption("placeholder");"string"==typeof W&&(W=document.createTextNode(W)),ee.appendChild(W),C.display.lineSpace.insertBefore(ee,C.display.lineSpace.firstChild)}function k(C){L(C)&&j(C)}function z(C){var ee=C.getWrapperElement(),W=L(C);ee.className=ee.className.replace(" CodeMirror-empty","")+(W?" CodeMirror-empty":""),W?j(C):X(C)}function L(C){return 1===C.lineCount()&&""===C.getLine(0)}J.defineOption("placeholder","",function(C,ee,W){var $=W&&W!=J.Init;if(ee&&!$)C.on("blur",k),C.on("change",z),C.on("swapDoc",z),J.on(C.getInputField(),"compositionupdate",C.state.placeholderCompose=function(){var Y;Y=C,setTimeout(function(){var pe=!1;if(1==Y.lineCount()){var Ae=Y.getInputField();pe="TEXTAREA"==Ae.nodeName?!Y.getLine(0).length:!/[^\u200b]/.test(Ae.querySelector(".CodeMirror-line").textContent)}pe?j(Y):X(Y)},20)}),z(C);else if(!ee&&$){C.off("blur",k),C.off("change",z),C.off("swapDoc",z),J.off(C.getInputField(),"compositionupdate",C.state.placeholderCompose),X(C);var ue=C.getWrapperElement();ue.className=ue.className.replace(" CodeMirror-empty","")}ee&&!C.hasFocus()&&k(C)})}("object"==typeof Je&&"object"==typeof qe?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],6:[function(Le,qe,Je){!function(J){"use strict";var X=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,j=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,k=/[*+-]\s/;function z(L,C){var ee=C.line,W=0,$=0,ue=X.exec(L.getLine(ee)),Y=ue[1];do{var pe=ee+(W+=1),Ae=L.getLine(pe),De=X.exec(Ae);if(De){var Z=De[1],H=parseInt(ue[3],10)+W-$,Q=parseInt(De[3],10),te=Q;if(Y!==Z||isNaN(Q)){if(Y.length>Z.length||Y.length<Z.length&&1===W)return;$+=1}else H===Q&&(te=Q+1),H>Q&&(te=H+1),L.replaceRange(Ae.replace(X,Z+te+De[4]+De[5]),{line:pe,ch:0},{line:pe,ch:Ae.length})}}while(De)}J.commands.newlineAndIndentContinueMarkdownList=function(L){if(L.getOption("disableInput"))return J.Pass;for(var C=L.listSelections(),ee=[],W=0;W<C.length;W++){var $=C[W].head,ue=L.getStateAfter($.line),Y=J.innerMode(L.getMode(),ue);if("markdown"!==Y.mode.name)return void L.execCommand("newlineAndIndent");var pe=!1!==(ue=Y.state).list,Ae=0!==ue.quote,De=L.getLine($.line),Z=X.exec(De),H=/^\s*$/.test(De.slice(0,$.ch));if(!C[W].empty()||!pe&&!Ae||!Z||H)return void L.execCommand("newlineAndIndent");if(j.test(De)){var Q=Ae&&/>\s*$/.test(De),te=!/>\s*$/.test(De);(Q||te)&&L.replaceRange("",{line:$.line,ch:0},{line:$.line,ch:$.ch+1}),ee[W]="\n"}else{var de=Z[1],ne=Z[5],he=!(k.test(Z[2])||Z[2].indexOf(">")>=0),be=he?parseInt(Z[3],10)+1+Z[4]:Z[2].replace("x"," ");ee[W]="\n"+de+be+ne,he&&z(L,$)}}L.replaceSelections(ee)}}("object"==typeof Je&&"object"==typeof qe?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],7:[function(Le,qe,Je){!function(J){"use strict";J.overlayMode=function(X,j,k){return{startState:function(){return{base:J.startState(X),overlay:J.startState(j),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(z){return{base:J.copyState(X,z.base),overlay:J.copyState(j,z.overlay),basePos:z.basePos,baseCur:null,overlayPos:z.overlayPos,overlayCur:null}},token:function(z,L){return(z!=L.streamSeen||Math.min(L.basePos,L.overlayPos)<z.start)&&(L.streamSeen=z,L.basePos=L.overlayPos=z.start),z.start==L.basePos&&(L.baseCur=X.token(z,L.base),L.basePos=z.pos),z.start==L.overlayPos&&(z.pos=z.start,L.overlayCur=j.token(z,L.overlay),L.overlayPos=z.pos),z.pos=Math.min(L.basePos,L.overlayPos),null==L.overlayCur?L.baseCur:null!=L.baseCur&&L.overlay.combineTokens||k&&null==L.overlay.combineTokens?L.baseCur+" "+L.overlayCur:L.overlayCur},indent:X.indent&&function(z,L,C){return X.indent(z.base,L,C)},electricChars:X.electricChars,innerMode:function(z){return{state:z.base,mode:X}},blankLine:function(z){var L,C;return X.blankLine&&(L=X.blankLine(z.base)),j.blankLine&&(C=j.blankLine(z.overlay)),null==C?L:k&&null!=L?L+" "+C:C}}}}("object"==typeof Je&&"object"==typeof qe?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],8:[function(Le,qe,Je){!function(J){"use strict";var X,j,k=J.Pos;function z(Z,H){for(var Q=(void 0,null!=(he=(ne=Z).flags)?he:(ne.ignoreCase?"i":"")+(ne.global?"g":"")+(ne.multiline?"m":"")),te=Q,de=0;de<H.length;de++)-1==te.indexOf(H.charAt(de))&&(te+=H.charAt(de));var ne,he;return Q==te?Z:new RegExp(Z.source,te)}function L(Z){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(Z.source)}function C(Z,H,Q){H=z(H,"g");for(var te=Q.line,de=Q.ch,ne=Z.lastLine();te<=ne;te++,de=0){H.lastIndex=de;var he=Z.getLine(te),be=H.exec(he);if(be)return{from:k(te,be.index),to:k(te,be.index+be[0].length),match:be}}}function ee(Z,H,Q){if(!L(H))return C(Z,H,Q);H=z(H,"gm");for(var te,de=1,ne=Q.line,he=Z.lastLine();ne<=he;){for(var be=0;be<de&&!(ne>he);be++){var xe=Z.getLine(ne++);te=null==te?xe:te+"\n"+xe}de*=2,H.lastIndex=Q.ch;var je=H.exec(te);if(je){var Ne=te.slice(0,je.index).split("\n"),He=je[0].split("\n"),P=Q.line+Ne.length-1,ce=Ne[Ne.length-1].length;return{from:k(P,ce),to:k(P+He.length-1,1==He.length?ce+He[0].length:He[He.length-1].length),match:je}}}}function W(Z,H,Q){for(var te,de=0;de<=Z.length;){H.lastIndex=de;var ne=H.exec(Z);if(!ne)break;var he=ne.index+ne[0].length;if(he>Z.length-Q)break;(!te||he>te.index+te[0].length)&&(te=ne),de=ne.index+1}return te}function $(Z,H,Q){H=z(H,"g");for(var te=Q.line,de=Q.ch,ne=Z.firstLine();te>=ne;te--,de=-1){var he=Z.getLine(te),be=W(he,H,de<0?0:he.length-de);if(be)return{from:k(te,be.index),to:k(te,be.index+be[0].length),match:be}}}function ue(Z,H,Q){if(!L(H))return $(Z,H,Q);H=z(H,"gm");for(var te,de=1,ne=Z.getLine(Q.line).length-Q.ch,he=Q.line,be=Z.firstLine();he>=be;){for(var xe=0;xe<de&&he>=be;xe++){var je=Z.getLine(he--);te=null==te?je:je+"\n"+te}de*=2;var Ne=W(te,H,ne);if(Ne){var He=te.slice(0,Ne.index).split("\n"),P=Ne[0].split("\n"),ce=he+He.length,_=He[He.length-1].length;return{from:k(ce,_),to:k(ce+P.length-1,1==P.length?_+P[0].length:P[P.length-1].length),match:Ne}}}}function Y(Z,H,Q,te){if(Z.length==H.length)return Q;for(var de=0,ne=Q+Math.max(0,Z.length-H.length);;){if(de==ne)return de;var he=de+ne>>1,be=te(Z.slice(0,he)).length;if(be==Q)return he;be>Q?ne=he:de=he+1}}function pe(Z,H,Q,te){if(!H.length)return null;var de=te?X:j,ne=de(H).split(/\r|\n\r?/);e:for(var he=Q.line,be=Q.ch,xe=Z.lastLine()+1-ne.length;he<=xe;he++,be=0){var je=Z.getLine(he).slice(be),Ne=de(je);if(1==ne.length){var He=Ne.indexOf(ne[0]);if(-1==He)continue e;return Q=Y(je,Ne,He,de)+be,{from:k(he,Y(je,Ne,He,de)+be),to:k(he,Y(je,Ne,He+ne[0].length,de)+be)}}var P=Ne.length-ne[0].length;if(Ne.slice(P)==ne[0]){for(var ce=1;ce<ne.length-1;ce++)if(de(Z.getLine(he+ce))!=ne[ce])continue e;var _=Z.getLine(he+ne.length-1),ke=de(_),Ge=ne[ne.length-1];if(ke.slice(0,Ge.length)==Ge)return{from:k(he,Y(je,Ne,P,de)+be),to:k(he+ne.length-1,Y(_,ke,Ge.length,de))}}}}function Ae(Z,H,Q,te){if(!H.length)return null;var de=te?X:j,ne=de(H).split(/\r|\n\r?/);e:for(var he=Q.line,be=Q.ch,xe=Z.firstLine()-1+ne.length;he>=xe;he--,be=-1){var je=Z.getLine(he);be>-1&&(je=je.slice(0,be));var Ne=de(je);if(1==ne.length){var He=Ne.lastIndexOf(ne[0]);if(-1==He)continue e;return{from:k(he,Y(je,Ne,He,de)),to:k(he,Y(je,Ne,He+ne[0].length,de))}}var P=ne[ne.length-1];if(Ne.slice(0,P.length)==P){var ce=1;for(Q=he-ne.length+1;ce<ne.length-1;ce++)if(de(Z.getLine(Q+ce))!=ne[ce])continue e;var _=Z.getLine(he+1-ne.length),ke=de(_);if(ke.slice(ke.length-ne[0].length)==ne[0])return{from:k(he+1-ne.length,Y(_,ke,_.length-ne[0].length,de)),to:k(he,Y(je,Ne,P.length,de))}}}}function De(Z,H,Q,te){var de;this.atOccurrence=!1,this.doc=Z,Q=Q?Z.clipPos(Q):k(0,0),this.pos={from:Q,to:Q},"object"==typeof te?de=te.caseFold:(de=te,te=null),"string"==typeof H?(null==de&&(de=!1),this.matches=function(ne,he){return(ne?Ae:pe)(Z,H,he,de)}):(H=z(H,"gm"),this.matches=te&&!1===te.multiline?function(ne,he){return(ne?$:C)(Z,H,he)}:function(ne,he){return(ne?ue:ee)(Z,H,he)})}String.prototype.normalize?(X=function(Z){return Z.normalize("NFD").toLowerCase()},j=function(Z){return Z.normalize("NFD")}):(X=function(Z){return Z.toLowerCase()},j=function(Z){return Z}),De.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(Z){for(var H=this.matches(Z,this.doc.clipPos(Z?this.pos.from:this.pos.to));H&&0==J.cmpPos(H.from,H.to);)Z?H.from.ch?H.from=k(H.from.line,H.from.ch-1):H=H.from.line==this.doc.firstLine()?null:this.matches(Z,this.doc.clipPos(k(H.from.line-1))):H.to.ch<this.doc.getLine(H.to.line).length?H.to=k(H.to.line,H.to.ch+1):H=H.to.line==this.doc.lastLine()?null:this.matches(Z,k(H.to.line+1,0));if(H)return this.pos=H,this.atOccurrence=!0,this.pos.match||!0;var Q=k(Z?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:Q,to:Q},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(Z,H){if(this.atOccurrence){var Q=J.splitLines(Z);this.doc.replaceRange(Q,this.pos.from,this.pos.to,H),this.pos.to=k(this.pos.from.line+Q.length-1,Q[Q.length-1].length+(1==Q.length?this.pos.from.ch:0))}}},J.defineExtension("getSearchCursor",function(Z,H,Q){return new De(this.doc,Z,H,Q)}),J.defineDocExtension("getSearchCursor",function(Z,H,Q){return new De(this,Z,H,Q)}),J.defineExtension("selectMatches",function(Z,H){for(var Q=[],te=this.getSearchCursor(Z,this.getCursor("from"),H);te.findNext()&&!(J.cmpPos(te.to(),this.getCursor("to"))>0);)Q.push({anchor:te.from(),head:te.to()});Q.length&&this.setSelections(Q,0)})}("object"==typeof Je&&"object"==typeof qe?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],9:[function(Le,qe,Je){!function(J){"use strict";function X(W){W.state.markedSelection&&W.operation(function(){!function($){if(!$.somethingSelected())return C($);if($.listSelections().length>1)return ee($);var ue=$.getCursor("start"),Y=$.getCursor("end"),pe=$.state.markedSelection;if(!pe.length)return L($,ue,Y);var Ae=pe[0].find(),De=pe[pe.length-1].find();if(!Ae||!De||Y.line-ue.line<=8||z(ue,De.to)>=0||z(Y,Ae.from)<=0)return ee($);for(;z(ue,Ae.from)>0;)pe.shift().clear(),Ae=pe[0].find();for(z(ue,Ae.from)<0&&(Ae.to.line-ue.line<8?(pe.shift().clear(),L($,ue,Ae.to,0)):L($,ue,Ae.from,0));z(Y,De.to)<0;)pe.pop().clear(),De=pe[pe.length-1].find();z(Y,De.to)>0&&(Y.line-De.from.line<8?(pe.pop().clear(),L($,De.from,Y)):L($,De.to,Y))}(W)})}function j(W){W.state.markedSelection&&W.state.markedSelection.length&&W.operation(function(){C(W)})}J.defineOption("styleSelectedText",!1,function(W,$,ue){var Y=ue&&ue!=J.Init;$&&!Y?(W.state.markedSelection=[],W.state.markedSelectionStyle="string"==typeof $?$:"CodeMirror-selectedtext",ee(W),W.on("cursorActivity",X),W.on("change",j)):!$&&Y&&(W.off("cursorActivity",X),W.off("change",j),C(W),W.state.markedSelection=W.state.markedSelectionStyle=null)});var k=J.Pos,z=J.cmpPos;function L(W,$,ue,Y){if(0!=z($,ue))for(var pe=W.state.markedSelection,Ae=W.state.markedSelectionStyle,De=$.line;;){var Z=De==$.line?$:k(De,0),H=De+8,Q=H>=ue.line,te=Q?ue:k(H,0),de=W.markText(Z,te,{className:Ae});if(null==Y?pe.push(de):pe.splice(Y++,0,de),Q)break;De=H}}function C(W){for(var $=W.state.markedSelection,ue=0;ue<$.length;++ue)$[ue].clear();$.length=0}function ee(W){C(W);for(var $=W.listSelections(),ue=0;ue<$.length;ue++)L(W,$[ue].from(),$[ue].to())}}("object"==typeof Je&&"object"==typeof qe?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],10:[function(Le,qe,Je){var J,X;J=this,X=function(){"use strict";var J=navigator.userAgent,X=navigator.platform,j=/gecko\/\d/i.test(J),k=/MSIE \d/.test(J),z=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(J),L=/Edge\/(\d+)/.exec(J),C=k||z||L,ee=C&&(k?document.documentMode||6:+(L||z)[1]),W=!L&&/WebKit\//.test(J),$=W&&/Qt\/\d+\.\d+/.test(J),ue=!L&&/Chrome\//.test(J),Y=/Opera\//.test(J),pe=/Apple Computer/.test(navigator.vendor),Ae=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(J),De=/PhantomJS/.test(J),Z=pe&&(/Mobile\/\w+/.test(J)||navigator.maxTouchPoints>2),H=/Android/.test(J),Q=Z||H||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(J),te=Z||/Mac/.test(X),de=/\bCrOS\b/.test(J),ne=/win/i.test(X),he=Y&&J.match(/Version\/(\d*\.\d*)/);he&&(he=Number(he[1])),he&&he>=15&&(Y=!1,W=!0);var be=te&&($||Y&&(null==he||he<12.11)),xe=j||C&&ee>=9;function je(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var Ne,He=function(e,t){var r=e.className,n=je(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function P(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function ce(e,t){return P(e).appendChild(t)}function _(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function ke(e,t,r,n){var i=_(e,t,r,n);return i.setAttribute("role","presentation"),i}function Ge(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function ct(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function w(e,t){var r=e.className;je(t).test(r)||(e.className+=(r?" ":"")+t)}function d(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!je(r[n]).test(t)&&(t+=" "+r[n]);return t}Ne=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var Ce=function(e){e.select()};function Se(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function at(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function Qe(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,a=i||0;;){var l=e.indexOf("\t",o);if(l<0||l>=t)return a+(t-o);a+=l-o,a+=r-a%r,o=l+1}}Z?Ce=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:C&&(Ce=function(e){try{e.select()}catch(t){}});var dt=function(){this.id=null,this.f=null,this.time=0,this.handler=Se(this.onTimeout,this)};function Ee(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}dt.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},dt.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var ut={toString:function(){return"CodeMirror.Pass"}},fe={scroll:!1},ve={origin:"*mouse"},kt={origin:"+move"};function vt(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||i+a>=t)return n+Math.min(a,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}var Dt=[""];function yt(e){for(;Dt.length<=e;)Dt.push(Me(Dt)+" ");return Dt[e]}function Me(e){return e[e.length-1]}function Mt(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Tt(){}function Bt(e,t){var r;return Object.create?r=Object.create(e):(Tt.prototype=e,r=new Tt),t&&at(t,r),r}var Gt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Jt(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Gt.test(e))}function Kt(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Jt(e))||t.test(e):Jt(e)}function fn(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var zn=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ge(e){return e.charCodeAt(0)>=768&&zn.test(e)}function wn(e,t,r){for(;(r<0?t>0:t<e.length)&&ge(e.charAt(t));)t+=r;return t}function c(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}var F=null;function T(e,t,r){var n;F=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:F=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:F=i)}return null!=n?n:F}var A=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,r=/[LRr]/,n=/[Lb1n]/,i=/[1n]/;function o(a,l,s){this.level=a,this.from=l,this.to=s}return function(a,l){var s="ltr"==l?"L":"R";if(0==a.length||"ltr"==l&&!e.test(a))return!1;for(var u,m=a.length,h=[],D=0;D<m;++D)h.push((u=a.charCodeAt(D))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var x=0,B=s;x<m;++x){var O=h[x];"m"==O?h[x]=B:B=O}for(var E=0,R=s;E<m;++E){var K=h[E];"1"==K&&"r"==R?h[E]="n":r.test(K)&&(R=K,"r"==K&&(h[E]="R"))}for(var U=1,le=h[0];U<m-1;++U){var ie=h[U];"+"==ie&&"1"==le&&"1"==h[U+1]?h[U]="1":","!=ie||le!=h[U+1]||"1"!=le&&"n"!=le||(h[U]=le),le=ie}for(var se=0;se<m;++se){var Be=h[se];if(","==Be)h[se]="N";else if("%"==Be){var me=void 0;for(me=se+1;me<m&&"%"==h[me];++me);for(var We=se&&"!"==h[se-1]||me<m&&"1"==h[me]?"1":"N",Te=se;Te<me;++Te)h[Te]=We;se=me-1}}for(var Xe=0,rt=s;Xe<m;++Xe){var Ze=h[Xe];"L"==rt&&"1"==Ze?h[Xe]="L":r.test(Ze)&&(rt=Ze)}for(var $e=0;$e<m;++$e)if(t.test(h[$e])){var Ye=void 0;for(Ye=$e+1;Ye<m&&t.test(h[Ye]);++Ye);for(var Re="L"==($e?h[$e-1]:s),it=Re==("L"==(Ye<m?h[Ye]:s))?Re?"L":"R":s,Oe=$e;Oe<Ye;++Oe)h[Oe]=it;$e=Ye-1}for(var Ke,_e=[],et=0;et<m;)if(n.test(h[et])){var Ht=et;for(++et;et<m&&n.test(h[et]);++et);_e.push(new o(0,Ht,et))}else{var ot=et,Ot=_e.length,It="rtl"==l?1:0;for(++et;et<m&&"L"!=h[et];++et);for(var pt=ot;pt<et;)if(i.test(h[pt])){ot<pt&&(_e.splice(Ot,0,new o(1,ot,pt)),Ot+=It);var Rt=pt;for(++pt;pt<et&&i.test(h[pt]);++pt);_e.splice(Ot,0,new o(2,Rt,pt)),Ot+=It,ot=pt}else++pt;ot<et&&_e.splice(Ot,0,new o(1,ot,et))}return"ltr"==l&&(1==_e[0].level&&(Ke=a.match(/^\s+/))&&(_e[0].from=Ke[0].length,_e.unshift(new o(0,0,Ke[0].length))),1==Me(_e).level&&(Ke=a.match(/\s+$/))&&(Me(_e).to-=Ke[0].length,_e.push(new o(0,m-Ke[0].length,m)))),"rtl"==l?_e.reverse():_e}}();function G(e,t){var r=e.order;return null==r&&(r=e.order=A(e.text,t)),r}var q=[],M=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||q).concat(r)}};function re(e,t){return e._handlers&&e._handlers[t]||q}function S(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=Ee(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function y(e,t){var r=re(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function b(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),y(e,r||t.type,e,t),oe(t)||t.codemirrorIgnore}function v(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==Ee(r,t[n])&&r.push(t[n])}function p(e,t){return re(e,t).length>0}function g(e){e.prototype.on=function(t,r){M(this,t,r)},e.prototype.off=function(t,r){S(this,t,r)}}function f(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function N(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function oe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function I(e){f(e),N(e)}function V(e){return e.target||e.srcElement}function we(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),te&&e.ctrlKey&&1==t&&(t=3),t}var ye,Ue,Pe=function(){if(C&&ee<9)return!1;var e=_("div");return"draggable"in e||"dragDrop"in e}();function ht(e){if(null==ye){var t=_("span","\u200b");ce(e,_("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(ye=t.offsetWidth<=1&&t.offsetHeight>2&&!(C&&ee<8))}var r=ye?_("span","\u200b"):_("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Pt(e){if(null!=Ue)return Ue;var t=ce(e,document.createTextNode("A\u062eA")),r=Ne(t,0,1).getBoundingClientRect(),n=Ne(t,1,2).getBoundingClientRect();return P(e),!(!r||r.left==r.right)&&(Ue=n.right-r.right<3)}var xt,ft=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Ve=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},wt="oncopy"in(xt=_("div"))||(xt.setAttribute("oncopy","return;"),"function"==typeof xt.oncopy),tt=null,St={},mt={};function en(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),St[e]=t}function tn(e){if("string"==typeof e&&mt.hasOwnProperty(e))e=mt[e];else if(e&&"string"==typeof e.name&&mt.hasOwnProperty(e.name)){var t=mt[e.name];"string"==typeof t&&(t={name:t}),(e=Bt(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return tn("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return tn("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function tr(e,t){t=tn(t);var r=St[t.name];if(!r)return tr(e,"text/plain");var n=r(e,t);if(sn.hasOwnProperty(t.name)){var i=sn[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var sn={};function vl(e,t){at(t,sn.hasOwnProperty(e)?sn[e]:sn[e]={})}function kn(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function di(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function uo(e,t,r){return!e.startState||e.startState(t,r)}var Ct=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Fe(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function Sn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(o){var a=o.text;i==r.line&&(a=a.slice(0,r.ch)),i==t.line&&(a=a.slice(t.ch)),n.push(a),++i}),n}function hi(e,t,r){var n=[];return e.iter(t,r,function(i){n.push(i.text)}),n}function nn(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function lt(e){if(null==e.parent)return null;for(var t=e.parent,r=Ee(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function Fn(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var a=0;a<e.lines.length;++a){var l=e.lines[a].height;if(t<l)break;t-=l}return r+a}function nr(e,t){return t>=e.first&&t<e.first+e.size}function fi(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ae(e,t,r){if(void 0===r&&(r=null),!(this instanceof ae))return new ae(e,t,r);this.line=e,this.ch=t,this.sticky=r}function Ie(e,t){return e.line-t.line||e.ch-t.ch}function pi(e,t){return e.sticky==t.sticky&&0==Ie(e,t)}function mi(e){return ae(e.line,e.ch)}function Br(e,t){return Ie(e,t)<0?t:e}function Nr(e,t){return Ie(e,t)<0?e:t}function co(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ze(e,t){if(t.line<e.first)return ae(e.first,0);var n,i,o,r=e.first+e.size-1;return t.line>r?ae(r,Fe(e,r).text.length):(n=t,i=Fe(e,t.line).text.length,null==(o=n.ch)||o>i?ae(n.line,i):o<0?ae(n.line,0):n)}function ho(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=ze(e,t[n]);return r}Ct.prototype.eol=function(){return this.pos>=this.string.length},Ct.prototype.sol=function(){return this.pos==this.lineStart},Ct.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ct.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ct.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ct.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ct.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ct.prototype.skipToEnd=function(){this.pos=this.string.length},Ct.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ct.prototype.backUp=function(e){this.pos-=e},Ct.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Qe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Qe(this.string,this.lineStart,this.tabSize):0)},Ct.prototype.indentation=function(){return Qe(this.string,null,this.tabSize)-(this.lineStart?Qe(this.string,this.lineStart,this.tabSize):0)},Ct.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(o){return r?o.toLowerCase():o};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ct.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ct.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ct.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ct.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var Or=function(e,t){this.state=e,this.lookAhead=t},rn=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function fo(e,t,r,n){var i=[e.state.modeGen],o={};yo(e,t.text,e.doc.mode,r,function(u,m){return i.push(u,m)},o,n);for(var a=r.state,l=function(u){r.baseTokens=i;var m=e.state.overlays[u],h=1,D=0;r.state=!0,yo(e,t.text,m.mode,r,function(x,B){for(var O=h;D<x;){var E=i[h];E>x&&i.splice(h,1,x,i[h+1],E),h+=2,D=Math.min(x,E)}if(B)if(m.opaque)i.splice(O,h-O,x,"overlay "+B),h=O+2;else for(;O<h;O+=2){var R=i[O+1];i[O+1]=(R?R+" ":"")+"overlay "+B}},o),r.state=a,r.baseTokens=null,r.baseTokenPos=1},s=0;s<e.state.overlays.length;++s)l(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function po(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=rr(e,lt(t)),i=t.text.length>e.options.maxHighlightLength&&kn(e.doc.mode,n.state),o=fo(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function rr(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new rn(n,!0,t);var o=function(s,u,m){for(var h,D,x=s.doc,B=m?-1:u-(s.doc.mode.innerMode?1e3:100),O=u;O>B;--O){if(O<=x.first)return x.first;var E=Fe(x,O-1),R=E.stateAfter;if(R&&(!m||O+(R instanceof Or?R.lookAhead:0)<=x.modeFrontier))return O;var K=Qe(E.text,null,s.options.tabSize);(null==D||h>K)&&(D=O-1,h=K)}return D}(e,t,r),a=o>n.first&&Fe(n,o-1).stateAfter,l=a?rn.fromSaved(n,a,o):new rn(n,uo(n.mode),o);return n.iter(o,t,function(s){gi(e,s.text,l);var u=l.line;s.stateAfter=u==t-1||u%5==0||u>=i.viewFrom&&u<i.viewTo?l.save():null,l.nextLine()}),r&&(n.modeFrontier=l.line),l}function gi(e,t,r,n){var i=e.doc.mode,o=new Ct(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&mo(i,r.state);!o.eol();)vi(i,o,r.state),o.start=o.pos}function mo(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=di(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function vi(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=di(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}rn.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},rn.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},rn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},rn.fromSaved=function(e,t,r){return t instanceof Or?new rn(e,kn(e.mode,t.state),r,t.lookAhead):new rn(e,kn(e.mode,t),r)},rn.prototype.save=function(e){var t=!1!==e?kn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Or(t,this.maxLookAhead):t};var go=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function vo(e,t,r,n){var i,o,a=e.doc,l=a.mode,s=Fe(a,(t=ze(a,t)).line),u=rr(e,t.line,r),m=new Ct(s.text,e.options.tabSize,u);for(n&&(o=[]);(n||m.pos<t.ch)&&!m.eol();)m.start=m.pos,i=vi(l,m,u.state),n&&o.push(new go(m,i,kn(a.mode,u.state)));return n?o:new go(m,i,u.state)}function xo(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function yo(e,t,r,n,i,o,a){var l=r.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,u=0,m=null,h=new Ct(t,e.options.tabSize,n),D=e.options.addModeClass&&[null];for(""==t&&xo(mo(r,n.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(l=!1,a&&gi(e,t,n,h.pos),h.pos=t.length,s=null):s=xo(vi(r,h,n.state,D),o),D){var x=D[0].name;x&&(s="m-"+(s?x+" "+s:x))}if(!l||m!=s){for(;u<h.start;)i(u=Math.min(h.start,u+5e3),m);m=s}h.start=h.pos}for(;u<h.pos;){var B=Math.min(h.pos,u+5e3);i(B,m),u=B}}var bo=!1,un=!1;function Ir(e,t,r){this.marker=e,this.from=t,this.to=r}function ir(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function xl(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function xi(e,t){if(t.full)return null;var r=nr(e,t.from.line)&&Fe(e,t.from.line).markedSpans,n=nr(e,t.to.line)&&Fe(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=0==Ie(t.from,t.to),l=function(ie,se,Be){var me;if(ie)for(var We=0;We<ie.length;++We){var Te=ie[We],Xe=Te.marker;null!=Te.from&&!(Xe.inclusiveLeft?Te.from<=se:Te.from<se)&&(Te.from!=se||"bookmark"!=Xe.type||Be&&Te.marker.insertLeft)||(me||(me=[])).push(new Ir(Xe,Te.from,null==Te.to||(Xe.inclusiveRight?Te.to>=se:Te.to>se)?null:Te.to))}return me}(r,i,a),s=function(ie,se,Be){var me;if(ie)for(var We=0;We<ie.length;++We){var Te=ie[We],Xe=Te.marker;(null==Te.to||(Xe.inclusiveRight?Te.to>=se:Te.to>se)||Te.from==se&&"bookmark"==Xe.type&&(!Be||Te.marker.insertLeft))&&(me||(me=[])).push(new Ir(Xe,null==Te.from||(Xe.inclusiveLeft?Te.from<=se:Te.from<se)?null:Te.from-se,null==Te.to?null:Te.to-se))}return me}(n,o,a),u=1==t.text.length,m=Me(t.text).length+(u?i:0);if(l)for(var h=0;h<l.length;++h){var D=l[h];if(null==D.to){var x=ir(s,D.marker);x?u&&(D.to=null==x.to?null:x.to+m):D.to=i}}if(s)for(var B=0;B<s.length;++B){var O=s[B];null!=O.to&&(O.to+=m),null==O.from?ir(l,O.marker)||(O.from=m,u&&(l||(l=[])).push(O)):(O.from+=m,u&&(l||(l=[])).push(O))}l&&(l=Do(l)),s&&s!=l&&(s=Do(s));var E=[l];if(!u){var R,K=t.text.length-2;if(K>0&&l)for(var U=0;U<l.length;++U)null==l[U].to&&(R||(R=[])).push(new Ir(l[U].marker,null,null));for(var le=0;le<K;++le)E.push(R);E.push(s)}return E}function Do(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Co(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function wo(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function zr(e){return e.inclusiveLeft?-1:0}function Hr(e){return e.inclusiveRight?1:0}function yi(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=Ie(n.from,i.from)||zr(e)-zr(t);return o?-o:Ie(n.to,i.to)||Hr(e)-Hr(t)||t.id-e.id}function ko(e,t){var r,n=un&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||yi(r,i.marker)<0)&&(r=i.marker);return r}function So(e){return ko(e,!0)}function Rr(e){return ko(e,!1)}function yl(e,t){var r,n=un&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||yi(r,o.marker)<0)&&(r=o.marker)}return r}function Fo(e,t,r,n,i){var o=Fe(e,t),a=un&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var u=s.marker.find(0),m=Ie(u.from,r)||zr(s.marker)-zr(i),h=Ie(u.to,n)||Hr(s.marker)-Hr(i);if(!(m>=0&&h<=0||m<=0&&h>=0)&&(m<=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?Ie(u.to,r)>=0:Ie(u.to,r)>0)||m>=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?Ie(u.from,n)<=0:Ie(u.from,n)<0)))return!0}}}function on(e){for(var t;t=So(e);)e=t.find(-1,!0).line;return e}function bi(e,t){var r=Fe(e,t),n=on(r);return r==n?t:lt(n)}function Ao(e,t){if(t>e.lastLine())return t;var r,n=Fe(e,t);if(!pn(e,n))return t;for(;r=Rr(n);)n=r.find(1,!0).line;return lt(n)+1}function pn(e,t){var r=un&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed&&(null==n.from||!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Di(e,t,n)))return!0}function Di(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return Di(e,n.line,ir(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Di(e,t,i))return!0}function cn(e){for(var t=0,r=(e=on(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var a=0;a<o.children.length;++a){var l=o.children[a];if(l==r)break;t+=l.height}return t}function Pr(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=So(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Rr(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function Ci(e){var t=e.display,r=e.doc;t.maxLine=Fe(r,r.first),t.maxLineLength=Pr(t.maxLine),t.maxLineChanged=!0,r.iter(function(n){var i=Pr(n);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=n)})}var Hn=function(e,t,r){this.text=e,wo(this,t),this.height=r?r(this):1};function bl(e){e.parent=null,Co(e)}Hn.prototype.lineNo=function(){return lt(this)},g(Hn);var Dl={},Cl={};function Eo(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Cl:Dl;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function To(e,t){var r=ke("span",null,null,W?"padding-right: .1px":null),n={pre:ke("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;n.pos=0,n.addToken=kl,Pt(e.display.measure)&&(a=G(o,e.doc.direction))&&(n.addToken=Sl(n.addToken,a)),n.map=[],Fl(o,n,po(e,o,t!=e.display.externalMeasured&&lt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=d(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=d(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(ht(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(W){var l=n.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return y(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=d(n.pre.className,n.textClass||"")),n}function wl(e){var t=_("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function kl(e,t,r,n,i,o,a){if(t){var l,s=e.splitSpaces?function(ie,se){if(ie.length>1&&!/  /.test(ie))return ie;for(var Be=se,me="",We=0;We<ie.length;We++){var Te=ie.charAt(We);" "!=Te||!Be||We!=ie.length-1&&32!=ie.charCodeAt(We+1)||(Te="\xa0"),me+=Te,Be=" "==Te}return me}(t,e.trailingSpace):t,u=e.cm.state.specialChars,m=!1;if(u.test(t)){l=document.createDocumentFragment();for(var h=0;;){u.lastIndex=h;var D=u.exec(t),x=D?D.index-h:t.length-h;if(x){var B=document.createTextNode(s.slice(h,h+x));l.appendChild(C&&ee<9?_("span",[B]):B),e.map.push(e.pos,e.pos+x,B),e.col+=x,e.pos+=x}if(!D)break;h+=x+1;var O=void 0;if("\t"==D[0]){var E=e.cm.options.tabSize,R=E-e.col%E;(O=l.appendChild(_("span",yt(R),"cm-tab"))).setAttribute("role","presentation"),O.setAttribute("cm-text","\t"),e.col+=R}else"\r"==D[0]||"\n"==D[0]?((O=l.appendChild(_("span","\r"==D[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",D[0]),e.col+=1):((O=e.cm.options.specialCharPlaceholder(D[0])).setAttribute("cm-text",D[0]),l.appendChild(C&&ee<9?_("span",[O]):O),e.col+=1);e.map.push(e.pos,e.pos+1,O),e.pos++}}else e.col+=t.length,l=document.createTextNode(s),e.map.push(e.pos,e.pos+t.length,l),C&&ee<9&&(m=!0),e.pos+=t.length;if(e.trailingSpace=32==s.charCodeAt(t.length-1),r||n||i||m||o||a){var K=r||"";n&&(K+=n),i&&(K+=i);var U=_("span",[l],K,o);if(a)for(var le in a)a.hasOwnProperty(le)&&"style"!=le&&"class"!=le&&U.setAttribute(le,a[le]);return e.content.appendChild(U)}e.content.appendChild(l)}}function Sl(e,t){return function(r,n,i,o,a,l,s){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,m=u+n.length;;){for(var h=void 0,D=0;D<t.length&&!((h=t[D]).to>u&&h.from<=u);D++);if(h.to>=m)return e(r,n,i,o,a,l,s);e(r,n.slice(0,h.to-u),i,o,null,l,s),o=null,n=n.slice(h.to-u),u=h.to}}}function Lo(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Fl(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var a,l,s,u,m,h,D,x=i.length,B=0,O=1,E="",R=0;;){if(R==B){s=u=m=l="",D=null,h=null,R=1/0;for(var K=[],U=void 0,le=0;le<n.length;++le){var ie=n[le],se=ie.marker;if("bookmark"==se.type&&ie.from==B&&se.widgetNode)K.push(se);else if(ie.from<=B&&(null==ie.to||ie.to>B||se.collapsed&&ie.to==B&&ie.from==B)){if(null!=ie.to&&ie.to!=B&&R>ie.to&&(R=ie.to,u=""),se.className&&(s+=" "+se.className),se.css&&(l=(l?l+";":"")+se.css),se.startStyle&&ie.from==B&&(m+=" "+se.startStyle),se.endStyle&&ie.to==R&&(U||(U=[])).push(se.endStyle,ie.to),se.title&&((D||(D={})).title=se.title),se.attributes)for(var Be in se.attributes)(D||(D={}))[Be]=se.attributes[Be];se.collapsed&&(!h||yi(h.marker,se)<0)&&(h=ie)}else ie.from>B&&R>ie.from&&(R=ie.from)}if(U)for(var me=0;me<U.length;me+=2)U[me+1]==R&&(u+=" "+U[me]);if(!h||h.from==B)for(var We=0;We<K.length;++We)Lo(t,0,K[We]);if(h&&(h.from||0)==B){if(Lo(t,(null==h.to?x+1:h.to)-B,h.marker,null==h.from),null==h.to)return;h.to==B&&(h=!1)}}if(B>=x)break;for(var Te=Math.min(x,R);;){if(E){var Xe=B+E.length;if(!h){var rt=Xe>Te?E.slice(0,Te-B):E;t.addToken(t,rt,a?a+s:s,m,B+rt.length==R?u:"",l,D)}if(Xe>=Te){E=E.slice(Te-B),B=Te;break}B=Xe,m=""}E=i.slice(o,o=r[O++]),a=Eo(r[O++],t.cm.options)}}else for(var Ze=1;Ze<r.length;Ze+=2)t.addToken(t,i.slice(o,o=r[Ze]),Eo(r[Ze+1],t.cm.options))}function Mo(e,t,r){this.line=t,this.rest=function(n){for(var i,o;i=Rr(n);)n=i.find(1,!0).line,(o||(o=[])).push(n);return o}(t),this.size=this.rest?lt(Me(this.rest))-r+1:1,this.node=this.text=null,this.hidden=pn(e,t)}function _r(e,t,r){for(var n,i=[],o=t;o<r;o=n){var a=new Mo(e.doc,Fe(e.doc,o),o);n=o+a.size,i.push(a)}return i}var Rn=null,or=null;function Ft(e,t){var r=re(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);Rn?n=Rn.delayedCallbacks:or?n=or:(n=or=[],setTimeout(Al,0));for(var o=function(l){n.push(function(){return r[l].apply(null,i)})},a=0;a<r.length;++a)o(a)}}function Al(){var e=or;or=null;for(var t=0;t<e.length;++t)e[t]()}function Bo(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?El(e,t):"gutter"==o?Oo(e,t,r,n):"class"==o?wi(e,t):"widget"==o&&Tl(e,t,n)}t.changes=null}function ar(e){return e.node==e.text&&(e.node=_("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),C&&ee<8&&(e.node.style.zIndex=2)),e.node}function No(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):To(e,t)}function El(e,t){var r=t.text.className,n=No(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,wi(e,t)):r&&(t.text.className=r)}function wi(e,t){(function(n,i){var o=i.bgClass?i.bgClass+" "+(i.line.bgClass||""):i.line.bgClass;if(o&&(o+=" CodeMirror-linebackground"),i.background)o?i.background.className=o:(i.background.parentNode.removeChild(i.background),i.background=null);else if(o){var a=ar(i);i.background=a.insertBefore(_("div",null,o),a.firstChild),n.display.input.setUneditable(i.background)}})(e,t),t.line.wrapClass?ar(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className=""),t.text.className=(t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass)||""}function Oo(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ar(t);t.gutterBackground=_("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=ar(t),l=t.gutter=_("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(l.setAttribute("aria-hidden","true"),e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(_("div",fi(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.display.gutterSpecs.length;++s){var u=e.display.gutterSpecs[s].className,m=o.hasOwnProperty(u)&&o[u];m&&l.appendChild(_("div",[m],"CodeMirror-gutter-elt","left: "+n.gutterLeft[u]+"px; width: "+n.gutterWidth[u]+"px"))}}}function Tl(e,t,r){t.alignable&&(t.alignable=null);for(var n=je("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);Io(e,t,r)}function Ll(e,t,r,n){var i=No(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),wi(e,t),Oo(e,t,r,n),Io(e,t,n),t.node}function Io(e,t,r){if(zo(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)zo(e,t.rest[n],t,r,!1)}function zo(e,t,r,n,i){if(t.widgets)for(var o=ar(r),a=0,l=t.widgets;a<l.length;++a){var s=l[a],u=_("div",[s.node],"CodeMirror-linewidget"+(s.className?" "+s.className:""));s.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Ml(s,u,r,n),e.display.input.setUneditable(u),i&&s.above?o.insertBefore(u,r.gutter||r.text):o.appendChild(u),Ft(s,"redraw")}}function Ml(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function lr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ge(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),ce(t.display.measure,_("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function dn(e,t){for(var r=V(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Wr(e){return e.lineSpace.offsetTop}function ki(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ho(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=ce(e.measure,_("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function an(e){return 50-e.display.nativeBarWidth}function An(e){return e.display.scroller.clientWidth-an(e)-e.display.barWidth}function Si(e){return e.display.scroller.clientHeight-an(e)-e.display.barHeight}function Ro(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(lt(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Po(e,t,r,n){return ln(e,Pn(e,t),r,n)}function Fi(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ln(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Pn(e,t){var r=lt(t),n=Fi(e,r);n&&!n.text?n=null:n&&n.changes&&(Bo(e,n,r,Bi(e)),e.curOp.forceUpdate=!0),n||(n=function(o,a){var l=lt(a=on(a)),s=o.display.externalMeasured=new Mo(o.doc,a,l);s.lineN=l;var u=s.built=To(o,s);return s.text=u.pre,ce(o.display.lineMeasure,u.pre),s}(e,t));var i=Ro(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function ln(e,t,r,n,i){t.before&&(r=-1);var o,a=r+(n||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(l,s,u){var m=l.options.lineWrapping,h=m&&An(l);if(!s.measure.heights||m&&s.measure.width!=h){var D=s.measure.heights=[];if(m){s.measure.width=h;for(var x=s.text.firstChild.getClientRects(),B=0;B<x.length-1;B++){var O=x[B],E=x[B+1];Math.abs(O.bottom-E.bottom)>2&&D.push((O.bottom+E.top)/2-u.top)}}D.push(u.bottom-u.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(l,s,u,m){var h,D=Wo(s.map,u,m),x=D.node,B=D.start,O=D.end,E=D.collapse;if(3==x.nodeType){for(var R=0;R<4;R++){for(;B&&ge(s.line.text.charAt(D.coverStart+B));)--B;for(;D.coverStart+O<D.coverEnd&&ge(s.line.text.charAt(D.coverStart+O));)++O;if((h=C&&ee<9&&0==B&&O==D.coverEnd-D.coverStart?x.parentNode.getBoundingClientRect():Bl(Ne(x,B,O).getClientRects(),m)).left||h.right||0==B)break;O=B,B-=1,E="right"}C&&ee<11&&(h=function(rt,Ze){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(Re){if(null!=tt)return tt;var it=ce(Re,_("span","x")),Oe=it.getBoundingClientRect(),Ke=Ne(it,0,1).getBoundingClientRect();return tt=Math.abs(Oe.left-Ke.left)>1}(rt))return Ze;var $e=screen.logicalXDPI/screen.deviceXDPI,Ye=screen.logicalYDPI/screen.deviceYDPI;return{left:Ze.left*$e,right:Ze.right*$e,top:Ze.top*Ye,bottom:Ze.bottom*Ye}}(l.display.measure,h))}else{var K;B>0&&(E=m="right"),h=l.options.lineWrapping&&(K=x.getClientRects()).length>1?K["right"==m?K.length-1:0]:x.getBoundingClientRect()}if(C&&ee<9&&!B&&(!h||!h.left&&!h.right)){var U=x.parentNode.getClientRects()[0];h=U?{left:U.left,right:U.left+Wn(l.display),top:U.top,bottom:U.bottom}:_o}for(var le=h.top-s.rect.top,ie=h.bottom-s.rect.top,se=(le+ie)/2,Be=s.view.measure.heights,me=0;me<Be.length-1&&!(se<Be[me]);me++);var Xe={left:("right"==E?h.right:h.left)-s.rect.left,right:("left"==E?h.left:h.right)-s.rect.left,top:me?Be[me-1]:0,bottom:Be[me]};return h.left||h.right||(Xe.bogus=!0),l.options.singleCursorHeightPerLine||(Xe.rtop=le,Xe.rbottom=ie),Xe}(e,t,r,n)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var En,_o={left:0,right:0,top:0,bottom:0};function Wo(e,t,r){for(var n,i,o,a,l,s,u=0;u<e.length;u+=3)if(s=e[u+1],t<(l=e[u])?(i=0,o=1,a="left"):t<s?o=1+(i=t-l):(u==e.length-3||t==s&&e[u+3]>t)&&(i=(o=s-l)-1,t>=s&&(a="right")),null!=i){if(n=e[u+2],l==s&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[2+(u-=3)],a="left";if("right"==r&&i==s-l)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],a="right";break}return{node:n,start:i,end:o,collapse:a,coverStart:l,coverEnd:s}}function Bl(e,t){var r=_o;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function jo(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function qo(e){e.display.externalMeasure=null,P(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)jo(e.display.view[t])}function sr(e){qo(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Uo(){return ue&&H?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function $o(){return ue&&H?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ai(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=lr(e.widgets[r]));return t}function jr(e,t,r,n,i){if(!i){var o=Ai(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=cn(t);if("local"==n?a+=Wr(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==n?0:$o());var s=l.left+("window"==n?0:Uo());r.left+=s,r.right+=s}return r.top+=a,r.bottom+=a,r}function Go(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=Uo(),i-=$o();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function Ei(e,t,r,n,i){return n||(n=Fe(e.doc,t.line)),jr(e,n,Po(e,n,t.ch,i),r)}function Xt(e,t,r,n,i,o){function a(B,O){var E=ln(e,i,B,O?"right":"left",o);return O?E.left=E.right:E.right=E.left,jr(e,n,E,r)}n=n||Fe(e.doc,t.line),i||(i=Pn(e,n));var l=G(n,e.doc.direction),s=t.ch,u=t.sticky;if(s>=n.text.length?(s=n.text.length,u="before"):s<=0&&(s=0,u="after"),!l)return a("before"==u?s-1:s,"before"==u);function m(B,O,E){return a(E?B-1:B,1==l[O].level!=E)}var h=T(l,s,u),D=F,x=m(s,h,"before"==u);return null!=D&&(x.other=m(s,D,"before"!=u)),x}function Vo(e,t){var r=0;t=ze(e.doc,t),e.options.lineWrapping||(r=Wn(e.display)*t.ch);var n=Fe(e.doc,t.line),i=cn(n)+Wr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function Ti(e,t,r,n,i){var o=ae(e,t,r);return o.xRel=i,n&&(o.outside=n),o}function Li(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Ti(n.first,0,null,-1,-1);var i=Fn(n,r),o=n.first+n.size-1;if(i>o)return Ti(n.first+n.size-1,Fe(n,o).text.length,null,1,1);t<0&&(t=0);for(var a=Fe(n,i);;){var l=Nl(e,a,i,t,r),s=yl(a,l.ch+(l.xRel>0||l.outside>0?1:0));if(!s)return l;var u=s.find(1);if(u.line==i)return u;a=Fe(n,i=u.line)}}function Ko(e,t,r,n){n-=Ai(t);var i=t.text.length,o=c(function(a){return ln(e,r,a-1).bottom<=n},i,0);return{begin:o,end:i=c(function(a){return ln(e,r,a).top>n},o,i)}}function Xo(e,t,r,n){return r||(r=Pn(e,t)),Ko(e,t,r,jr(e,t,ln(e,r,n),"line").top)}function Mi(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Nl(e,t,r,n,i){i-=cn(t);var o=Pn(e,t),a=Ai(t),l=0,s=t.text.length,u=!0,m=G(t,e.doc.direction);if(m){var h=(e.options.lineWrapping?Il:Ol)(e,t,r,o,m,n,i);l=(u=1!=h.level)?h.from:h.to-1,s=u?h.to:h.from-1}var D,x,B=null,O=null,E=c(function(ie){var se=ln(e,o,ie);return se.top+=a,se.bottom+=a,!!Mi(se,n,i,!1)&&(se.top<=i&&se.left<=n&&(B=ie,O=se),!0)},l,s),R=!1;if(O){var K=n-O.left<O.right-n,U=K==u;E=B+(U?0:1),x=U?"after":"before",D=K?O.left:O.right}else{u||E!=s&&E!=l||E++,x=0==E?"after":E==t.text.length?"before":ln(e,o,E-(u?1:0)).bottom+a<=i==u?"after":"before";var le=Xt(e,ae(r,E,x),"line",t,o);D=le.left,R=i<le.top?-1:i>=le.bottom?1:0}return Ti(r,E=wn(t.text,E,1),x,R,n-D)}function Ol(e,t,r,n,i,o,a){var l=c(function(h){var D=i[h],x=1!=D.level;return Mi(Xt(e,ae(r,x?D.to:D.from,x?"before":"after"),"line",t,n),o,a,!0)},0,i.length-1),s=i[l];if(l>0){var u=1!=s.level,m=Xt(e,ae(r,u?s.from:s.to,u?"after":"before"),"line",t,n);Mi(m,o,a,!0)&&m.top>a&&(s=i[l-1])}return s}function Il(e,t,r,n,i,o,a){var l=Ko(e,t,n,a),s=l.begin,u=l.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var m=null,h=null,D=0;D<i.length;D++){var x=i[D];if(!(x.from>=u||x.to<=s)){var B=ln(e,n,1!=x.level?Math.min(u,x.to)-1:Math.max(s,x.from)).right,O=B<o?o-B+1e9:B-o;(!m||h>O)&&(m=x,h=O)}}return m||(m=i[i.length-1]),m.from<s&&(m={from:s,to:m.to,level:m.level}),m.to>u&&(m={from:m.from,to:u,level:m.level}),m}function _n(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==En){En=_("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)En.appendChild(document.createTextNode("x")),En.appendChild(_("br"));En.appendChild(document.createTextNode("x"))}ce(e.measure,En);var r=En.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),P(e.measure),r||1}function Wn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=_("span","xxxxxxxxxx"),r=_("pre",[t],"CodeMirror-line-like");ce(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Bi(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var l=e.display.gutterSpecs[a].className;r[l]=o.offsetLeft+o.clientLeft+i,n[l]=o.clientWidth}return{fixedPos:Ni(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Ni(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Zo(e){var t=_n(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/Wn(e.display)-3);return function(i){if(pn(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function Oi(e){var t=e.doc,r=Zo(e);t.iter(function(n){var i=r(n);i!=n.height&&nn(n,i)})}function Tn(e,t,r,n){var i=e.display;if(!r&&"true"==V(t).getAttribute("cm-not-content"))return null;var o,a,l=i.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,a=t.clientY-l.top}catch(h){return null}var s,u=Li(e,o,a);if(n&&u.xRel>0&&(s=Fe(e.doc,u.line).text).length==u.ch){var m=Qe(s,s.length,e.options.tabSize)-s.length;u=ae(u.line,Math.max(0,Math.round((o-Ho(e.display).left)/Wn(e.display))-m))}return u}function Ln(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function _t(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)un&&bi(e.doc,t)<i.viewTo&&gn(e);else if(r<=i.viewFrom)un&&Ao(e.doc,r+n)>i.viewFrom?gn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)gn(e);else if(t<=i.viewFrom){var o=qr(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):gn(e)}else if(r>=i.viewTo){var a=qr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):gn(e)}else{var l=qr(e,t,t,-1),s=qr(e,r,r+n,1);l&&s?(i.view=i.view.slice(0,l.index).concat(_r(e,l.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=n):gn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function mn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Ln(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==Ee(a,r)&&a.push(r)}}}function gn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function qr(e,t,r,n){var i,o=Ln(e,t),a=e.display.view;if(!un||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var l=e.display.viewFrom,s=0;s<o;s++)l+=a[s].size;if(l!=t){if(n>0){if(o==a.length-1)return null;i=l+a[o].size-t,o++}else i=l-t;t+=i,r+=i}for(;bi(e.doc,r)!=r;){if(o==(n<0?0:a.length-1))return null;r+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function Yo(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function ur(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Qo(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=0;a<r.sel.ranges.length;a++)if(t||a!=r.sel.primIndex){var l=r.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var s=l.empty();(s||e.options.showCursorWhenSelecting)&&Jo(e,l.head,i),s||zl(e,l,o)}}return n}function Jo(e,t,r){var n=Xt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(_("div","\xa0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=r.appendChild(_("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Ur(e,t){return e.top-t.top||e.left-t.left}function zl(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),a=Ho(e.display),l=a.left,s=Math.max(n.sizerWidth,An(e)-n.sizer.offsetLeft)-a.right,u="ltr"==i.direction;function m(U,le,ie,se){le<0&&(le=0),le=Math.round(le),se=Math.round(se),o.appendChild(_("div",null,"CodeMirror-selected","position: absolute; left: "+U+"px;\n                             top: "+le+"px; width: "+(null==ie?s-U:ie)+"px;\n                             height: "+(se-le)+"px"))}function h(U,le,ie){var se,Be,me=Fe(i,U),We=me.text.length;function Te(Ze,$e){return Ei(e,ae(U,Ze),"div",me,$e)}function Xe(Ze,$e,Ye){var Re=Xo(e,me,null,Ze),it="ltr"==$e==("after"==Ye)?"left":"right";return Te("after"==Ye?Re.begin:Re.end-(/\s/.test(me.text.charAt(Re.end-1))?2:1),it)[it]}var rt=G(me,i.direction);return function(Ze,$e,Ye,Re){if(!Ze)return Re($e,Ye,"ltr",0);for(var it=!1,Oe=0;Oe<Ze.length;++Oe){var Ke=Ze[Oe];(Ke.from<Ye&&Ke.to>$e||$e==Ye&&Ke.to==$e)&&(Re(Math.max(Ke.from,$e),Math.min(Ke.to,Ye),1==Ke.level?"rtl":"ltr",Oe),it=!0)}it||Re($e,Ye,"ltr")}(rt,le||0,null==ie?We:ie,function(Ze,$e,Ye,Re){var it="ltr"==Ye,Oe=Te(Ze,it?"left":"right"),Ke=Te($e-1,it?"right":"left"),_e=null==le&&0==Ze,et=null==ie&&$e==We,Ht=0==Re,ot=!rt||Re==rt.length-1;if(Ke.top-Oe.top<=3){var It=(u?_e:et)&&Ht?l:(it?Oe:Ke).left;m(It,Oe.top,((u?et:_e)&&ot?s:(it?Ke:Oe).right)-It,Oe.bottom)}else{var Rt,Vt,Lt,Qt;it?(Rt=u&&_e&&Ht?l:Oe.left,Vt=u?s:Xe(Ze,Ye,"before"),Lt=u?l:Xe($e,Ye,"after"),Qt=u&&et&&ot?s:Ke.right):(Rt=u?Xe(Ze,Ye,"before"):l,Vt=!u&&_e&&Ht?s:Oe.right,Lt=!u&&et&&ot?l:Ke.left,Qt=u?Xe($e,Ye,"after"):s),m(Rt,Oe.top,Vt-Rt,Oe.bottom),Oe.bottom<Ke.top&&m(l,Oe.bottom,null,Ke.top),m(Lt,Ke.top,Qt-Lt,Ke.bottom)}(!se||Ur(Oe,se)<0)&&(se=Oe),Ur(Ke,se)<0&&(se=Ke),(!Be||Ur(Oe,Be)<0)&&(Be=Oe),Ur(Ke,Be)<0&&(Be=Ke)}),{start:se,end:Be}}var D=t.from(),x=t.to();if(D.line==x.line)h(D.line,D.ch,x.ch);else{var B=Fe(i,D.line),O=Fe(i,x.line),E=on(B)==on(O),R=h(D.line,D.ch,E?B.text.length+1:null).end,K=h(x.line,E?0:null,x.ch).start;E&&(R.top<K.top-2?(m(R.right,R.top,null,R.bottom),m(l,K.top,K.left,K.bottom)):m(R.right,R.top,K.left-R.right,R.bottom)),R.bottom<K.top&&m(l,R.bottom,null,K.top)}r.appendChild(o)}function Ii(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||jn(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function ea(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Hi(e))}function zi(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&jn(e))},100)}function Hi(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(y(e,"focus",e,t),e.state.focused=!0,w(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),W&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ii(e))}function jn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(y(e,"blur",e,t),e.state.focused=!1,He(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function $r(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=e.options.lineWrapping,a=void 0,l=0;if(!i.hidden){if(C&&ee<8){var s=i.node.offsetTop+i.node.offsetHeight;a=s-r,r=s}else{var u=i.node.getBoundingClientRect();a=u.bottom-u.top,!o&&i.text.firstChild&&(l=i.text.firstChild.getBoundingClientRect().right-u.left-1)}var m=i.line.height-a;if((m>.005||m<-.005)&&(nn(i.line,a),ta(i.line),i.rest))for(var h=0;h<i.rest.length;h++)ta(i.rest[h]);if(l>e.display.sizerWidth){var D=Math.ceil(l/Wn(e.display));D>e.display.maxLineLength&&(e.display.maxLineLength=D,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function ta(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function Gr(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Wr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=Fn(t,n),a=Fn(t,i);if(r&&r.ensure){var l=r.ensure.from.line,s=r.ensure.to.line;l<o?(o=l,a=Fn(t,cn(Fe(t,l))+e.wrapper.clientHeight)):Math.min(s,t.lastLine())>=a&&(o=Fn(t,cn(Fe(t,s))-e.wrapper.clientHeight),a=s)}return{from:o,to:Math.max(a,o+1)}}function Ri(e,t){var r=e.display,n=_n(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Si(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var l=e.doc.height+ki(r),u=t.bottom>l-n;if(t.top<i)a.scrollTop=t.top<n?0:t.top;else if(t.bottom>i+o){var m=Math.min(t.top,(u?l:t.bottom)-o);m!=i&&(a.scrollTop=m)}var h=e.options.fixedGutter?0:r.gutters.offsetWidth,D=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft-h,x=An(e)-r.gutters.offsetWidth,B=t.right-t.left>x;return B&&(t.right=t.left+x),t.left<10?a.scrollLeft=0:t.left<D?a.scrollLeft=Math.max(0,t.left+h-(B?0:10)):t.right>x+D-3&&(a.scrollLeft=t.right+(B?0:10)-x),a}function Pi(e,t){null!=t&&(Vr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function qn(e){Vr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function cr(e,t,r){null==t&&null==r||Vr(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function Vr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,na(e,Vo(e,t.from),Vo(e,t.to),t.margin))}function na(e,t,r,n){var i=Ri(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});cr(e,i.scrollLeft,i.scrollTop)}function dr(e,t){Math.abs(e.doc.scrollTop-t)<2||(j||Wi(e,{top:t}),ra(e,t,!0),j&&Wi(e),pr(e,100))}function ra(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Mn(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,sa(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function hr(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+ki(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+an(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var Bn=function(e,t,r){this.cm=r;var n=this.vert=_("div",[_("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=_("div",[_("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),M(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),M(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,C&&ee<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Bn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;return r?(this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0",this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+(e.viewHeight-(t?n:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),t?(this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+(e.viewWidth-e.barLeft-(r?n:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Bn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Bn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Bn.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=te&&!Ae?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new dt,this.disableVert=new dt},Bn.prototype.enableZeroWidthBar=function(e,t,r){e.style.pointerEvents="auto",t.set(1e3,function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)})},Bn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var fr=function(){};function Un(e,t){t||(t=hr(e));var r=e.display.barWidth,n=e.display.barHeight;ia(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&$r(e),ia(e,hr(e)),r=e.display.barWidth,n=e.display.barHeight}function ia(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}fr.prototype.update=function(){return{bottom:0,right:0}},fr.prototype.setScrollLeft=function(){},fr.prototype.setScrollTop=function(){},fr.prototype.clear=function(){};var oa={native:Bn,null:fr};function aa(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&He(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new oa[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),M(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?Mn(e,t):dr(e,t)},e),e.display.scrollbars.addClass&&w(e.display.wrapper,e.display.scrollbars.addClass)}var Hl=0;function Nn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Hl},t=e.curOp,Rn?Rn.ops.push(t):t.ownsGroup=Rn={ops:[t],delayedCallbacks:[]}}function On(e){var t=e.curOp;t&&function(r,n){var i=r.ownsGroup;if(i)try{!function(o){var a=o.delayedCallbacks,l=0;do{for(;l<a.length;l++)a[l].call(null);for(var s=0;s<o.ops.length;s++){var u=o.ops[s];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,u.cm)}}while(l<a.length)}(i)}finally{Rn=null,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;!function(i){for(var o=i.ops,a=0;a<o.length;a++)Rl(o[a]);for(var l=0;l<o.length;l++)Pl(o[l]);for(var s=0;s<o.length;s++)_l(o[s]);for(var u=0;u<o.length;u++)Wl(o[u]);for(var m=0;m<o.length;m++)jl(o[m])}(r)}(i)}}(t)}function Rl(e){var n,i,t=e.cm,r=t.display;!(i=(n=t).display).scrollbarsClipped&&i.scroller.offsetWidth&&(i.nativeBarWidth=i.scroller.offsetWidth-i.scroller.clientWidth,i.heightForcer.style.height=an(n)+"px",i.sizer.style.marginBottom=-i.nativeBarWidth+"px",i.sizer.style.borderRightWidth=an(n)+"px",i.scrollbarsClipped=!0),e.updateMaxLine&&Ci(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Kr(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Pl(e){e.updatedDisplay=e.mustUpdate&&_i(e.cm,e.update)}function _l(e){var t=e.cm,r=t.display;e.updatedDisplay&&$r(t),e.barMeasure=hr(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Po(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+an(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-An(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Wl(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Mn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==ct();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Un(t,e.barMeasure),e.updatedDisplay&&qi(t,e.barMeasure),e.selectionChanged&&Ii(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&ea(e.cm)}function jl(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&la(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&ra(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Mn(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(s,u){if(!b(s,"scrollCursorIntoView")){var m=s.display,h=m.sizer.getBoundingClientRect(),D=null;if(u.top+h.top<0?D=!0:u.bottom+h.top>(window.innerHeight||document.documentElement.clientHeight)&&(D=!1),null!=D&&!De){var x=_("div","\u200b",null,"position: absolute;\n                         top: "+(u.top-m.viewOffset-Wr(s.display))+"px;\n                         height: "+(u.bottom-u.top+an(s)+m.barHeight)+"px;\n                         left: "+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;");s.display.lineSpace.appendChild(x),x.scrollIntoView(D),s.display.lineSpace.removeChild(x)}}}(t,function(s,u,m,h){var D;null==h&&(h=0),s.options.lineWrapping||u!=m||(m="before"==(u=u.ch?ae(u.line,"before"==u.sticky?u.ch-1:u.ch,"after"):u).sticky?ae(u.line,u.ch+1,"before"):u);for(var x=0;x<5;x++){var B=!1,O=Xt(s,u),E=m&&m!=u?Xt(s,m):O,R=Ri(s,D={left:Math.min(O.left,E.left),top:Math.min(O.top,E.top)-h,right:Math.max(O.left,E.left),bottom:Math.max(O.bottom,E.bottom)+h}),K=s.doc.scrollTop,U=s.doc.scrollLeft;if(null!=R.scrollTop&&(dr(s,R.scrollTop),Math.abs(s.doc.scrollTop-K)>1&&(B=!0)),null!=R.scrollLeft&&(Mn(s,R.scrollLeft),Math.abs(s.doc.scrollLeft-U)>1&&(B=!0)),!B)break}return D}(t,ze(n,e.scrollToPos.from),ze(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||y(i[a],"hide");if(o)for(var l=0;l<o.length;++l)o[l].lines.length&&y(o[l],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&y(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function jt(e,t){if(e.curOp)return t();Nn(e);try{return t()}finally{On(e)}}function At(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Nn(e);try{return t.apply(e,arguments)}finally{On(e)}}}function zt(e){return function(){if(this.curOp)return e.apply(this,arguments);Nn(this);try{return e.apply(this,arguments)}finally{On(this)}}}function Et(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Nn(t);try{return e.apply(this,arguments)}finally{On(t)}}}function pr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,Se(ql,e))}function ql(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=rr(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var a=o.styles,l=o.text.length>e.options.maxHighlightLength?kn(t.mode,n.state):null,s=fo(e,o,n,!0);l&&(n.state=l),o.styles=s.styles;var u=o.styleClasses,m=s.classes;m?o.styleClasses=m:u&&(o.styleClasses=null);for(var h=!a||a.length!=o.styles.length||u!=m&&(!u||!m||u.bgClass!=m.bgClass||u.textClass!=m.textClass),D=0;!h&&D<a.length;++D)h=a[D]!=o.styles[D];h&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&gi(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return pr(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&jt(e,function(){for(var o=0;o<i.length;o++)mn(e,i[o],"text")})}}var Kr=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Gr(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=An(e),this.force=r,this.dims=Bi(e),this.events=[]};function _i(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return gn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Yo(e))return!1;ua(e)&&(gn(e),t.dims=Bi(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),un&&(o=bi(e.doc,o),a=Ao(e.doc,a));var m,h,D,x,l=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;h=o,D=a,0==(x=(m=e).display).view.length||h>=x.viewTo||D<=x.viewFrom?(x.view=_r(m,h,D),x.viewFrom=h):(x.viewFrom>h?x.view=_r(m,h,x.viewFrom).concat(x.view):x.viewFrom<h&&(x.view=x.view.slice(Ln(m,h))),x.viewFrom=h,x.viewTo<D?x.view=x.view.concat(_r(m,x.viewTo,D)):x.viewTo>D&&(x.view=x.view.slice(0,Ln(m,D)))),x.viewTo=D,r.viewOffset=cn(Fe(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var s=Yo(e);if(!l&&0==s&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=function(m){if(m.hasFocus())return null;var h=ct();if(!h||!Ge(m.display.lineDiv,h))return null;var D={activeElt:h};if(window.getSelection){var x=window.getSelection();x.anchorNode&&x.extend&&Ge(m.display.lineDiv,x.anchorNode)&&(D.anchorNode=x.anchorNode,D.anchorOffset=x.anchorOffset,D.focusNode=x.focusNode,D.focusOffset=x.focusOffset)}return D}(e);return s>4&&(r.lineDiv.style.display="none"),function(m,h,D){var x=m.display,B=m.options.lineNumbers,O=x.lineDiv,E=O.firstChild;function R(me){var We=me.nextSibling;return W&&te&&m.display.currentWheelTarget==me?me.style.display="none":me.parentNode.removeChild(me),We}for(var K=x.view,U=x.viewFrom,le=0;le<K.length;le++){var ie=K[le];if(!ie.hidden)if(ie.node&&ie.node.parentNode==O){for(;E!=ie.node;)E=R(E);var se=B&&null!=h&&h<=U&&ie.lineNumber;ie.changes&&(Ee(ie.changes,"gutter")>-1&&(se=!1),Bo(m,ie,U,D)),se&&(P(ie.lineNumber),ie.lineNumber.appendChild(document.createTextNode(fi(m.options,U)))),E=ie.node.nextSibling}else{var Be=Ll(m,ie,U,D);O.insertBefore(Be,E)}U+=ie.size}for(;E;)E=R(E)}(e,r.updateLineNumbers,t.dims),s>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(m){if(m&&m.activeElt&&m.activeElt!=ct()&&(m.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(m.activeElt.nodeName)&&m.anchorNode&&Ge(document.body,m.anchorNode)&&Ge(document.body,m.focusNode))){var h=window.getSelection(),D=document.createRange();D.setEnd(m.anchorNode,m.anchorOffset),D.collapse(!1),h.removeAllRanges(),h.addRange(D),h.extend(m.focusNode,m.focusOffset)}}(u),P(r.cursorDiv),P(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,pr(e,400)),r.updateLineNumbers=null,!0}function la(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=An(e))n&&(t.visible=Gr(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+ki(e.display)-Si(e),r.top)}),t.visible=Gr(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!_i(e,t))break;$r(e);var i=hr(e);ur(e),Un(e,i),qi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Wi(e,t){var r=new Kr(e,t);if(_i(e,r)){$r(e),la(e,r);var n=hr(e);ur(e),Un(e,n),qi(e,n),r.finish()}}function ji(e){e.sizer.style.marginLeft=e.gutters.offsetWidth+"px",Ft(e,"gutterChanged",e)}function qi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+an(e)+"px"}function sa(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Ni(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=o),r[a].gutterBackground&&(r[a].gutterBackground.style.left=o));var l=r[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function ua(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=fi(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(_("div",[_("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ji(e.display),!0}return!1}function Ui(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}r.push({className:o,style:a})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function ca(e){var t=e.gutters,r=e.gutterSpecs;P(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],o=i.className,a=i.style,l=t.appendChild(_("div",null,"CodeMirror-gutter "+o));a&&(l.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=l,l.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",ji(e)}function mr(e){ca(e.display),_t(e),sa(e)}function Ul(e,t,r,n){var i=this;this.input=r,i.scrollbarFiller=_("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=_("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=ke("div",null,"CodeMirror-code"),i.selectionDiv=_("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=_("div",null,"CodeMirror-cursors"),i.measure=_("div",null,"CodeMirror-measure"),i.lineMeasure=_("div",null,"CodeMirror-measure"),i.lineSpace=ke("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=ke("div",[i.lineSpace],"CodeMirror-lines");i.mover=_("div",[o],null,"position: relative"),i.sizer=_("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=_("div",null,null,"position: absolute; height: 50px; width: 1px;"),i.gutters=_("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=_("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=_("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),C&&ee<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),W||j&&Q||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Ui(n.gutters,n.lineNumbers),ca(i),r.init(i)}Kr.prototype.signal=function(e,t){p(e,t)&&this.events.push(arguments)},Kr.prototype.finish=function(){for(var e=0;e<this.events.length;e++)y.apply(null,this.events[e])};var Xr=0,Ut=null;function da(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function $l(e){var t=da(e);return t.x*=Ut,t.y*=Ut,t}function ha(e,t){var r=da(t),n=r.x,i=r.y,o=e.display,a=o.scroller,s=a.scrollHeight>a.clientHeight;if(n&&a.scrollWidth>a.clientWidth||i&&s){if(i&&te&&W)e:for(var u=t.target,m=o.view;u!=a;u=u.parentNode)for(var h=0;h<m.length;h++)if(m[h].node==u){e.display.currentWheelTarget=u;break e}if(n&&!j&&!Y&&null!=Ut)return i&&s&&dr(e,Math.max(0,a.scrollTop+i*Ut)),Mn(e,Math.max(0,a.scrollLeft+n*Ut)),(!i||i&&s)&&f(t),void(o.wheelStartX=null);if(i&&null!=Ut){var D=i*Ut,x=e.doc.scrollTop,B=x+o.wrapper.clientHeight;D<0?x=Math.max(0,x+D-50):B=Math.min(e.doc.height,B+D+50),Wi(e,{top:x,bottom:B})}Xr<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var O=a.scrollLeft-o.wheelStartX,E=a.scrollTop-o.wheelStartY,R=E&&o.wheelDY&&E/o.wheelDY||O&&o.wheelDX&&O/o.wheelDX;o.wheelStartX=o.wheelStartY=null,R&&(Ut=(Ut*Xr+R)/(Xr+1),++Xr)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}C?Ut=-.53:j?Ut=15:ue?Ut=-.7:pe&&(Ut=-1/3);var $t=function(e,t){this.ranges=e,this.primIndex=t};$t.prototype.primary=function(){return this.ranges[this.primIndex]},$t.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!pi(r.anchor,n.anchor)||!pi(r.head,n.head))return!1}return!0},$t.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new nt(mi(this.ranges[t].anchor),mi(this.ranges[t].head));return new $t(e,this.primIndex)},$t.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},$t.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(Ie(t,n.from())>=0&&Ie(e,n.to())<=0)return r}return-1};var nt=function(e,t){this.anchor=e,this.head=t};function Zt(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort(function(D,x){return Ie(D.from(),x.from())}),r=Ee(t,i);for(var o=1;o<t.length;o++){var a=t[o],l=t[o-1],s=Ie(l.to(),a.from());if(n&&!a.empty()?s>0:s>=0){var u=Nr(l.from(),a.from()),m=Br(l.to(),a.to()),h=l.empty()?a.from()==a.head:l.from()==l.head;o<=r&&--r,t.splice(--o,2,new nt(h?m:u,h?u:m))}}return new $t(t,r)}function vn(e,t){return new $t([new nt(e,t||e)],0)}function xn(e){return e.text?ae(e.from.line+e.text.length-1,Me(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function fa(e,t){if(Ie(e,t.from)<0)return e;if(Ie(e,t.to)<=0)return xn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=xn(t).ch-t.to.ch),ae(r,n)}function $i(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new nt(fa(i.anchor,t),fa(i.head,t)))}return Zt(e.cm,r,e.sel.primIndex)}function pa(e,t,r){return e.line==t.line?ae(r.line,e.ch-t.ch+r.ch):ae(r.line+(e.line-t.line),e.ch)}function Gi(e){e.doc.mode=tr(e.options,e.doc.modeOption),gr(e)}function gr(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,pr(e,100),e.state.modeGen++,e.curOp&&_t(e)}function ma(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Me(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Vi(e,t,r,n){function i(K){return r?r[K]:null}function o(K,U,le){(function(ie,se,Be,me){ie.text=se,ie.stateAfter&&(ie.stateAfter=null),ie.styles&&(ie.styles=null),null!=ie.order&&(ie.order=null),Co(ie),wo(ie,Be);var We=me?me(ie):1;We!=ie.height&&nn(ie,We)})(K,U,le,n),Ft(K,"change",K,t)}function a(K,U){for(var le=[],ie=K;ie<U;++ie)le.push(new Hn(u[ie],i(ie),n));return le}var l=t.from,s=t.to,u=t.text,m=Fe(e,l.line),h=Fe(e,s.line),D=Me(u),x=i(u.length-1),B=s.line-l.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(ma(e,t)){var O=a(0,u.length-1);o(h,h.text,x),B&&e.remove(l.line,B),O.length&&e.insert(l.line,O)}else if(m==h)if(1==u.length)o(m,m.text.slice(0,l.ch)+D+m.text.slice(s.ch),x);else{var E=a(1,u.length-1);E.push(new Hn(D+m.text.slice(s.ch),x,n)),o(m,m.text.slice(0,l.ch)+u[0],i(0)),e.insert(l.line+1,E)}else if(1==u.length)o(m,m.text.slice(0,l.ch)+u[0]+h.text.slice(s.ch),i(0)),e.remove(l.line+1,B);else{o(m,m.text.slice(0,l.ch)+u[0],i(0)),o(h,D+h.text.slice(s.ch),x);var R=a(1,u.length-1);B>1&&e.remove(l.line+1,B-1),e.insert(l.line+1,R)}Ft(e,"change",e,t)}function yn(e,t,r){!function n(i,o,a){if(i.linked)for(var l=0;l<i.linked.length;++l){var s=i.linked[l];if(s.doc!=o){var u=a&&s.sharedHist;r&&!u||(t(s.doc,u),n(s.doc,i,u))}}}(e,null,!0)}function ga(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Oi(e),Gi(e),va(e),e.options.lineWrapping||Ci(e),e.options.mode=t.modeOption,_t(e)}function va(e){("rtl"==e.doc.direction?w:He)(e.display.lineDiv,"CodeMirror-rtl")}function Zr(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Ki(e,t){var r={from:mi(t.from),to:xn(t),text:Sn(e,t.from,t.to)};return ba(e,r,t.from.line,t.to.line+1),yn(e,function(n){return ba(n,r,t.from.line,t.to.line+1)},!0),r}function xa(e){for(;e.length&&Me(e).ranges;)e.pop()}function ya(e,t,r,n){var i=e.history;i.undone.length=0;var o,a,u,l=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(u=i,o=i.lastOp==n?(xa(u.done),Me(u.done)):u.done.length&&!Me(u.done).ranges?Me(u.done):u.done.length>1&&!u.done[u.done.length-2].ranges?(u.done.pop(),Me(u.done)):void 0))a=Me(o.changes),0==Ie(t.from,t.to)&&0==Ie(t.from,a.to)?a.to=xn(t):o.changes.push(Ki(e,t));else{var s=Me(i.done);for(s&&s.ranges||Yr(e.sel,i.done),o={changes:[Ki(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||y(e,"historyAdded")}function Yr(e,t){var r=Me(t);r&&r.ranges&&r.equals(e)||t.push(e)}function ba(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(a){a.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=a.markedSpans),++o})}function Vl(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Da(e,t){var r=function(m,h){var D=h["spans_"+m.id];if(!D)return null;for(var x=[],B=0;B<h.text.length;++B)x.push(Vl(D[B]));return x}(e,t),n=xi(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],u=0;u<o.length;++u)if(o[u].marker==s.marker)continue e;o.push(s)}else a&&(r[i]=a)}return r}function $n(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?$t.prototype.deepCopy.call(o):o);else{var a=o.changes,l=[];n.push({changes:l});for(var s=0;s<a.length;++s){var u=a[s],m=void 0;if(l.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(m=h.match(/^spans_(\d+)$/))&&Ee(t,Number(m[1]))>-1&&(Me(l)[h]=u[h],delete u[h])}}}return n}function Xi(e,t,r,n){if(n){var i=e.anchor;if(r){var o=Ie(t,i)<0;o!=Ie(r,i)<0?(i=t,t=r):o!=Ie(t,r)<0&&(t=r)}return new nt(i,t)}return new nt(r||t,t)}function Qr(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Nt(e,new $t([Xi(e.sel.primary(),t,r,i)],0),n)}function Ca(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Xi(e.sel.ranges[o],t[o],null,i);Nt(e,Zt(e.cm,n,e.sel.primIndex),r)}function Zi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Nt(e,Zt(e.cm,i,e.sel.primIndex),n)}function wa(e,t,r,n){Nt(e,vn(t,r),n)}function ka(e,t,r){var n=e.history.done,i=Me(n);i&&i.ranges?(n[n.length-1]=t,Jr(e,t,r)):Nt(e,t,r)}function Nt(e,t,r){Jr(e,t,r),function(e,t,r,n){var a,l,s,u,m,i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||(a=e,l=o,s=Me(i.done),u=t,"*"==(m=l.charAt(0))||"+"==m&&s.ranges.length==u.ranges.length&&s.somethingSelected()==u.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)))?i.done[i.done.length-1]=t:Yr(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&xa(i.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Jr(e,t,r){var i,o,a,l;(p(e,"beforeSelectionChange")||e.cm&&p(e.cm,"beforeSelectionChange"))&&(y(i=e,"beforeSelectionChange",i,l={ranges:(o=t).ranges,update:function(s){this.ranges=[];for(var u=0;u<s.length;u++)this.ranges[u]=new nt(ze(i,s[u].anchor),ze(i,s[u].head))},origin:(a=r)&&a.origin}),i.cm&&y(i.cm,"beforeSelectionChange",i.cm,l),t=l.ranges!=o.ranges?Zt(i.cm,l.ranges,l.ranges.length-1):o);var n=r&&r.bias||(Ie(t.primary().head,e.sel.primary().head)<0?-1:1);Sa(e,Aa(e,t,n,!0)),r&&!1===r.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||qn(e.cm)}function Sa(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,v(e.cm)),Ft(e,"cursorActivity",e))}function Fa(e){Sa(e,Aa(e,e.sel,null,!1))}function Aa(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],s=ei(e,a.anchor,l&&l.anchor,r,n),u=ei(e,a.head,l&&l.head,r,n);(i||s!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new nt(s,u))}return i?Zt(e.cm,i,t.primIndex):t}function Gn(e,t,r,n,i){var o=Fe(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var l=o.markedSpans[a],s=l.marker,u="selectLeft"in s?!s.selectLeft:s.inclusiveLeft,m="selectRight"in s?!s.selectRight:s.inclusiveRight;if((null==l.from||(u?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(m?l.to>=t.ch:l.to>t.ch))){if(i&&(y(s,"beforeCursorEnter"),s.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!s.atomic)continue;if(r){var h=s.find(n<0?1:-1),D=void 0;if((n<0?m:u)&&(h=Ea(e,h,-n,h&&h.line==t.line?o:null)),h&&h.line==t.line&&(D=Ie(h,r))&&(n<0?D<0:D>0))return Gn(e,h,t,n,i)}var x=s.find(n<0?-1:1);return(n<0?u:m)&&(x=Ea(e,x,n,x.line==t.line?o:null)),x?Gn(e,x,t,n,i):null}}return t}function ei(e,t,r,n,i){var o=n||1;return Gn(e,t,r,o,i)||!i&&Gn(e,t,r,o,!0)||Gn(e,t,r,-o,i)||!i&&Gn(e,t,r,-o,!0)||(e.cantEdit=!0,ae(e.first,0))}function Ea(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?ze(e,ae(t.line-1)):null:r>0&&t.ch==(n||Fe(e,t.line)).text.length?t.line<e.first+e.size-1?ae(t.line+1,0):null:new ae(t.line,t.ch+r)}function Ta(e){e.setSelection(ae(e.firstLine(),0),ae(e.lastLine()),fe)}function La(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(i,o,a,l){i&&(n.from=ze(e,i)),o&&(n.to=ze(e,o)),a&&(n.text=a),void 0!==l&&(n.origin=l)}),y(e,"beforeChange",e,n),e.cm&&y(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Vn(e,t,r){if(e.cm){if(!e.cm.curOp)return At(e.cm,Vn)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(p(e,"beforeChange")||e.cm&&p(e.cm,"beforeChange"))||(t=La(e,t,!0))){var n=bo&&!r&&function(o,a,l){var s=null;if(o.iter(a.line,l.line+1,function(K){if(K.markedSpans)for(var U=0;U<K.markedSpans.length;++U){var le=K.markedSpans[U].marker;!le.readOnly||s&&-1!=Ee(s,le)||(s||(s=[])).push(le)}}),!s)return null;for(var u=[{from:a,to:l}],m=0;m<s.length;++m)for(var h=s[m],D=h.find(0),x=0;x<u.length;++x){var B=u[x];if(!(Ie(B.to,D.from)<0||Ie(B.from,D.to)>0)){var O=[x,1],E=Ie(B.from,D.from),R=Ie(B.to,D.to);(E<0||!h.inclusiveLeft&&!E)&&O.push({from:B.from,to:D.from}),(R>0||!h.inclusiveRight&&!R)&&O.push({from:D.to,to:B.to}),u.splice.apply(u,O),x+=O.length-3}}return u}(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Ma(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else Ma(e,t)}}function Ma(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Ie(t.from,t.to)){var r=$i(e,t);ya(e,t,r,e.cm?e.cm.curOp.id:NaN),vr(e,t,r,xi(e,t));var n=[];yn(e,function(i,o){o||-1!=Ee(n,i.history)||(Ia(i.history,t),n.push(i.history)),vr(i,t,null,xi(i,t))})}}function ti(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,a=e.sel,l="undo"==t?o.done:o.undone,s="undo"==t?o.undone:o.done,u=0;u<l.length&&(i=l[u],r?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=l.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=l.pop()).ranges){if(n)return void l.push(i);break}if(Yr(i,s),r&&!i.equals(e.sel))return void Nt(e,i,{clearRedo:!1});a=i}var m=[];Yr(a,s),s.push({changes:m,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var h=p(e,"beforeChange")||e.cm&&p(e.cm,"beforeChange"),D=function(O){var E=i.changes[O];if(E.origin=t,h&&!La(e,E,!1))return l.length=0,{};m.push(Ki(e,E));var R=O?$i(e,E):Me(l);vr(e,E,R,Da(e,E)),!O&&e.cm&&e.cm.scrollIntoView({from:E.from,to:xn(E)});var K=[];yn(e,function(U,le){le||-1!=Ee(K,U.history)||(Ia(U.history,E),K.push(U.history)),vr(U,E,null,Da(U,E))})},x=i.changes.length-1;x>=0;--x){var B=D(x);if(B)return B.v}}}}function Ba(e,t){if(0!=t&&(e.first+=t,e.sel=new $t(Mt(e.sel.ranges,function(i){return new nt(ae(i.anchor.line+t,i.anchor.ch),ae(i.head.line+t,i.head.ch))}),e.sel.primIndex),e.cm)){_t(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)mn(e.cm,n,"gutter")}}function vr(e,t,r,n){if(e.cm&&!e.cm.curOp)return At(e.cm,vr)(e,t,r,n);if(t.to.line<e.first)Ba(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Ba(e,i),t={from:ae(e.first,0),to:ae(t.to.line+i,t.to.ch),text:[Me(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ae(o,Fe(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Sn(e,t.from,t.to),r||(r=$i(e,t)),e.cm?function(a,l,s){var u=a.doc,m=a.display,h=l.from,D=l.to,x=!1,B=h.line;a.options.lineWrapping||(B=lt(on(Fe(u,h.line))),u.iter(B,D.line+1,function(U){if(U==m.maxLine)return x=!0,!0})),u.sel.contains(l.from,l.to)>-1&&v(a),Vi(u,l,s,Zo(a)),a.options.lineWrapping||(u.iter(B,h.line+l.text.length,function(U){var le=Pr(U);le>m.maxLineLength&&(m.maxLine=U,m.maxLineLength=le,m.maxLineChanged=!0,x=!1)}),x&&(a.curOp.updateMaxLine=!0)),function(U,le){if(U.modeFrontier=Math.min(U.modeFrontier,le),!(U.highlightFrontier<le-10)){for(var ie=U.first,se=le-1;se>ie;se--){var Be=Fe(U,se).stateAfter;if(Be&&(!(Be instanceof Or)||se+Be.lookAhead<le)){ie=se+1;break}}U.highlightFrontier=Math.min(U.highlightFrontier,ie)}}(u,h.line),pr(a,400);var O=l.text.length-(D.line-h.line)-1;l.full?_t(a):h.line!=D.line||1!=l.text.length||ma(a.doc,l)?_t(a,h.line,D.line+1,O):mn(a,h.line,"text");var E=p(a,"changes"),R=p(a,"change");if(R||E){var K={from:h,to:D,text:l.text,removed:l.removed,origin:l.origin};R&&Ft(a,"change",a,K),E&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(K)}a.display.selForContextMenu=null}(e.cm,t,n):Vi(e,t,n),Jr(e,r,fe),e.cantEdit&&ei(e,ae(e.firstLine(),0))&&(e.cantEdit=!1)}}function Kn(e,t,r,n,i){var o;n||(n=r),Ie(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Vn(e,{from:r,to:n,text:t,origin:i})}function Na(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Oa(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var l=0;l<o.ranges.length;l++)Na(o.ranges[l].anchor,t,r,n),Na(o.ranges[l].head,t,r,n)}else{for(var s=0;s<o.changes.length;++s){var u=o.changes[s];if(r<u.from.line)u.from=ae(u.from.line+n,u.from.ch),u.to=ae(u.to.line+n,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Ia(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Oa(e.done,r,n,i),Oa(e.undone,r,n,i)}function xr(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Fe(e,co(e,t)):i=lt(t),null==i?null:(n(o,i)&&e.cm&&mn(e.cm,i,r),o)}function yr(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function br(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}nt.prototype.from=function(){return Nr(this.anchor,this.head)},nt.prototype.to=function(){return Br(this.anchor,this.head)},nt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},yr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,bl(i),Ft(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},br.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof yr))){var l=[];this.collapse(l),this.children=[new yr(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,l=a;l<i.lines.length;){var s=new yr(i.lines.slice(l,l+=25));i.height-=s.height,this.children.splice(++n,0,s),s.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new br(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=Ee(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new br(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var Dr=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function za(e,t,r){cn(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Pi(e,r)}Dr.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=lt(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=lr(this);nn(r,Math.max(0,r.height-o)),e&&(jt(e,function(){za(e,r,-o),mn(e,n,"widget")}),Ft(e,"lineWidgetCleared",e,this,n))}},Dr.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=lr(this)-t;i&&(pn(this.doc,n)||nn(n,n.height+i),r&&jt(r,function(){r.curOp.forceUpdate=!0,za(r,n,i),Ft(r,"lineWidgetChanged",r,e,lt(n))}))},g(Dr);var Ha=0,bn=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ha};function Xn(e,t,r,n,i){if(n&&n.shared)return function(h,D,x,B,O){(B=at(B)).shared=!1;var E=[Xn(h,D,x,B,O)],R=E[0],K=B.widgetNode;return yn(h,function(U){K&&(B.widgetNode=K.cloneNode(!0)),E.push(Xn(U,ze(U,D),ze(U,x),B,O));for(var le=0;le<U.linked.length;++le)if(U.linked[le].isParent)return;R=Me(E)}),new Cr(E,R)}(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return At(e.cm,Xn)(e,t,r,n,i);var o=new bn(e,i),a=Ie(t,r);if(n&&at(n,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=ke("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Fo(e,t.line,t,r,o)||t.line!=r.line&&Fo(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");un=!0}o.addToHistory&&ya(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var l,s=t.line,u=e.cm;if(e.iter(s,r.line+1,function(h){var D,x;u&&o.collapsed&&!u.options.lineWrapping&&on(h)==u.display.maxLine&&(l=!0),o.collapsed&&s!=t.line&&nn(h,0),D=h,x=new Ir(o,s==t.line?t.ch:null,s==r.line?r.ch:null),D.markedSpans=D.markedSpans?D.markedSpans.concat([x]):[x],x.marker.attachLine(D),++s}),o.collapsed&&e.iter(t.line,r.line+1,function(h){pn(e,h)&&nn(h,0)}),o.clearOnEnter&&M(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(bo=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Ha,o.atomic=!0),u){if(l&&(u.curOp.updateMaxLine=!0),o.collapsed)_t(u,t.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var m=t.line;m<=r.line;m++)mn(u,m,"text");o.atomic&&Fa(u.doc),Ft(u,"markerAdded",u,o)}return o}bn.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Nn(e),p(this,"clear")){var r=this.find();r&&Ft(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],l=ir(a.markedSpans,this);e&&!this.collapsed?mn(e,lt(a),"text"):e&&(null!=l.to&&(i=lt(a)),null!=l.from&&(n=lt(a))),a.markedSpans=xl(a.markedSpans,l),null==l.from&&this.collapsed&&!pn(this.doc,a)&&e&&nn(a,_n(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var u=on(this.lines[s]),m=Pr(u);m>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=m,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&_t(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Fa(e.doc)),e&&Ft(e,"markerCleared",e,this,n,i),t&&On(e),this.parent&&this.parent.clear()}},bn.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=ir(o.markedSpans,this);if(null!=a.from&&(r=ae(t?o:lt(o),a.from),-1==e))return r;if(null!=a.to&&(n=ae(t?o:lt(o),a.to),1==e))return n}return r&&{from:r,to:n}},bn.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&jt(n,function(){var i=t.line,o=lt(t.line),a=Fi(n,o);if(a&&(jo(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!pn(r.doc,i)&&null!=r.height){var l=r.height;r.height=null;var s=lr(r)-l;s&&nn(i,i.height+s)}Ft(n,"markerChanged",n,e)})},bn.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Ee(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},bn.prototype.detachLine=function(e){if(this.lines.splice(Ee(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},g(bn);var Cr=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function Ra(e){return e.findMarks(ae(e.first,0),e.clipPos(ae(e.lastLine())),function(t){return t.parent})}function Kl(e){for(var t=function(n){var i=e[n],o=[i.primary.doc];yn(i.primary.doc,function(s){return o.push(s)});for(var a=0;a<i.markers.length;a++){var l=i.markers[a];-1==Ee(o,l.doc)&&(l.parent=null,i.markers.splice(a--,1))}},r=0;r<e.length;r++)t(r)}Cr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Ft(this,"clear")}},Cr.prototype.find=function(e,t){return this.primary.find(e,t)},g(Cr);var Xl=0,Wt=function(e,t,r,n,i){if(!(this instanceof Wt))return new Wt(e,t,r,n,i);null==r&&(r=0),br.call(this,[new yr([new Hn("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=ae(r,0);this.sel=vn(o),this.history=new Zr(null),this.id=++Xl,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Vi(this,{from:o,to:o,text:e}),Nt(this,vn(o),fe)};Wt.prototype=Bt(br.prototype,{constructor:Wt,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=hi(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Et(function(e){var t=ae(this.first,0),r=this.first+this.size-1;Vn(this,{from:t,to:ae(r,Fe(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&cr(this.cm,0,0),Nt(this,vn(t),fe)}),replaceRange:function(e,t,r,n){Kn(this,e,t=ze(this,t),r=r?ze(this,r):t,n)},getRange:function(e,t,r){var n=Sn(this,ze(this,e),ze(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nr(this,e))return Fe(this,e)},getLineNumber:function(e){return lt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Fe(this,e)),on(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ze(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Et(function(e,t,r){wa(this,ze(this,"number"==typeof e?ae(e,t||0):e),null,r)}),setSelection:Et(function(e,t,r){wa(this,ze(this,e),ze(this,t||e),r)}),extendSelection:Et(function(e,t,r){Qr(this,ze(this,e),t&&ze(this,t),r)}),extendSelections:Et(function(e,t){Ca(this,ho(this,e),t)}),extendSelectionsBy:Et(function(e,t){Ca(this,ho(this,Mt(this.sel.ranges,e)),t)}),setSelections:Et(function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new nt(ze(this,e[i].anchor),ze(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Nt(this,Zt(this.cm,n,t),r)}}),addSelection:Et(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new nt(ze(this,e),ze(this,t||e))),Nt(this,Zt(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Sn(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Sn(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Et(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:r}}for(var l=t&&"end"!=t&&function(u,m,h){for(var D=[],x=ae(u.first,0),B=x,O=0;O<m.length;O++){var E=m[O],R=pa(E.from,x,B),K=pa(xn(E),x,B);if(x=E.to,B=K,"around"==h){var U=u.sel.ranges[O],le=Ie(U.head,U.anchor)<0;D[O]=new nt(le?K:R,le?R:K)}else D[O]=new nt(R,R)}return new $t(D,u.sel.primIndex)}(this,n,t),s=n.length-1;s>=0;s--)Vn(this,n[s]);l?ka(this,l):this.cm&&qn(this.cm)}),undo:Et(function(){ti(this,"undo")}),redo:Et(function(){ti(this,"redo")}),undoSelection:Et(function(){ti(this,"undo",!0)}),redoSelection:Et(function(){ti(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Zr(this.history),yn(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:$n(this.history.done),undone:$n(this.history.undone)}},setHistory:function(e){var t=this.history=new Zr(this.history);t.done=$n(e.done.slice(0),null,!0),t.undone=$n(e.undone.slice(0),null,!0)},setGutterMarker:Et(function(e,t,r){return xr(this,e,"gutter",function(n){var i=n.gutterMarkers||(n.gutterMarkers={});return i[t]=r,!r&&fn(i)&&(n.gutterMarkers=null),!0})}),clearGutter:Et(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&xr(t,r,"gutter",function(){return r.gutterMarkers[e]=null,fn(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!(nr(this,e)&&(t=e,e=Fe(this,e))))return null}else if(null==(t=lt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Et(function(e,t,r){return xr(this,e,"gutter"==t?"gutter":"class",function(n){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(n[i]){if(je(r).test(n[i]))return!1;n[i]+=" "+r}else n[i]=r;return!0})}),removeLineClass:Et(function(e,t,r){return xr(this,e,"gutter"==t?"gutter":"class",function(n){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=n[i];if(!o)return!1;if(null==r)n[i]=null;else{var a=o.match(je(r));if(!a)return!1;var l=a.index+a[0].length;n[i]=o.slice(0,a.index)+(a.index&&l!=o.length?" ":"")+o.slice(l)||null}return!0})}),addLineWidget:Et(function(e,t,r){return i=e,l=new Dr(n=this,t,r),(s=n.cm)&&l.noHScroll&&(s.display.alignWidgets=!0),xr(n,i,"widget",function(u){var m=u.widgets||(u.widgets=[]);if(null==l.insertAt?m.push(l):m.splice(Math.min(m.length,Math.max(0,l.insertAt)),0,l),l.line=u,s&&!pn(n,u)){var h=cn(u)<n.scrollTop;nn(u,u.height+lr(l)),h&&Pi(s,l.height),s.curOp.forceUpdate=!0}return!0}),s&&Ft(s,"lineWidgetAdded",s,l,"number"==typeof i?i:lt(i)),l;var n,i,l,s}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Xn(this,ze(this,e),ze(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Xn(this,e=ze(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Fe(this,(e=ze(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=ze(this,e),t=ze(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];null!=s.to&&i==e.line&&e.ch>=s.to||null==s.from&&i!=e.line||null!=s.from&&i==t.line&&s.from>=t.ch||r&&!r(s.marker)||n.push(s.marker.parent||s.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r}),ze(this,ae(r,t))},indexFromPos:function(e){var t=(e=ze(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+r}),t},copy:function(e){var t=new Wt(hi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Wt(hi(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(i,o){for(var a=0;a<o.length;a++){var l=o[a],s=l.find(),u=i.clipPos(s.from),m=i.clipPos(s.to);if(Ie(u,m)){var h=Xn(i,u,m,l.primary,l.primary.type);l.markers.push(h),h.parent=l}}}(n,Ra(this)),n},unlinkDoc:function(e){if(e instanceof gt&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Kl(Ra(this));break}if(e.history==this.history){var r=[e.id];yn(e,function(n){return r.push(n.id)},!0),e.history=new Zr(null),e.history.done=$n(this.history.done,r),e.history.undone=$n(this.history.undone,r)}},iterLinkedDocs:function(e){yn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ft(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Et(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(r){return r.order=null}),this.cm&&jt(t=this.cm,function(){va(t),_t(t)}))})}),Wt.prototype.eachLine=Wt.prototype.iter;var Pa=0;function Zl(e){var t=this;if(_a(t),!b(t,e)&&!dn(t.display,e)){f(e),C&&(Pa=+new Date);var r=Tn(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),a=0,l=function(){++a==i&&At(t,function(){var x={from:r=ze(t.doc,r),to:r,text:t.doc.splitLines(o.filter(function(B){return null!=B}).join(t.doc.lineSeparator())),origin:"paste"};Vn(t.doc,x),ka(t.doc,vn(ze(t.doc,r),ze(t.doc,xn(x))))})()},s=function(x,B){if(t.options.allowDropFileTypes&&-1==Ee(t.options.allowDropFileTypes,x.type))l();else{var O=new FileReader;O.onerror=function(){return l()},O.onload=function(){var E=O.result;/[\x00-\x08\x0e-\x1f]{2}/.test(E)||(o[B]=E),l()},O.readAsText(x)}},u=0;u<n.length;u++)s(n[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var m=e.dataTransfer.getData("Text");if(m){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Jr(t.doc,vn(r,r)),h)for(var D=0;D<h.length;++D)Kn(t.doc,"",h[D].anchor,h[D].head,"drag");t.replaceSelection(m,"around","paste"),t.display.input.focus()}}catch(x){}}}}function _a(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Wa(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation(function(){for(var o=0;o<r.length;o++)e(r[o])})}}var ja=!1;function Ql(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Dn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},wr=0;wr<10;wr++)Dn[wr+48]=Dn[wr+96]=String(wr);for(var ni=65;ni<=90;ni++)Dn[ni]=String.fromCharCode(ni);for(var kr=1;kr<=12;kr++)Dn[kr+111]=Dn[kr+63235]="F"+kr;var hn={};function Jl(e){var t,r,n,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else{if(!/^s(hift)?$/i.test(l))throw new Error("Unrecognized modifier name: "+l);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function es(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Mt(r.split(" "),Jl),o=0;o<i.length;o++){var a=void 0,l=void 0;o==i.length-1?(l=i.join(" "),a=n):(l=i.slice(0,o+1).join(" "),a="...");var s=t[l];if(s){if(s!=a)throw new Error("Inconsistent bindings for "+l)}else t[l]=a}delete e[r]}for(var u in t)e[u]=t[u];return e}function Zn(e,t,r,n){var i=(t=ri(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Zn(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var a=Zn(e,t.fallthrough[o],r,n);if(a)return a}}}function qa(e){var t="string"==typeof e?e:Dn[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ua(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(be?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(be?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function $a(e,t){if(Y&&34==e.keyCode&&e.char)return!1;var r=Dn[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Ua(r,e,t))}function ri(e){return"string"==typeof e?hn[e]:e}function Yn(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&Ie(o.from,Me(n).to)<=0;){var a=n.pop();if(Ie(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}jt(e,function(){for(var l=n.length-1;l>=0;l--)Kn(e.doc,"",n[l].from,n[l].to,"+delete");qn(e)})}function Yi(e,t,r){var n=wn(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Qi(e,t,r){var n=Yi(e,t.ch,r);return null==n?null:new ae(t.line,n,r<0?"after":"before")}function Ji(e,t,r,n,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=G(r,t.doc.direction);if(o){var a,l=i<0?Me(o):o[0],s=i<0==(1==l.level)?"after":"before";if(l.level>0||"rtl"==t.doc.direction){var u=Pn(t,r),m=ln(t,u,a=i<0?r.text.length-1:0).top;a=c(function(h){return ln(t,u,h).top==m},i<0==(1==l.level)?l.from:l.to-1,a),"before"==s&&(a=Yi(r,a,1))}else a=i<0?l.to:l.from;return new ae(n,a,s)}}return new ae(n,i<0?r.text.length:0,i<0?"before":"after")}hn.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},hn.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},hn.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},hn.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},hn.default=te?hn.macDefault:hn.pcDefault;var Sr={selectAll:Ta,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),fe)},killLine:function(e){return Yn(e,function(t){if(t.empty()){var r=Fe(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:ae(t.head.line+1,0)}:{from:t.head,to:ae(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Yn(e,function(t){return{from:ae(t.from().line,0),to:ze(e.doc,ae(t.to().line+1,0))}})},delLineLeft:function(e){return Yn(e,function(t){return{from:ae(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Yn(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Yn(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ae(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ae(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ga(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Va(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return(o=function(a){for(var l;l=Rr(a);)a=l.find(1,!0).line;return a}(i=Fe((r=e).doc,n=t.head.line)))!=i&&(n=lt(o)),Ji(!0,r,i,n,-1);var r,n,i,o},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},kt)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},kt)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Va(e,t.head):n},kt)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=Qe(e.getLine(o.line),o.ch,n);t.push(yt(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return jt(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=Fe(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ae(i.line,i.ch-1)),i.ch>0)i=new ae(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ae(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Fe(e.doc,i.line-1).text;a&&(i=new ae(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ae(i.line-1,a.length-1),i,"+transpose"))}r.push(new nt(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return jt(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);qn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ga(e,t){var r=Fe(e.doc,t),n=on(r);return n!=r&&(t=lt(n)),Ji(!0,e,n,t,1)}function Va(e,t){var r=Ga(e,t.line),n=Fe(e.doc,r.line),i=G(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(r.ch,n.text.search(/\S/));return ae(r.line,t.line==r.line&&t.ch<=o&&t.ch?0:o,r.sticky)}return r}function ii(e,t,r){if("string"==typeof t&&!(t=Sr[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=ut}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var ts=new dt;function Fr(e,t,r,n){var i=e.state.keySeq;if(i){if(qa(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ts.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Ka(e,i+" "+t,r,n))return!0}return Ka(e,t,r,n)}function Ka(e,t,r,n){var i=function(o,a,l){for(var s=0;s<o.state.keyMaps.length;s++){var u=Zn(a,o.state.keyMaps[s],l,o);if(u)return u}return o.options.extraKeys&&Zn(a,o.options.extraKeys,l,o)||Zn(a,o.options.keyMap,l,o)}(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&Ft(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(f(r),Ii(e)),!!i}function Xa(e,t){var r=$a(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?Fr(e,"Shift-"+r,t,function(n){return ii(e,n,!0)})||Fr(e,r,t,function(n){if("string"==typeof n?/^go[A-Z]/.test(n):n.motion)return ii(e,n)}):Fr(e,r,t,function(n){return ii(e,n)}))}var eo=null;function Za(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=ct(),b(t,e)))){C&&ee<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=Xa(t,e);Y&&(eo=n?r:null,n||88!=r||wt||!(te?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),j&&!te&&!n&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(i){var o=i.display.lineDiv;function a(l){18!=l.keyCode&&l.altKey||(He(o,"CodeMirror-crosshair"),S(document,"keyup",a),S(document,"mouseover",a))}w(o,"CodeMirror-crosshair"),M(document,"keyup",a),M(document,"mouseover",a)}(t)}}function Ya(e){16==e.keyCode&&(this.doc.sel.shift=!1),b(this,e)}function Qa(e){var o,t=this;if(!(e.target&&e.target!=t.display.input.getField()||dn(t.display,e)||b(t,e)||e.ctrlKey&&!e.altKey||te&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(Y&&r==eo)return eo=null,void f(e);if(!Y||e.which&&!(e.which<10)||!Xa(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(Fr(o=t,"'"+i+"'",e,function(s){return ii(o,s,!0)})||t.display.input.onKeyPress(e))}}}var Ar,Er,to=function(e,t,r){this.time=e,this.pos=t,this.button=r};function Ja(e){var a,l,s,t=this,r=t.display;if(!(b(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,dn(r,e))W||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!no(t,e)){var n=Tn(t,e),i=we(e),o=n?(a=n,l=i,s=+new Date,Er&&Er.compare(s,a,l)?(Ar=Er=null,"triple"):Ar&&Ar.compare(s,a,l)?(Er=new to(s,a,l),Ar=null,"double"):(Ar=new to(s,a,l),Er=null,"single")):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&function(a,l,s,u,m){var h="Click";return"double"==u?h="Double"+h:"triple"==u&&(h="Triple"+h),Fr(a,Ua(h=(1==l?"Left":2==l?"Middle":"Right")+h,m),m,function(D){if("string"==typeof D&&(D=Sr[D]),!D)return!1;var x=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),x=D(a,s)!=ut}finally{a.state.suppressEdits=!1}return x})}(t,i,n,o,e)||(1==i?n?function(a,l,s,u){C?setTimeout(Se(ea,a),0):a.curOp.focus=ct();var m,x,B,O,E,R,K,U,le,ie,h=function(x,B,O){var E=x.getOption("configureMouse"),R=E?E(x,B,O):{};return null==R.unit&&(R.unit=(de?O.shiftKey&&O.metaKey:O.altKey)?"rectangle":"single"==B?"char":"double"==B?"word":"line"),(null==R.extend||x.doc.extend)&&(R.extend=x.doc.extend||O.shiftKey),null==R.addNew&&(R.addNew=te?O.metaKey:O.ctrlKey),null==R.moveOnDrag&&(R.moveOnDrag=!(te?O.altKey:O.ctrlKey)),R}(a,s,u),D=a.doc.sel;a.options.dragDrop&&Pe&&!a.isReadOnly()&&"single"==s&&(m=D.contains(l))>-1&&(Ie((m=D.ranges[m]).from(),l)<0||l.xRel>0)&&(Ie(m.to(),l)>0||l.xRel<0)?(B=u,O=l,E=h,R=(x=a).display,K=!1,U=At(x,function(se){W&&(R.scroller.draggable=!1),x.state.draggingText=!1,x.state.delayingBlurEvent&&(x.hasFocus()?x.state.delayingBlurEvent=!1:zi(x)),S(R.wrapper.ownerDocument,"mouseup",U),S(R.wrapper.ownerDocument,"mousemove",le),S(R.scroller,"dragstart",ie),S(R.scroller,"drop",U),K||(f(se),E.addNew||Qr(x.doc,O,null,null,E.extend),W&&!pe||C&&9==ee?setTimeout(function(){R.wrapper.ownerDocument.body.focus({preventScroll:!0}),R.input.focus()},20):R.input.focus())}),le=function(se){K=K||Math.abs(B.clientX-se.clientX)+Math.abs(B.clientY-se.clientY)>=10},ie=function(){return K=!0},W&&(R.scroller.draggable=!0),x.state.draggingText=U,U.copy=!E.moveOnDrag,M(R.wrapper.ownerDocument,"mouseup",U),M(R.wrapper.ownerDocument,"mousemove",le),M(R.scroller,"dragstart",ie),M(R.scroller,"drop",U),x.state.delayingBlurEvent=!0,setTimeout(function(){return R.input.focus()},20),R.scroller.dragDrop&&R.scroller.dragDrop()):function(x,B,O,E){C&&zi(x);var R=x.display,K=x.doc;f(B);var U,le,ie=K.sel,se=ie.ranges;if(E.addNew&&!E.extend?(le=K.sel.contains(O),U=le>-1?se[le]:new nt(O,O)):(U=K.sel.primary(),le=K.sel.primIndex),"rectangle"==E.unit)E.addNew||(U=new nt(O,O)),O=Tn(x,B,!0,!0),le=-1;else{var Be=el(x,O,E.unit);U=E.extend?Xi(U,Be.anchor,Be.head,E.extend):Be}E.addNew?-1==le?(le=se.length,Nt(K,Zt(x,se.concat([U]),le),{scroll:!1,origin:"*mouse"})):se.length>1&&se[le].empty()&&"char"==E.unit&&!E.extend?(Nt(K,Zt(x,se.slice(0,le).concat(se.slice(le+1)),0),{scroll:!1,origin:"*mouse"}),ie=K.sel):Zi(K,le,U,ve):(le=0,Nt(K,new $t([U],0),ve),ie=K.sel);var me=O,Te=R.wrapper.getBoundingClientRect(),Xe=0;function rt(Re){var it=++Xe,Oe=Tn(x,Re,!0,"rectangle"==E.unit);if(Oe)if(0!=Ie(Oe,me)){x.curOp.focus=ct(),function(Re){if(0!=Ie(me,Re))if(me=Re,"rectangle"==E.unit){for(var it=[],Oe=x.options.tabSize,Ke=Qe(Fe(K,O.line).text,O.ch,Oe),_e=Qe(Fe(K,Re.line).text,Re.ch,Oe),et=Math.min(Ke,_e),Ht=Math.max(Ke,_e),ot=Math.min(O.line,Re.line),Ot=Math.min(x.lastLine(),Math.max(O.line,Re.line));ot<=Ot;ot++){var It=Fe(K,ot).text,pt=vt(It,et,Oe);et==Ht?it.push(new nt(ae(ot,pt),ae(ot,pt))):It.length>pt&&it.push(new nt(ae(ot,pt),ae(ot,vt(It,Ht,Oe))))}it.length||it.push(new nt(O,O)),Nt(K,Zt(x,ie.ranges.slice(0,le).concat(it),le),{origin:"*mouse",scroll:!1}),x.scrollIntoView(Re)}else{var Rt,Vt=U,Lt=el(x,Re,E.unit),Qt=Vt.anchor;Ie(Lt.anchor,Qt)>0?(Rt=Lt.head,Qt=Nr(Vt.from(),Lt.anchor)):(Rt=Lt.anchor,Qt=Br(Vt.to(),Lt.head));var ui=ie.ranges.slice(0);ui[le]=function(hl,In){var qt=In.anchor,Cn=In.head,as=Fe(hl.doc,qt.line);if(0==Ie(qt,Cn)&&qt.sticky==Cn.sticky)return In;var er=G(as);if(!er)return In;var ao=T(er,qt.ch,qt.sticky),Lr=er[ao];if(Lr.from!=qt.ch&&Lr.to!=qt.ch)return In;var ci,Mr=ao+(Lr.from==qt.ch==(1!=Lr.level)?0:1);if(0==Mr||Mr==er.length)return In;if(Cn.line!=qt.line)ci=(Cn.line-qt.line)*("ltr"==hl.doc.direction?1:-1)>0;else{var lo=T(er,Cn.ch,Cn.sticky),fl=lo-ao||(Cn.ch-qt.ch)*(1==Lr.level?-1:1);ci=lo==Mr-1||lo==Mr?fl<0:fl>0}var so=er[Mr+(ci?-1:0)],pl=ci==(1==so.level),ml=pl?so.from:so.to,gl=pl?"after":"before";return qt.ch==ml&&qt.sticky==gl?In:new nt(new ae(qt.line,ml,gl),Cn)}(x,new nt(ze(K,Qt),Rt)),Nt(K,Zt(x,ui,le),ve)}}(Oe);var Ke=Gr(R,K);(Oe.line>=Ke.to||Oe.line<Ke.from)&&setTimeout(At(x,function(){Xe==it&&rt(Re)}),150)}else{var _e=Re.clientY<Te.top?-20:Re.clientY>Te.bottom?20:0;_e&&setTimeout(At(x,function(){Xe==it&&(R.scroller.scrollTop+=_e,rt(Re))}),50)}}function Ze(Re){x.state.selectingText=!1,Xe=1/0,Re&&(f(Re),R.input.focus()),S(R.wrapper.ownerDocument,"mousemove",$e),S(R.wrapper.ownerDocument,"mouseup",Ye),K.history.lastSelOrigin=null}var $e=At(x,function(Re){0!==Re.buttons&&we(Re)?rt(Re):Ze(Re)}),Ye=At(x,Ze);x.state.selectingText=Ye,M(R.wrapper.ownerDocument,"mousemove",$e),M(R.wrapper.ownerDocument,"mouseup",Ye)}(a,u,l,h)}(t,n,o,e):V(e)==r.scroller&&f(e):2==i?(n&&Qr(t.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(xe?t.display.input.onContextMenu(e):zi(t)))}}function el(e,t,r){if("char"==r)return new nt(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new nt(ae(t.line,0),ze(e.doc,ae(t.line+1,0)));var n=r(e,t);return new nt(n.from,n.to)}function tl(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(m){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&f(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!p(e,r))return oe(t);o-=l.top-a.viewOffset;for(var s=0;s<e.display.gutterSpecs.length;++s){var u=a.gutters.childNodes[s];if(u&&u.getBoundingClientRect().right>=i)return y(e,r,e,Fn(e.doc,o),e.display.gutterSpecs[s].className,t),oe(t)}}function no(e,t){return tl(e,t,"gutterClick",!0)}function nl(e,t){var r,n;dn(e.display,t)||(n=t,p(r=e,"gutterContextMenu")&&tl(r,n,"gutterContextMenu",!1))||b(e,t,"contextmenu")||xe||e.display.input.onContextMenu(t)}function rl(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),sr(e)}to.prototype.compare=function(e,t,r){return this.time+400>e&&0==Ie(t,this.pos)&&r==this.button};var Qn={toString:function(){return"CodeMirror.Init"}},il={},oi={};function ns(e,t,r){if(!t!=!(r&&r!=Qn)){var n=e.display.dragFunctions,i=t?M:S;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function rs(e){e.options.lineWrapping?(w(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(He(e.display.wrapper,"CodeMirror-wrap"),Ci(e)),Oi(e),_t(e),sr(e),setTimeout(function(){return Un(e)},100)}function gt(e,t){var r=this;if(!(this instanceof gt))return new gt(e,t);this.options=t=t?at(t):{},at(il,t,!1);var n=t.value;"string"==typeof n?n=new Wt(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new gt.inputStyles[t.inputStyle](this),o=this.display=new Ul(e,n,i,t);for(var a in o.wrapper.CodeMirror=this,rl(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),aa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new dt,keySeq:null,specialChars:null},t.autofocus&&!Q&&o.input.focus(),C&&ee<11&&setTimeout(function(){return r.display.input.reset(!0)},20),function(s){var u=s.display;M(u.scroller,"mousedown",At(s,Ja)),M(u.scroller,"dblclick",C&&ee<11?At(s,function(E){if(!b(s,E)){var R=Tn(s,E);if(R&&!no(s,E)&&!dn(s.display,E)){f(E);var K=s.findWordAt(R);Qr(s.doc,K.anchor,K.head)}}}):function(E){return b(s,E)||f(E)}),M(u.scroller,"contextmenu",function(E){return nl(s,E)}),M(u.input.getField(),"contextmenu",function(E){u.scroller.contains(E.target)||nl(s,E)});var m,h={end:0};function D(){u.activeTouch&&(m=setTimeout(function(){return u.activeTouch=null},1e3),(h=u.activeTouch).end=+new Date)}function B(E,R){if(null==R.left)return!0;var K=R.left-E.left,U=R.top-E.top;return K*K+U*U>400}M(u.scroller,"touchstart",function(E){if(!b(s,E)&&!function(E){if(1!=E.touches.length)return!1;var R=E.touches[0];return R.radiusX<=1&&R.radiusY<=1}(E)&&!no(s,E)){u.input.ensurePolled(),clearTimeout(m);var R=+new Date;u.activeTouch={start:R,moved:!1,prev:R-h.end<=300?h:null},1==E.touches.length&&(u.activeTouch.left=E.touches[0].pageX,u.activeTouch.top=E.touches[0].pageY)}}),M(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)}),M(u.scroller,"touchend",function(E){var R=u.activeTouch;if(R&&!dn(u,E)&&null!=R.left&&!R.moved&&new Date-R.start<300){var K,U=s.coordsChar(u.activeTouch,"page");K=!R.prev||B(R,R.prev)?new nt(U,U):!R.prev.prev||B(R,R.prev.prev)?s.findWordAt(U):new nt(ae(U.line,0),ze(s.doc,ae(U.line+1,0))),s.setSelection(K.anchor,K.head),s.focus(),f(E)}D()}),M(u.scroller,"touchcancel",D),M(u.scroller,"scroll",function(){u.scroller.clientHeight&&(dr(s,u.scroller.scrollTop),Mn(s,u.scroller.scrollLeft,!0),y(s,"scroll",s))}),M(u.scroller,"mousewheel",function(E){return ha(s,E)}),M(u.scroller,"DOMMouseScroll",function(E){return ha(s,E)}),M(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0}),u.dragFunctions={enter:function(E){b(s,E)||I(E)},over:function(E){b(s,E)||(function(R,K){var U=Tn(R,K);if(U){var le=document.createDocumentFragment();Jo(R,U,le),R.display.dragCursor||(R.display.dragCursor=_("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),R.display.lineSpace.insertBefore(R.display.dragCursor,R.display.cursorDiv)),ce(R.display.dragCursor,le)}}(s,E),I(E))},start:function(E){return function(R,K){if(C&&(!R.state.draggingText||+new Date-Pa<100))I(K);else if(!b(R,K)&&!dn(R.display,K)&&(K.dataTransfer.setData("Text",R.getSelection()),K.dataTransfer.effectAllowed="copyMove",K.dataTransfer.setDragImage&&!pe)){var U=_("img",null,null,"position: fixed; left: 0; top: 0;");U.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Y&&(U.width=U.height=1,R.display.wrapper.appendChild(U),U._top=U.offsetTop),K.dataTransfer.setDragImage(U,0,0),Y&&U.parentNode.removeChild(U)}}(s,E)},drop:At(s,Zl),leave:function(E){b(s,E)||_a(s)}};var O=u.input.getField();M(O,"keyup",function(E){return Ya.call(s,E)}),M(O,"keydown",At(s,Za)),M(O,"keypress",At(s,Qa)),M(O,"focus",function(E){return Hi(s,E)}),M(O,"blur",function(E){return jn(s,E)})}(this),function(){var e;ja||(M(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Wa(Ql)},100))}),M(window,"blur",function(){return Wa(jn)}),ja=!0)}(),Nn(this),this.curOp.forceUpdate=!0,ga(this,n),t.autofocus&&!Q||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&Hi(r)},20):jn(this),oi)oi.hasOwnProperty(a)&&oi[a](this,t[a],Qn);ua(this),t.finishInit&&t.finishInit(this);for(var l=0;l<ro.length;++l)ro[l](this);On(this),W&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}gt.defaults=il,gt.optionHandlers=oi;var ro=[];function Tr(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=rr(e,t).state:r="prev");var a=e.options.tabSize,l=Fe(o,t),s=Qe(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var u,m=l.text.match(/^\s*/)[0];if(n||/\S/.test(l.text)){if("smart"==r&&((u=o.mode.indent(i,l.text.slice(m.length),l.text))==ut||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?Qe(Fe(o,t-1).text,null,a):0:"add"==r?u=s+e.options.indentUnit:"subtract"==r?u=s-e.options.indentUnit:"number"==typeof r&&(u=s+r),u=Math.max(0,u);var h="",D=0;if(e.options.indentWithTabs)for(var x=Math.floor(u/a);x;--x)D+=a,h+="\t";if(D<u&&(h+=yt(u-D)),h!=m)return Kn(o,h,ae(t,0),ae(t,m.length),"+input"),l.stateAfter=null,!0;for(var B=0;B<o.sel.ranges.length;B++){var O=o.sel.ranges[B];if(O.head.line==t&&O.head.ch<m.length){var E=ae(t,m.length);Zi(o,B,new nt(E,E));break}}}gt.defineInitHook=function(e){return ro.push(e)};var Yt=null;function ai(e){Yt=e}function io(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var a=+new Date-200,l="paste"==i||e.state.pasteIncoming>a,s=ft(t),u=null;if(l&&n.ranges.length>1)if(Yt&&Yt.text.join("\n")==t){if(n.ranges.length%Yt.text.length==0){u=[];for(var m=0;m<Yt.text.length;m++)u.push(o.splitLines(Yt.text[m]))}}else s.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(u=Mt(s,function(R){return[R]}));for(var h=e.curOp.updateInput,D=n.ranges.length-1;D>=0;D--){var x=n.ranges[D],B=x.from(),O=x.to();x.empty()&&(r&&r>0?B=ae(B.line,B.ch-r):e.state.overwrite&&!l?O=ae(O.line,Math.min(Fe(o,O.line).text.length,O.ch+Me(s).length)):l&&Yt&&Yt.lineWise&&Yt.text.join("\n")==s.join("\n")&&(B=O=ae(B.line,0)));var E={from:B,to:O,text:u?u[D%u.length]:s,origin:i||(l?"paste":e.state.cutIncoming>a?"cut":"+input")};Vn(e.doc,E),Ft(e,"inputRead",e,E)}t&&!l&&al(e,t),qn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=h),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function ol(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||jt(t,function(){return io(t,r,0,null,"paste")}),!0}function al(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var l=0;l<o.electricChars.length;l++)if(t.indexOf(o.electricChars.charAt(l))>-1){a=Tr(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Fe(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Tr(e,i.head.line,"smart"));a&&Ft(e,"electricInput",e,i.head.line)}}}function ll(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:ae(i,0),head:ae(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function sl(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function ul(){var e=_("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=_("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return W?e.style.width="1000px":e.setAttribute("wrap","off"),Z&&(e.style.border="1px solid black"),sl(e),t}function oo(e,t,r,n,i){var o=t,a=r,l=Fe(e,t.line),s=i&&"rtl"==e.direction?-r:r;function u(R){var K,U;if("codepoint"==n){var le=l.text.charCodeAt(t.ch+(r>0?0:-1));K=isNaN(le)?null:new ae(t.line,Math.max(0,Math.min(l.text.length,t.ch+r*((r>0?le>=55296&&le<56320:le>=56320&&le<57343)?2:1))),-r)}else K=i?function(se,Be,me,We){var Te=G(Be,se.doc.direction);if(!Te)return Qi(Be,me,We);me.ch>=Be.text.length?(me.ch=Be.text.length,me.sticky="before"):me.ch<=0&&(me.ch=0,me.sticky="after");var Xe=T(Te,me.ch,me.sticky),rt=Te[Xe];if("ltr"==se.doc.direction&&rt.level%2==0&&(We>0?rt.to>me.ch:rt.from<me.ch))return Qi(Be,me,We);var Ze,$e=function(ot,Ot){return Yi(Be,ot instanceof ae?ot.ch:ot,Ot)},Ye=function(ot){return se.options.lineWrapping?(Ze=Ze||Pn(se,Be),Xo(se,Be,Ze,ot)):{begin:0,end:Be.text.length}},Re=Ye("before"==me.sticky?$e(me,-1):me.ch);if("rtl"==se.doc.direction||1==rt.level){var it=1==rt.level==We<0,Oe=$e(me,it?1:-1);if(null!=Oe&&(it?Oe<=rt.to&&Oe<=Re.end:Oe>=rt.from&&Oe>=Re.begin))return new ae(me.line,Oe,it?"before":"after")}var _e=function(ot,Ot,It){for(;ot>=0&&ot<Te.length;ot+=Ot){var Rt=Te[ot],Vt=Ot>0==(1!=Rt.level),Lt=Vt?It.begin:$e(It.end,-1);if(Rt.from<=Lt&&Lt<Rt.to||(Lt=Vt?Rt.from:$e(Rt.to,-1),It.begin<=Lt&&Lt<It.end))return Qt=Lt,Vt?new ae(me.line,$e(Qt,1),"before"):new ae(me.line,Qt,"after")}var Qt},et=_e(Xe+We,We,Re);if(et)return et;var Ht=We>0?Re.end:$e(Re.begin,-1);return null==Ht||We>0&&Ht==Be.text.length||!(et=_e(We>0?0:Te.length-1,We,Ye(Ht)))?null:et}(e.cm,l,t,r):Qi(l,t,r);if(null==K){if(R||(U=t.line+s)<e.first||U>=e.first+e.size||(t=new ae(U,t.ch,t.sticky),!(l=Fe(e,U))))return!1;t=Ji(i,e.cm,l,t.line,s)}else t=K;return!0}if("char"==n||"codepoint"==n)u();else if("column"==n)u(!0);else if("word"==n||"group"==n)for(var m=null,h="group"==n,D=e.cm&&e.cm.getHelper(t,"wordChars"),x=!0;!(r<0)||u(!x);x=!1){var B=l.text.charAt(t.ch)||"\n",O=Kt(B,D)?"w":h&&"\n"==B?"n":!h||/\s/.test(B)?null:"p";if(!h||x||O||(O="s"),m&&m!=O){r<0&&(r=1,u(),t.sticky="after");break}if(O&&(m=O),r>0&&!u(!x))break}var E=ei(e,t,o,a,!0);return pi(o,E)&&(E.hitSide=!0),E}function cl(e,t,r,n){var i,o,a=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(s-.5*_n(e.display),3);i=(r>0?t.bottom:t.top)+r*u}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(o=Li(e,l,i)).outside;){if(r<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*r}return o}var st=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new dt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function dl(e,t){var r=Fi(e,t.line);if(!r||r.hidden)return null;var n=Fe(e.doc,t.line),i=Ro(r,n,t.line),o=G(n,e.doc.direction),a="left";o&&(a=T(o,t.ch)%2?"right":"left");var l=Wo(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Jn(e,t){return t&&(e.bad=!0),e}function li(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return Jn(e.clipPos(ae(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return is(o,t,r)}}function is(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!Ge(n,t))return Jn(ae(lt(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?Me(e.rest):e.line;return Jn(ae(lt(o),o.text.length),i)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));l.parentNode!=n;)l=l.parentNode;var s=e.measure,u=s.maps;function m(E,R,K){for(var U=-1;U<(u?u.length:0);U++)for(var le=U<0?s.map:u[U],ie=0;ie<le.length;ie+=3){var se=le[ie+2];if(se==E||se==R){var Be=lt(U<0?e.line:e.rest[U]),me=le[ie]+K;return(K<0||se!=E)&&(me=le[ie+(K?1:0)]),ae(Be,me)}}}var h=m(a,l,r);if(h)return Jn(h,i);for(var D=l.nextSibling,x=a?a.nodeValue.length-r:0;D;D=D.nextSibling){if(h=m(D,D.firstChild,0))return Jn(ae(h.line,h.ch-x),i);x+=D.textContent.length}for(var B=l.previousSibling,O=r;B;B=B.previousSibling){if(h=m(B,B.firstChild,-1))return Jn(ae(h.line,h.ch+O),i);O+=B.textContent.length}}st.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function o(l){for(var s=l.target;s;s=s.parentNode){if(s==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(s.className))break}return!1}function a(l){if(o(l)&&!b(n,l)){if(n.somethingSelected())ai({lineWise:!1,text:n.getSelections()}),"cut"==l.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var s=ll(n);ai({lineWise:!0,text:s.text}),"cut"==l.type&&n.operation(function(){n.setSelections(s.ranges,0,fe),n.replaceSelection("",null,"cut")})}if(l.clipboardData){l.clipboardData.clearData();var u=Yt.text.join("\n");if(l.clipboardData.setData("Text",u),l.clipboardData.getData("Text")==u)return void l.preventDefault()}var m=ul(),h=m.firstChild;n.display.lineSpace.insertBefore(m,n.display.lineSpace.firstChild),h.value=Yt.text.join("\n");var D=ct();Ce(h),setTimeout(function(){n.display.lineSpace.removeChild(m),D.focus(),D==i&&r.showPrimarySelection()},50)}}i.contentEditable=!0,sl(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),M(i,"paste",function(l){!o(l)||b(n,l)||ol(l,n)||ee<=11&&setTimeout(At(n,function(){return t.updateFromDOM()}),20)}),M(i,"compositionstart",function(l){t.composing={data:l.data,done:!1}}),M(i,"compositionupdate",function(l){t.composing||(t.composing={data:l.data,done:!1})}),M(i,"compositionend",function(l){t.composing&&(l.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),M(i,"touchstart",function(){return r.forceCompositionEnd()}),M(i,"input",function(){t.composing||t.readFromDOMSoon()}),M(i,"copy",a),M(i,"cut",a)},st.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},st.prototype.prepareSelection=function(){var e=Qo(this.cm,!1);return e.focus=ct()==this.div,e},st.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},st.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},st.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var o=li(t,e.anchorNode,e.anchorOffset),a=li(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=Ie(Nr(o,a),n)||0!=Ie(Br(o,a),i)){var l=t.display.view,s=n.line>=t.display.viewFrom&&dl(t,n)||{node:l[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&dl(t,i);if(!u){var m=l[l.length-1].measure,h=m.maps?m.maps[m.maps.length-1]:m.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(s&&u){var D,x=e.rangeCount&&e.getRangeAt(0);try{D=Ne(s.node,s.offset,u.offset,u.node)}catch(B){}D&&(!j&&t.state.focused?(e.collapse(s.node,s.offset),D.collapsed||(e.removeAllRanges(),e.addRange(D))):(e.removeAllRanges(),e.addRange(D)),x&&null==e.anchorNode?e.addRange(x):j&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},st.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},st.prototype.showMultipleSelections=function(e){ce(this.cm.display.cursorDiv,e.cursors),ce(this.cm.display.selectionDiv,e.selection)},st.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},st.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ge(this.div,t)},st.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&ct()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},st.prototype.blur=function(){this.div.blur()},st.prototype.getField=function(){return this.div},st.prototype.supportsTouch=function(){return!0},st.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():jt(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},st.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},st.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(H&&ue&&this.cm.display.gutterSpecs.length&&function(i){for(var o=i;o;o=o.parentNode)if(/CodeMirror-gutter-wrapper/.test(o.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=li(t,e.anchorNode,e.anchorOffset),n=li(t,e.focusNode,e.focusOffset);r&&n&&jt(t,function(){Nt(t.doc,vn(r,n),fe),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},st.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),a=o.from(),l=o.to();if(0==a.ch&&a.line>n.firstLine()&&(a=ae(a.line-1,Fe(n.doc,a.line-1).length)),l.ch==Fe(n.doc,l.line).text.length&&l.line<n.lastLine()&&(l=ae(l.line+1,0)),a.line<i.viewFrom||l.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=Ln(n,a.line))?(t=lt(i.view[0].line),r=i.view[0].node):(t=lt(i.view[e].line),r=i.view[e-1].node.nextSibling);var s,u,m=Ln(n,l.line);if(m==i.view.length-1?(s=i.viewTo-1,u=i.lineDiv.lastChild):(s=lt(i.view[m+1].line)-1,u=i.view[m+1].node.previousSibling),!r)return!1;for(var h=n.doc.splitLines(function(Be,me,We,Te,Xe){var rt="",Ze=!1,$e=Be.doc.lineSeparator(),Ye=!1;function it(){Ze&&(rt+=$e,Ye&&(rt+=$e),Ze=Ye=!1)}function Oe(_e){_e&&(it(),rt+=_e)}function Ke(_e){if(1==_e.nodeType){var et=_e.getAttribute("cm-text");if(et)return void Oe(et);var Ht,ot=_e.getAttribute("cm-marker");if(ot){var Ot=Be.findMarks(ae(Te,0),ae(Xe+1,0),function(_e){return function(et){return et.id==_e}}(+ot));return void(Ot.length&&(Ht=Ot[0].find(0))&&Oe(Sn(Be.doc,Ht.from,Ht.to).join($e)))}if("false"==_e.getAttribute("contenteditable"))return;var It=/^(pre|div|p|li|table|br)$/i.test(_e.nodeName);if(!/^br$/i.test(_e.nodeName)&&0==_e.textContent.length)return;It&&it();for(var pt=0;pt<_e.childNodes.length;pt++)Ke(_e.childNodes[pt]);/^(pre|p)$/i.test(_e.nodeName)&&(Ye=!0),It&&(Ze=!0)}else 3==_e.nodeType&&Oe(_e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ke(me),me!=We;)me=me.nextSibling,Ye=!1;return rt}(n,r,u,t,s)),D=Sn(n.doc,ae(t,0),ae(s,Fe(n.doc,s).text.length));h.length>1&&D.length>1;)if(Me(h)==Me(D))h.pop(),D.pop(),s--;else{if(h[0]!=D[0])break;h.shift(),D.shift(),t++}for(var x=0,B=0,O=h[0],E=D[0],R=Math.min(O.length,E.length);x<R&&O.charCodeAt(x)==E.charCodeAt(x);)++x;for(var K=Me(h),U=Me(D),le=Math.min(K.length-(1==h.length?x:0),U.length-(1==D.length?x:0));B<le&&K.charCodeAt(K.length-B-1)==U.charCodeAt(U.length-B-1);)++B;if(1==h.length&&1==D.length&&t==a.line)for(;x&&x>a.ch&&K.charCodeAt(K.length-B-1)==U.charCodeAt(U.length-B-1);)x--,B++;h[h.length-1]=K.slice(0,K.length-B).replace(/^\u200b+/,""),h[0]=h[0].slice(x).replace(/\u200b+$/,"");var ie=ae(t,x),se=ae(s,D.length?Me(D).length-B:0);return h.length>1||h[0]||Ie(ie,se)?(Kn(n.doc,h,ie,se,"+input"),!0):void 0},st.prototype.ensurePolled=function(){this.forceCompositionEnd()},st.prototype.reset=function(){this.forceCompositionEnd()},st.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},st.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},st.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||jt(this.cm,function(){return _t(e.cm)})},st.prototype.setUneditable=function(e){e.contentEditable="false"},st.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||At(this.cm,io)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},st.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},st.prototype.onContextMenu=function(){},st.prototype.resetPosition=function(){},st.prototype.needsContentAttribute=!0;var e,t,r,bt=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new dt,this.hasSelection=!1,this.composing=null};bt.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function o(a){if(!b(n,a)){if(n.somethingSelected())ai({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var l=ll(n);ai({lineWise:!0,text:l.text}),"cut"==a.type?n.setSelections(l.ranges,null,fe):(r.prevInput="",i.value=l.text.join("\n"),Ce(i))}"cut"==a.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),Z&&(i.style.width="0px"),M(i,"input",function(){C&&ee>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),M(i,"paste",function(a){b(n,a)||ol(a,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())}),M(i,"cut",o),M(i,"copy",o),M(e.scroller,"paste",function(a){if(!dn(e,a)&&!b(n,a)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var l=new Event("paste");l.clipboardData=a.clipboardData,i.dispatchEvent(l)}}),M(e.lineSpace,"selectstart",function(a){dn(e,a)||f(a)}),M(i,"compositionstart",function(){var a=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:a,range:n.markText(a,n.getCursor("to"),{className:"CodeMirror-composing"})}}),M(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},bt.prototype.createField=function(e){this.wrapper=ul(),this.textarea=this.wrapper.firstChild},bt.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},bt.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Qo(e);if(e.options.moveInputWithCursor){var i=Xt(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},bt.prototype.showSelection=function(e){var t=this.cm.display;ce(t.cursorDiv,e.cursors),ce(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},bt.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&Ce(this.textarea),C&&ee>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",C&&ee>=9&&(this.hasSelection=null))}},bt.prototype.getField=function(){return this.textarea},bt.prototype.supportsTouch=function(){return!1},bt.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Q||ct()!=this.textarea))try{this.textarea.focus()}catch(e){}},bt.prototype.blur=function(){this.textarea.blur()},bt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},bt.prototype.receivedFocus=function(){this.slowPoll()},bt.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},bt.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))})},bt.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ve(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(C&&ee>=9&&this.hasSelection===i||te&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,l=Math.min(n.length,i.length);a<l&&n.charCodeAt(a)==i.charCodeAt(a);)++a;return jt(t,function(){io(t,i.slice(a),n.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},bt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},bt.prototype.onKeyPress=function(){C&&ee>=9&&(this.hasSelection=null),this.fastPoll()},bt.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Tn(r,e),a=n.scroller.scrollTop;if(o&&!Y){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&At(r,Nt)(r.doc,vn(o),fe);var l,s=i.style.cssText,u=t.wrapper.style.cssText,m=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-m.top-5)+"px; left: "+(e.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(C?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",W&&(l=window.scrollY),n.input.focus(),W&&window.scrollTo(null,l),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=x,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),C&&ee>=9&&D(),xe){I(e);var h=function(){S(window,"mouseup",h),setTimeout(x,20)};M(window,"mouseup",h)}else setTimeout(x,50)}function D(){if(null!=i.selectionStart){var B=r.somethingSelected(),O="\u200b"+(B?i.value:"");i.value="\u21da",i.value=O,t.prevInput=B?"":"\u200b",i.selectionStart=1,i.selectionEnd=O.length,n.selForContextMenu=r.doc.sel}}function x(){if(t.contextMenuPending==x&&(t.contextMenuPending=!1,t.wrapper.style.cssText=u,i.style.cssText=s,C&&ee<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=a),null!=i.selectionStart)){(!C||C&&ee<9)&&D();var B=0,O=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?At(r,Ta)(r):B++<10?n.detectingSelectAll=setTimeout(O,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(O,200)}}},bt.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},bt.prototype.setUneditable=function(){},bt.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function r(n,i,o,a){e.defaults[n]=i,o&&(t[n]=a?function(l,s,u){u!=Qn&&o(l,s,u)}:o)}e.defineOption=r,e.Init=Qn,r("value","",function(n,i){return n.setValue(i)},!0),r("mode",null,function(n,i){n.doc.modeOption=i,Gi(n)},!0),r("indentUnit",2,Gi,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){gr(n),sr(n),_t(n)},!0),r("lineSeparator",null,function(n,i){if(n.doc.lineSep=i,i){var o=[],a=n.doc.first;n.doc.iter(function(s){for(var u=0;;){var m=s.text.indexOf(i,u);if(-1==m)break;u=m+i.length,o.push(ae(a,m))}a++});for(var l=o.length-1;l>=0;l--)Kn(n.doc,i,o[l],ae(o[l].line,o[l].ch+i.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(n,i,o){n.state.specialChars=new RegExp(i.source+(i.test("\t")?"":"|\t"),"g"),o!=Qn&&n.refresh()}),r("specialCharPlaceholder",wl,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",Q?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,i){return n.getInputField().spellcheck=i},!0),r("autocorrect",!1,function(n,i){return n.getInputField().autocorrect=i},!0),r("autocapitalize",!1,function(n,i){return n.getInputField().autocapitalize=i},!0),r("rtlMoveVisually",!ne),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){rl(n),mr(n)},!0),r("keyMap","default",function(n,i,o){var a=ri(i),l=o!=Qn&&ri(o);l&&l.detach&&l.detach(n,a),a.attach&&a.attach(n,l||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,rs,!0),r("gutters",[],function(n,i){n.display.gutterSpecs=Ui(i,n.options.lineNumbers),mr(n)},!0),r("fixedGutter",!0,function(n,i){n.display.gutters.style.left=i?Ni(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return Un(n)},!0),r("scrollbarStyle","native",function(n){aa(n),Un(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,i){n.display.gutterSpecs=Ui(n.options.gutters,i),mr(n)},!0),r("firstLineNumber",1,mr,!0),r("lineNumberFormatter",function(n){return n},mr,!0),r("showCursorWhenSelecting",!1,ur,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,i){"nocursor"==i&&(jn(n),n.display.input.blur()),n.display.input.readOnlyChanged(i)}),r("screenReaderLabel",null,function(n,i){n.display.input.screenReaderLabelChanged(i=""===i?null:i)}),r("disableInput",!1,function(n,i){i||n.display.input.reset()},!0),r("dragDrop",!0,ns),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,ur,!0),r("singleCursorHeightPerLine",!0,ur,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,gr,!0),r("addModeClass",!1,gr,!0),r("pollInterval",100),r("undoDepth",200,function(n,i){return n.doc.history.undoDepth=i}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,gr,!0),r("moveInputWithCursor",!0,function(n,i){i||n.display.input.resetPosition()}),r("tabindex",null,function(n,i){return n.display.input.getField().tabIndex=i||""}),r("autofocus",null),r("direction","ltr",function(n,i){return n.doc.setDirection(i)},!0),r("phrases",null)}(gt),t=(e=gt).optionHandlers,r=e.helpers={},e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,i){var o=this.options,a=o[n];o[n]==i&&"mode"!=n||(o[n]=i,t.hasOwnProperty(n)&&At(this,t[n])(this,i,a),y(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,i){this.state.keyMaps[i?"push":"unshift"](ri(n))},removeKeyMap:function(n){for(var i=this.state.keyMaps,o=0;o<i.length;++o)if(i[o]==n||i[o].name==n)return i.splice(o,1),!0},addOverlay:zt(function(n,i){var o=n.token?n:e.getMode(this.options,n);if(o.startState)throw new Error("Overlays may not be stateful.");(function(a,l,s){for(var u=0,m=s(l);u<a.length&&s(a[u])<=m;)u++;a.splice(u,0,l)})(this.state.overlays,{mode:o,modeSpec:n,opaque:i&&i.opaque,priority:i&&i.priority||0},function(a){return a.priority}),this.state.modeGen++,_t(this)}),removeOverlay:zt(function(n){for(var i=this.state.overlays,o=0;o<i.length;++o){var a=i[o].modeSpec;if(a==n||"string"==typeof n&&a.name==n)return i.splice(o,1),this.state.modeGen++,void _t(this)}}),indentLine:zt(function(n,i,o){"string"!=typeof i&&"number"!=typeof i&&(i=null==i?this.options.smartIndent?"smart":"prev":i?"add":"subtract"),nr(this.doc,n)&&Tr(this,n,i,o)}),indentSelection:zt(function(n){for(var i=this.doc.sel.ranges,o=-1,a=0;a<i.length;a++){var l=i[a];if(l.empty())l.head.line>o&&(Tr(this,l.head.line,n,!0),o=l.head.line,a==this.doc.sel.primIndex&&qn(this));else{var s=l.from(),u=l.to(),m=Math.max(o,s.line);o=Math.min(this.lastLine(),u.line-(u.ch?0:1))+1;for(var h=m;h<o;++h)Tr(this,h,n);var D=this.doc.sel.ranges;0==s.ch&&i.length==D.length&&D[a].from().ch>0&&Zi(this.doc,a,new nt(s,D[a].to()),fe)}}}),getTokenAt:function(n,i){return vo(this,n,i)},getLineTokens:function(n,i){return vo(this,ae(n),i,!0)},getTokenTypeAt:function(n){n=ze(this.doc,n);var i,o=po(this,Fe(this.doc,n.line)),a=0,l=(o.length-1)/2,s=n.ch;if(0==s)i=o[2];else for(;;){var u=a+l>>1;if((u?o[2*u-1]:0)>=s)l=u;else{if(!(o[2*u+1]<s)){i=o[2*u+2];break}a=u+1}}var m=i?i.indexOf("overlay "):-1;return m<0?i:0==m?null:i.slice(0,m-1)},getModeAt:function(n){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(n).state).mode:i},getHelper:function(n,i){return this.getHelpers(n,i)[0]},getHelpers:function(n,i){var o=[];if(!r.hasOwnProperty(i))return o;var a=r[i],l=this.getModeAt(n);if("string"==typeof l[i])a[l[i]]&&o.push(a[l[i]]);else if(l[i])for(var s=0;s<l[i].length;s++){var u=a[l[i][s]];u&&o.push(u)}else l.helperType&&a[l.helperType]?o.push(a[l.helperType]):a[l.name]&&o.push(a[l.name]);for(var m=0;m<a._global.length;m++){var h=a._global[m];h.pred(l,this)&&-1==Ee(o,h.val)&&o.push(h.val)}return o},getStateAfter:function(n,i){var o=this.doc;return rr(this,(n=co(o,null==n?o.first+o.size-1:n))+1,i).state},cursorCoords:function(n,i){var o=this.doc.sel.primary();return Xt(this,null==n?o.head:"object"==typeof n?ze(this.doc,n):n?o.from():o.to(),i||"page")},charCoords:function(n,i){return Ei(this,ze(this.doc,n),i||"page")},coordsChar:function(n,i){return Li(this,(n=Go(this,n,i||"page")).left,n.top)},lineAtHeight:function(n,i){return n=Go(this,{top:n,left:0},i||"page").top,Fn(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,i,o){var a,l=!1;if("number"==typeof n){var s=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>s&&(n=s,l=!0),a=Fe(this.doc,n)}else a=n;return jr(this,a,{top:0,left:0},i||"page",o||l).top+(l?this.doc.height-cn(a):0)},defaultTextHeight:function(){return _n(this.display)},defaultCharWidth:function(){return Wn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,i,o,a,l){var m,h=this.display,D=(n=Xt(this,ze(this.doc,n))).bottom,x=n.left;if(i.style.position="absolute",i.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(i),h.sizer.appendChild(i),"over"==a)D=n.top;else if("above"==a||"near"==a){var B=Math.max(h.wrapper.clientHeight,this.doc.height),O=Math.max(h.sizer.clientWidth,h.lineSpace.clientWidth);("above"==a||n.bottom+i.offsetHeight>B)&&n.top>i.offsetHeight?D=n.top-i.offsetHeight:n.bottom+i.offsetHeight<=B&&(D=n.bottom),x+i.offsetWidth>O&&(x=O-i.offsetWidth)}i.style.top=D+"px",i.style.left=i.style.right="","right"==l?(x=h.sizer.clientWidth-i.offsetWidth,i.style.right="0px"):("left"==l?x=0:"middle"==l&&(x=(h.sizer.clientWidth-i.offsetWidth)/2),i.style.left=x+"px"),o&&(null!=(m=Ri(this,{left:x,top:D,right:x+i.offsetWidth,bottom:D+i.offsetHeight})).scrollTop&&dr(this,m.scrollTop),null!=m.scrollLeft&&Mn(this,m.scrollLeft))},triggerOnKeyDown:zt(Za),triggerOnKeyPress:zt(Qa),triggerOnKeyUp:Ya,triggerOnMouseDown:zt(Ja),execCommand:function(n){if(Sr.hasOwnProperty(n))return Sr[n].call(null,this)},triggerElectric:zt(function(n){al(this,n)}),findPosH:function(n,i,o,a){var l=1;i<0&&(l=-1,i=-i);for(var s=ze(this.doc,n),u=0;u<i&&!(s=oo(this.doc,s,l,o,a)).hitSide;++u);return s},moveH:zt(function(n,i){var o=this;this.extendSelectionsBy(function(a){return o.display.shift||o.doc.extend||a.empty()?oo(o.doc,a.head,n,i,o.options.rtlMoveVisually):n<0?a.from():a.to()},kt)}),deleteH:zt(function(n,i){var a=this.doc;this.doc.sel.somethingSelected()?a.replaceSelection("",null,"+delete"):Yn(this,function(l){var s=oo(a,l.head,n,i,!1);return n<0?{from:s,to:l.head}:{from:l.head,to:s}})}),findPosV:function(n,i,o,a){var l=1,s=a;i<0&&(l=-1,i=-i);for(var u=ze(this.doc,n),m=0;m<i;++m){var h=Xt(this,u,"div");if(null==s?s=h.left:h.left=s,(u=cl(this,h,l,o)).hitSide)break}return u},moveV:zt(function(n,i){var o=this,a=this.doc,l=[],s=!this.display.shift&&!a.extend&&a.sel.somethingSelected();if(a.extendSelectionsBy(function(m){if(s)return n<0?m.from():m.to();var h=Xt(o,m.head,"div");null!=m.goalColumn&&(h.left=m.goalColumn),l.push(h.left);var D=cl(o,h,n,i);return"page"==i&&m==a.sel.primary()&&Pi(o,Ei(o,D,"div").top-h.top),D},kt),l.length)for(var u=0;u<a.sel.ranges.length;u++)a.sel.ranges[u].goalColumn=l[u]}),findWordAt:function(n){var i=Fe(this.doc,n.line).text,o=n.ch,a=n.ch;if(i){var l=this.getHelper(n,"wordChars");"before"!=n.sticky&&a!=i.length||!o?++a:--o;for(var s=i.charAt(o),u=Kt(s,l)?function(m){return Kt(m,l)}:/\s/.test(s)?function(m){return/\s/.test(m)}:function(m){return!/\s/.test(m)&&!Kt(m)};o>0&&u(i.charAt(o-1));)--o;for(;a<i.length&&u(i.charAt(a));)++a}return new nt(ae(n.line,o),ae(n.line,a))},toggleOverwrite:function(n){null!=n&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?w(this.display.cursorDiv,"CodeMirror-overwrite"):He(this.display.cursorDiv,"CodeMirror-overwrite"),y(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ct()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:zt(function(n,i){cr(this,n,i)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-an(this)-this.display.barHeight,width:n.scrollWidth-an(this)-this.display.barWidth,clientHeight:Si(this),clientWidth:An(this)}},scrollIntoView:zt(function(n,i){var a;null==n?(n={from:this.doc.sel.primary().head,to:null},null==i&&(i=this.options.cursorScrollMargin)):"number"==typeof n?n={from:ae(n,0),to:null}:null==n.from&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=i||0,null!=n.from.line?(a=n,Vr(this),this.curOp.scrollToPos=a):na(this,n.from,n.to,n.margin)}),setSize:zt(function(n,i){var o=this,a=function(s){return"number"==typeof s||/^\d+$/.test(String(s))?s+"px":s};null!=n&&(this.display.wrapper.style.width=a(n)),null!=i&&(this.display.wrapper.style.height=a(i)),this.options.lineWrapping&&qo(this);var l=this.display.viewFrom;this.doc.iter(l,this.display.viewTo,function(s){if(s.widgets)for(var u=0;u<s.widgets.length;u++)if(s.widgets[u].noHScroll){mn(o,l,"widget");break}++l}),this.curOp.forceUpdate=!0,y(this,"refresh",this)}),operation:function(n){return jt(this,n)},startOperation:function(){return Nn(this)},endOperation:function(){return On(this)},refresh:zt(function(){var n=this.display.cachedTextHeight;_t(this),this.curOp.forceUpdate=!0,sr(this),cr(this,this.doc.scrollLeft,this.doc.scrollTop),ji(this.display),(null==n||Math.abs(n-_n(this.display))>.5||this.options.lineWrapping)&&Oi(this),y(this,"refresh",this)}),swapDoc:zt(function(n){var i=this.doc;return i.cm=null,this.state.selectingText&&this.state.selectingText(),ga(this,n),sr(this),this.display.input.reset(),cr(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,Ft(this,"swapDoc",this,i),i}),phrase:function(n){var i=this.options.phrases;return i&&Object.prototype.hasOwnProperty.call(i,n)?i[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},g(e),e.registerHelper=function(n,i,o){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][i]=o},e.registerGlobalHelper=function(n,i,o,a){e.registerHelper(n,i,a),r[n]._global.push({pred:o,val:a})};var os="iter insert remove copy getEditor constructor".split(" ");for(var si in Wt.prototype)Wt.prototype.hasOwnProperty(si)&&Ee(os,si)<0&&(gt.prototype[si]=function(e){return function(){return e.apply(this.doc,arguments)}}(Wt.prototype[si]));return g(Wt),gt.inputStyles={textarea:bt,contenteditable:st},gt.defineMode=function(e){gt.defaults.mode||"null"==e||(gt.defaults.mode=e),en.apply(this,arguments)},gt.defineMIME=function(e,t){mt[e]=t},gt.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),gt.defineMIME("text/plain","null"),gt.defineExtension=function(e,t){gt.prototype[e]=t},gt.defineDocExtension=function(e,t){Wt.prototype[e]=t},gt.fromTextArea=function(e,t){if((t=t?at(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=ct();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=l.getValue()}var i;if(e.form&&(M(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(s){}}t.finishInit=function(s){s.save=n,s.getTextArea=function(){return e},s.toTextArea=function(){s.toTextArea=isNaN,n(),e.parentNode.removeChild(s.getWrapperElement()),e.style.display="",e.form&&(S(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var l=gt(function(s){return e.parentNode.insertBefore(s,e.nextSibling)},t);return l},function(e){e.off=S,e.on=M,e.wheelEventPixels=$l,e.Doc=Wt,e.splitLines=ft,e.countColumn=Qe,e.findColumn=vt,e.isWordChar=Jt,e.Pass=ut,e.signal=y,e.Line=Hn,e.changeEnd=xn,e.scrollbarModel=oa,e.Pos=ae,e.cmpPos=Ie,e.modes=St,e.mimeModes=mt,e.resolveMode=tn,e.getMode=tr,e.modeExtensions=sn,e.extendMode=vl,e.copyState=kn,e.startState=uo,e.innerMode=di,e.commands=Sr,e.keyMap=hn,e.keyName=$a,e.isModifierKey=qa,e.lookupKey=Zn,e.normalizeKeyMap=es,e.StringStream=Ct,e.SharedTextMarker=Cr,e.TextMarker=bn,e.LineWidget=Dr,e.e_preventDefault=f,e.e_stopPropagation=N,e.e_stop=I,e.addClass=w,e.contains=Ge,e.rmClass=He,e.keyNames=Dn}(gt),gt.version="5.61.0",gt},"object"==typeof Je&&void 0!==qe?qe.exports=X():(J=J||self).CodeMirror=X()},{}],11:[function(Le,qe,Je){var J;J=function(X){"use strict";var j=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/i;X.defineMode("gfm",function(k,z){var L=0,C={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function($){return{code:$.code,codeBlock:$.codeBlock,ateSpace:$.ateSpace}},token:function($,ue){if(ue.combineTokens=null,ue.codeBlock)return $.match(/^```+/)?(ue.codeBlock=!1,null):($.skipToEnd(),null);if($.sol()&&(ue.code=!1),$.sol()&&$.match(/^```+/))return $.skipToEnd(),ue.codeBlock=!0,null;if("`"===$.peek()){$.next();var Y=$.pos;$.eatWhile("`");var pe=1+$.pos-Y;return ue.code?pe===L&&(ue.code=!1):(L=pe,ue.code=!0),null}return ue.code?($.next(),null):$.eatSpace()?(ue.ateSpace=!0,null):($.sol()||ue.ateSpace)&&(ue.ateSpace=!1,!1!==z.gitHubSpice)&&($.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)||$.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))||$.match(j)&&"]("!=$.string.slice($.start-2,$.start)&&(0==$.start||/\W/.test($.string.charAt($.start-1)))?(ue.combineTokens=!0,"link"):($.next(),null)},blankLine:function($){return $.code=!1,null}},ee={taskLists:!0,strikethrough:!0,emoji:!0};for(var W in z)ee[W]=z[W];return ee.name="markdown",X.overlayMode(X.getMode(k,ee),C)},"markdown"),X.defineMIME("text/x-gfm","gfm")},"object"==typeof Je&&"object"==typeof qe?J(Le("../../lib/codemirror"),Le("../markdown/markdown"),Le("../../addon/mode/overlay")):J(CodeMirror)},{"../../addon/mode/overlay":7,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(Le,qe,Je){var J;J=function(X){"use strict";X.defineMode("markdown",function(j,k){var z=X.getMode(j,"text/html"),L="null"==z.name;void 0===k.highlightFormatting&&(k.highlightFormatting=!1),void 0===k.maxBlockquoteDepth&&(k.maxBlockquoteDepth=0),void 0===k.taskLists&&(k.taskLists=!1),void 0===k.strikethrough&&(k.strikethrough=!1),void 0===k.emoji&&(k.emoji=!1),void 0===k.fencedCodeBlockHighlighting&&(k.fencedCodeBlockHighlighting=!0),void 0===k.fencedCodeBlockDefaultMode&&(k.fencedCodeBlockDefaultMode="text/plain"),void 0===k.xml&&(k.xml=!0),void 0===k.tokenTypeOverrides&&(k.tokenTypeOverrides={});var C={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var ee in C)C.hasOwnProperty(ee)&&k.tokenTypeOverrides[ee]&&(C[ee]=k.tokenTypeOverrides[ee]);var W=/^([*\-_])(?:\s*\1){2,}\s*$/,$=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,ue=/^\[(x| )\](?=\s)/i,Y=k.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,pe=/^ {0,3}(?:\={1,}|-{2,})\s*$/,Ae=/^[^#!\[\]*_\\<>` "'(~:]+/,De=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,Z=/^\s*\[[^\]]+?\]:.*$/,H=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function Q(w,d,Ce){return d.f=d.inline=Ce,Ce(w,d)}function te(w,d,Ce){return d.f=d.block=Ce,Ce(w,d)}function de(w){if(w.linkTitle=!1,w.linkHref=!1,w.linkText=!1,w.em=!1,w.strong=!1,w.strikethrough=!1,w.quote=0,w.indentedCode=!1,w.f==he){var d=L;if(!d){var Ce=X.innerMode(z,w.htmlState);d="xml"==Ce.mode.name&&null===Ce.state.tagStart&&!Ce.state.context&&Ce.state.tokenize.isInText}d&&(w.f=Ne,w.block=ne,w.htmlState=null)}return w.trailingSpace=0,w.trailingSpaceNewLine=!1,w.prevLine=w.thisLine,w.thisLine={stream:null},null}function ne(w,d){var Ce,Se=w.column()===d.indentation,at=!(Ce=d.prevLine.stream)||!/\S/.test(Ce.string),Qe=d.indentedCode,dt=d.prevLine.hr,Ee=!1!==d.list,ut=(d.listStack[d.listStack.length-1]||0)+3;d.indentedCode=!1;var fe=d.indentation;if(null===d.indentationDiff&&(d.indentationDiff=d.indentation,Ee)){for(d.list=null;fe<d.listStack[d.listStack.length-1];)d.listStack.pop(),d.listStack.length?d.indentation=d.listStack[d.listStack.length-1]:d.list=!1;!1!==d.list&&(d.indentationDiff=fe-d.listStack[d.listStack.length-1])}var ve=!(at||dt||d.prevLine.header||Ee&&Qe||d.prevLine.fencedCodeEnd),kt=(!1===d.list||dt||at)&&d.indentation<=ut&&w.match(W),vt=null;if(d.indentationDiff>=4&&(Qe||d.prevLine.fencedCodeEnd||d.prevLine.header||at))return w.skipToEnd(),d.indentedCode=!0,C.code;if(w.eatSpace())return null;if(Se&&d.indentation<=ut&&(vt=w.match(Y))&&vt[1].length<=6)return d.quote=0,d.header=vt[1].length,d.thisLine.header=!0,k.highlightFormatting&&(d.formatting="header"),d.f=d.inline,xe(d);if(d.indentation<=ut&&w.eat(">"))return d.quote=Se?1:d.quote+1,k.highlightFormatting&&(d.formatting="quote"),w.eatSpace(),xe(d);if(!kt&&!d.setext&&Se&&d.indentation<=ut&&(vt=w.match($))){var Dt=vt[1]?"ol":"ul";return d.indentation=fe+w.current().length,d.list=!0,d.quote=0,d.listStack.push(d.indentation),d.em=!1,d.strong=!1,d.code=!1,d.strikethrough=!1,k.taskLists&&w.match(ue,!1)&&(d.taskList=!0),d.f=d.inline,k.highlightFormatting&&(d.formatting=["list","list-"+Dt]),xe(d)}return Se&&d.indentation<=ut&&(vt=w.match(De,!0))?(d.quote=0,d.fencedEndRE=new RegExp(vt[1]+"+ *$"),d.localMode=k.fencedCodeBlockHighlighting&&function(yt){if(X.findModeByName){var Me=X.findModeByName(yt);Me&&(yt=Me.mime||Me.mimes[0])}var Mt=X.getMode(j,yt);return"null"==Mt.name?null:Mt}(vt[2]||k.fencedCodeBlockDefaultMode),d.localMode&&(d.localState=X.startState(d.localMode)),d.f=d.block=be,k.highlightFormatting&&(d.formatting="code-block"),d.code=-1,xe(d)):d.setext||!(ve&&Ee||d.quote||!1!==d.list||d.code||kt||Z.test(w.string))&&(vt=w.lookAhead(1))&&(vt=vt.match(pe))?(d.setext?(d.header=d.setext,d.setext=0,w.skipToEnd(),k.highlightFormatting&&(d.formatting="header")):(d.header="="==vt[0].charAt(0)?1:2,d.setext=d.header),d.thisLine.header=!0,d.f=d.inline,xe(d)):kt?(w.skipToEnd(),d.hr=!0,d.thisLine.hr=!0,C.hr):"["===w.peek()?Q(w,d,_):Q(w,d,d.inline)}function he(w,d){var Ce=z.token(w,d.htmlState);if(!L){var Se=X.innerMode(z,d.htmlState);("xml"==Se.mode.name&&null===Se.state.tagStart&&!Se.state.context&&Se.state.tokenize.isInText||d.md_inside&&w.current().indexOf(">")>-1)&&(d.f=Ne,d.block=ne,d.htmlState=null)}return Ce}function be(w,d){var Ce,Se=d.listStack[d.listStack.length-1]||0,at=d.indentation<Se;return d.fencedEndRE&&d.indentation<=Se+3&&(at||w.match(d.fencedEndRE))?(k.highlightFormatting&&(d.formatting="code-block"),at||(Ce=xe(d)),d.localMode=d.localState=null,d.block=ne,d.f=Ne,d.fencedEndRE=null,d.code=0,d.thisLine.fencedCodeEnd=!0,at?te(w,d,d.block):Ce):d.localMode?d.localMode.token(w,d.localState):(w.skipToEnd(),C.code)}function xe(w){var d=[];if(w.formatting){d.push(C.formatting),"string"==typeof w.formatting&&(w.formatting=[w.formatting]);for(var Ce=0;Ce<w.formatting.length;Ce++)d.push(C.formatting+"-"+w.formatting[Ce]),"header"===w.formatting[Ce]&&d.push(C.formatting+"-"+w.formatting[Ce]+"-"+w.header),"quote"===w.formatting[Ce]&&d.push(!k.maxBlockquoteDepth||k.maxBlockquoteDepth>=w.quote?C.formatting+"-"+w.formatting[Ce]+"-"+w.quote:"error")}if(w.taskOpen)return d.push("meta"),d.length?d.join(" "):null;if(w.taskClosed)return d.push("property"),d.length?d.join(" "):null;if(w.linkHref?d.push(C.linkHref,"url"):(w.strong&&d.push(C.strong),w.em&&d.push(C.em),w.strikethrough&&d.push(C.strikethrough),w.emoji&&d.push(C.emoji),w.linkText&&d.push(C.linkText),w.code&&d.push(C.code),w.image&&d.push(C.image),w.imageAltText&&d.push(C.imageAltText,"link"),w.imageMarker&&d.push(C.imageMarker)),w.header&&d.push(C.header,C.header+"-"+w.header),w.quote&&(d.push(C.quote),d.push(!k.maxBlockquoteDepth||k.maxBlockquoteDepth>=w.quote?C.quote+"-"+w.quote:C.quote+"-"+k.maxBlockquoteDepth)),!1!==w.list){var Se=(w.listStack.length-1)%3;d.push(Se?1===Se?C.list2:C.list3:C.list1)}return w.trailingSpaceNewLine?d.push("trailing-space-new-line"):w.trailingSpace&&d.push("trailing-space-"+(w.trailingSpace%2?"a":"b")),d.length?d.join(" "):null}function je(w,d){if(w.match(Ae,!0))return xe(d)}function Ne(w,d){var Ce=d.text(w,d);if(void 0!==Ce)return Ce;if(d.list)return d.list=null,xe(d);if(d.taskList)return" "===w.match(ue,!0)[1]?d.taskOpen=!0:d.taskClosed=!0,k.highlightFormatting&&(d.formatting="task"),d.taskList=!1,xe(d);if(d.taskOpen=!1,d.taskClosed=!1,d.header&&w.match(/^#+$/,!0))return k.highlightFormatting&&(d.formatting="header"),xe(d);var Se=w.next();if(d.linkTitle){d.linkTitle=!1;var at=Se;"("===Se&&(at=")");var Qe="^\\s*(?:[^"+(at=(at+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+at;if(w.match(new RegExp(Qe),!0))return C.linkHref}if("`"===Se){var dt=d.formatting;k.highlightFormatting&&(d.formatting="code"),w.eatWhile("`");var Ee=w.current().length;if(0!=d.code||d.quote&&1!=Ee){if(Ee==d.code){var ut=xe(d);return d.code=0,ut}return d.formatting=dt,xe(d)}return d.code=Ee,xe(d)}if(d.code)return xe(d);if("\\"===Se&&(w.next(),k.highlightFormatting)){var fe=xe(d),ve=C.formatting+"-escape";return fe?fe+" "+ve:ve}if("!"===Se&&w.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return d.imageMarker=!0,d.image=!0,k.highlightFormatting&&(d.formatting="image"),xe(d);if("["===Se&&d.imageMarker&&w.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return d.imageMarker=!1,d.imageAltText=!0,k.highlightFormatting&&(d.formatting="image"),xe(d);if("]"===Se&&d.imageAltText)return k.highlightFormatting&&(d.formatting="image"),fe=xe(d),d.imageAltText=!1,d.image=!1,d.inline=d.f=P,fe;if("["===Se&&!d.image)return d.linkText&&w.match(/^.*?\]/)||(d.linkText=!0,k.highlightFormatting&&(d.formatting="link")),xe(d);if("]"===Se&&d.linkText)return k.highlightFormatting&&(d.formatting="link"),fe=xe(d),d.linkText=!1,d.inline=d.f=w.match(/\(.*?\)| ?\[.*?\]/,!1)?P:Ne,fe;if("<"===Se&&w.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return d.f=d.inline=He,k.highlightFormatting&&(d.formatting="link"),(fe=xe(d))?fe+=" ":fe="",fe+C.linkInline;if("<"===Se&&w.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return d.f=d.inline=He,k.highlightFormatting&&(d.formatting="link"),(fe=xe(d))?fe+=" ":fe="",fe+C.linkEmail;if(k.xml&&"<"===Se&&w.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var kt=w.string.indexOf(">",w.pos);if(-1!=kt){var vt=w.string.substring(w.start,kt);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(vt)&&(d.md_inside=!0)}return w.backUp(1),d.htmlState=X.startState(z),te(w,d,he)}if(k.xml&&"<"===Se&&w.match(/^\/\w*?>/))return d.md_inside=!1,"tag";if("*"===Se||"_"===Se){for(var Dt=1,yt=1==w.pos?" ":w.string.charAt(w.pos-2);Dt<3&&w.eat(Se);)Dt++;var Me=w.peek()||" ",Mt=!/\s/.test(Me)&&(!H.test(Me)||/\s/.test(yt)||H.test(yt)),Tt=!/\s/.test(yt)&&(!H.test(yt)||/\s/.test(Me)||H.test(Me)),Bt=null,Gt=null;if(Dt%2&&(d.em||!Mt||"*"!==Se&&Tt&&!H.test(yt)?d.em!=Se||!Tt||"*"!==Se&&Mt&&!H.test(Me)||(Bt=!1):Bt=!0),Dt>1&&(d.strong||!Mt||"*"!==Se&&Tt&&!H.test(yt)?d.strong!=Se||!Tt||"*"!==Se&&Mt&&!H.test(Me)||(Gt=!1):Gt=!0),null!=Gt||null!=Bt)return k.highlightFormatting&&(d.formatting=null==Bt?"strong":null==Gt?"em":"strong em"),!0===Bt&&(d.em=Se),!0===Gt&&(d.strong=Se),ut=xe(d),!1===Bt&&(d.em=!1),!1===Gt&&(d.strong=!1),ut}else if(" "===Se&&(w.eat("*")||w.eat("_"))){if(" "===w.peek())return xe(d);w.backUp(1)}if(k.strikethrough)if("~"===Se&&w.eatWhile(Se)){if(d.strikethrough)return k.highlightFormatting&&(d.formatting="strikethrough"),ut=xe(d),d.strikethrough=!1,ut;if(w.match(/^[^\s]/,!1))return d.strikethrough=!0,k.highlightFormatting&&(d.formatting="strikethrough"),xe(d)}else if(" "===Se&&w.match("~~",!0)){if(" "===w.peek())return xe(d);w.backUp(2)}if(k.emoji&&":"===Se&&w.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){d.emoji=!0,k.highlightFormatting&&(d.formatting="emoji");var Jt=xe(d);return d.emoji=!1,Jt}return" "===Se&&(w.match(/^ +$/,!1)?d.trailingSpace++:d.trailingSpace&&(d.trailingSpaceNewLine=!0)),xe(d)}function He(w,d){if(">"===w.next()){d.f=d.inline=Ne,k.highlightFormatting&&(d.formatting="link");var Ce=xe(d);return Ce?Ce+=" ":Ce="",Ce+C.linkInline}return w.match(/^[^>]+/,!0),C.linkInline}function P(w,d){if(w.eatSpace())return null;var Ce,Se=w.next();return"("===Se||"["===Se?(d.f=d.inline=(Ce="("===Se?")":"]",function(at,Qe){if(at.next()===Ce){Qe.f=Qe.inline=Ne,k.highlightFormatting&&(Qe.formatting="link-string");var dt=xe(Qe);return Qe.linkHref=!1,dt}return at.match(ce[Ce]),Qe.linkHref=!0,xe(Qe)}),k.highlightFormatting&&(d.formatting="link-string"),d.linkHref=!0,xe(d)):"error"}var ce={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function _(w,d){return w.match(/^([^\]\\]|\\.)*\]:/,!1)?(d.f=ke,w.next(),k.highlightFormatting&&(d.formatting="link"),d.linkText=!0,xe(d)):Q(w,d,Ne)}function ke(w,d){if(w.match("]:",!0)){d.f=d.inline=Ge,k.highlightFormatting&&(d.formatting="link");var Ce=xe(d);return d.linkText=!1,Ce}return w.match(/^([^\]\\]|\\.)+/,!0),C.linkText}function Ge(w,d){return w.eatSpace()?null:(w.match(/^[^\s]+/,!0),void 0===w.peek()?d.linkTitle=!0:w.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),d.f=d.inline=Ne,C.linkHref+" url")}var ct={startState:function(){return{f:ne,prevLine:{stream:null},thisLine:{stream:null},block:ne,htmlState:null,indentation:0,inline:Ne,text:je,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(w){return{f:w.f,prevLine:w.prevLine,thisLine:w.thisLine,block:w.block,htmlState:w.htmlState&&X.copyState(z,w.htmlState),indentation:w.indentation,localMode:w.localMode,localState:w.localMode?X.copyState(w.localMode,w.localState):null,inline:w.inline,text:w.text,formatting:!1,linkText:w.linkText,linkTitle:w.linkTitle,linkHref:w.linkHref,code:w.code,em:w.em,strong:w.strong,strikethrough:w.strikethrough,emoji:w.emoji,header:w.header,setext:w.setext,hr:w.hr,taskList:w.taskList,list:w.list,listStack:w.listStack.slice(0),quote:w.quote,indentedCode:w.indentedCode,trailingSpace:w.trailingSpace,trailingSpaceNewLine:w.trailingSpaceNewLine,md_inside:w.md_inside,fencedEndRE:w.fencedEndRE}},token:function(w,d){if(d.formatting=!1,w!=d.thisLine.stream){if(d.header=0,d.hr=!1,w.match(/^\s*$/,!0))return de(d),null;if(d.prevLine=d.thisLine,d.thisLine={stream:w},d.taskList=!1,d.trailingSpace=0,d.trailingSpaceNewLine=!1,!d.localState&&(d.f=d.block,d.f!=he)){var Ce=w.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(d.indentation=Ce,d.indentationDiff=null,Ce>0)return null}}return d.f(w,d)},innerMode:function(w){return w.block==he?{state:w.htmlState,mode:z}:w.localState?{state:w.localState,mode:w.localMode}:{state:w,mode:ct}},indent:function(w,d,Ce){return w.block==he&&z.indent?z.indent(w.htmlState,d,Ce):w.localState&&w.localMode.indent?w.localMode.indent(w.localState,d,Ce):X.Pass},blankLine:de,getType:xe,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return ct},"xml"),X.defineMIME("text/markdown","markdown"),X.defineMIME("text/x-markdown","markdown")},"object"==typeof Je&&"object"==typeof qe?J(Le("../../lib/codemirror"),Le("../xml/xml"),Le("../meta")):J(CodeMirror)},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(Le,qe,Je){!function(J){"use strict";J.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var X=0;X<J.modeInfo.length;X++){var j=J.modeInfo[X];j.mimes&&(j.mime=j.mimes[0])}J.findModeByMIME=function(k){k=k.toLowerCase();for(var z=0;z<J.modeInfo.length;z++){var L=J.modeInfo[z];if(L.mime==k)return L;if(L.mimes)for(var C=0;C<L.mimes.length;C++)if(L.mimes[C]==k)return L}return/\+xml$/.test(k)?J.findModeByMIME("application/xml"):/\+json$/.test(k)?J.findModeByMIME("application/json"):void 0},J.findModeByExtension=function(k){k=k.toLowerCase();for(var z=0;z<J.modeInfo.length;z++){var L=J.modeInfo[z];if(L.ext)for(var C=0;C<L.ext.length;C++)if(L.ext[C]==k)return L}},J.findModeByFileName=function(k){for(var z=0;z<J.modeInfo.length;z++){var L=J.modeInfo[z];if(L.file&&L.file.test(k))return L}var C=k.lastIndexOf("."),ee=C>-1&&k.substring(C+1,k.length);if(ee)return J.findModeByExtension(ee)},J.findModeByName=function(k){k=k.toLowerCase();for(var z=0;z<J.modeInfo.length;z++){var L=J.modeInfo[z];if(L.name.toLowerCase()==k)return L;if(L.alias)for(var C=0;C<L.alias.length;C++)if(L.alias[C].toLowerCase()==k)return L}}}("object"==typeof Je&&"object"==typeof qe?Le("../lib/codemirror"):CodeMirror)},{"../lib/codemirror":10}],14:[function(Le,qe,Je){!function(J){"use strict";var X={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},j={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};J.defineMode("xml",function(k,z){var L,C,ee=k.indentUnit,W={},$=z.htmlMode?X:j;for(var ue in $)W[ue]=$[ue];for(var ue in z)W[ue]=z[ue];function Y(P,ce){function _(Ge){return ce.tokenize=Ge,Ge(P,ce)}var ke=P.next();return"<"==ke?P.eat("!")?P.eat("[")?P.match("CDATA[")?_(Ae("atom","]]>")):null:P.match("--")?_(Ae("comment","--\x3e")):P.match("DOCTYPE",!0,!0)?(P.eatWhile(/[\w\._\-]/),_(De(1))):null:P.eat("?")?(P.eatWhile(/[\w\._\-]/),ce.tokenize=Ae("meta","?>"),"meta"):(L=P.eat("/")?"closeTag":"openTag",ce.tokenize=pe,"tag bracket"):"&"==ke?(P.eat("#")?P.eat("x")?P.eatWhile(/[a-fA-F\d]/)&&P.eat(";"):P.eatWhile(/[\d]/)&&P.eat(";"):P.eatWhile(/[\w\.\-:]/)&&P.eat(";"))?"atom":"error":(P.eatWhile(/[^&<]/),null)}function pe(P,ce){var _,ke,Ge=P.next();if(">"==Ge||"/"==Ge&&P.eat(">"))return ce.tokenize=Y,L=">"==Ge?"endTag":"selfcloseTag","tag bracket";if("="==Ge)return L="equals",null;if("<"==Ge){ce.tokenize=Y,ce.state=te,ce.tagName=ce.tagStart=null;var ct=ce.tokenize(P,ce);return ct?ct+" tag error":"tag error"}return/[\'\"]/.test(Ge)?(ce.tokenize=(_=Ge,(ke=function(w,d){for(;!w.eol();)if(w.next()==_){d.tokenize=pe;break}return"string"}).isInAttribute=!0,ke),ce.stringStartCol=P.column(),ce.tokenize(P,ce)):(P.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function Ae(P,ce){return function(_,ke){for(;!_.eol();){if(_.match(ce)){ke.tokenize=Y;break}_.next()}return P}}function De(P){return function(ce,_){for(var ke;null!=(ke=ce.next());){if("<"==ke)return _.tokenize=De(P+1),_.tokenize(ce,_);if(">"==ke){if(1==P){_.tokenize=Y;break}return _.tokenize=De(P-1),_.tokenize(ce,_)}}return"meta"}}function Z(P,ce,_){this.prev=P.context,this.tagName=ce||"",this.indent=P.indented,this.startOfLine=_,(W.doNotIndent.hasOwnProperty(ce)||P.context&&P.context.noIndent)&&(this.noIndent=!0)}function H(P){P.context&&(P.context=P.context.prev)}function Q(P,ce){for(var _;;){if(!P.context||!W.contextGrabbers.hasOwnProperty(_=P.context.tagName)||!W.contextGrabbers[_].hasOwnProperty(ce))return;H(P)}}function te(P,ce,_){return"openTag"==P?(_.tagStart=ce.column(),de):"closeTag"==P?ne:te}function de(P,ce,_){return"word"==P?(_.tagName=ce.current(),C="tag",xe):W.allowMissingTagName&&"endTag"==P?(C="tag bracket",xe(P,0,_)):(C="error",de)}function ne(P,ce,_){if("word"==P){var ke=ce.current();return _.context&&_.context.tagName!=ke&&W.implicitlyClosed.hasOwnProperty(_.context.tagName)&&H(_),_.context&&_.context.tagName==ke||!1===W.matchClosing?(C="tag",he):(C="tag error",be)}return W.allowMissingTagName&&"endTag"==P?(C="tag bracket",he(P,0,_)):(C="error",be)}function he(P,ce,_){return"endTag"!=P?(C="error",he):(H(_),te)}function be(P,ce,_){return C="error",he(P,0,_)}function xe(P,ce,_){if("word"==P)return C="attribute",je;if("endTag"==P||"selfcloseTag"==P){var ke=_.tagName,Ge=_.tagStart;return _.tagName=_.tagStart=null,"selfcloseTag"==P||W.autoSelfClosers.hasOwnProperty(ke)?Q(_,ke):(Q(_,ke),_.context=new Z(_,ke,Ge==_.indented)),te}return C="error",xe}function je(P,ce,_){return"equals"==P?Ne:(W.allowMissing||(C="error"),xe(P,0,_))}function Ne(P,ce,_){return"string"==P?He:"word"==P&&W.allowUnquoted?(C="string",xe):(C="error",xe(P,0,_))}function He(P,ce,_){return"string"==P?He:xe(P,0,_)}return Y.isInText=!0,{startState:function(P){var ce={tokenize:Y,state:te,indented:P||0,tagName:null,tagStart:null,context:null};return null!=P&&(ce.baseIndent=P),ce},token:function(P,ce){if(!ce.tagName&&P.sol()&&(ce.indented=P.indentation()),P.eatSpace())return null;L=null;var _=ce.tokenize(P,ce);return(_||L)&&"comment"!=_&&(C=null,ce.state=ce.state(L||_,P,ce),C&&(_="error"==C?_+" error":C)),_},indent:function(P,ce,_){var ke=P.context;if(P.tokenize.isInAttribute)return P.tagStart==P.indented?P.stringStartCol+1:P.indented+ee;if(ke&&ke.noIndent)return J.Pass;if(P.tokenize!=pe&&P.tokenize!=Y)return _?_.match(/^(\s*)/)[0].length:0;if(P.tagName)return!1!==W.multilineTagIndentPastTag?P.tagStart+P.tagName.length+2:P.tagStart+ee*(W.multilineTagIndentFactor||1);if(W.alignCDATA&&/<!\[CDATA\[/.test(ce))return 0;var Ge=ce&&/^<(\/)?([\w_:\.-]*)/.exec(ce);if(Ge&&Ge[1])for(;ke;){if(ke.tagName==Ge[2]){ke=ke.prev;break}if(!W.implicitlyClosed.hasOwnProperty(ke.tagName))break;ke=ke.prev}else if(Ge)for(;ke;){var ct=W.contextGrabbers[ke.tagName];if(!ct||!ct.hasOwnProperty(Ge[2]))break;ke=ke.prev}for(;ke&&ke.prev&&!ke.startOfLine;)ke=ke.prev;return ke?ke.indent+ee:P.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:W.htmlMode?"html":"xml",helperType:W.htmlMode?"html":"xml",skipAttribute:function(P){P.state==Ne&&(P.state=xe)},xmlCurrentTag:function(P){return P.tagName?{name:P.tagName,close:"closeTag"==P.type}:null},xmlCurrentContext:function(P){for(var ce=[],_=P.context;_;_=_.prev)ce.push(_.tagName);return ce.reverse()}}}),J.defineMIME("text/xml","xml"),J.defineMIME("application/xml","xml"),J.mimeModes.hasOwnProperty("text/html")||J.defineMIME("text/html",{name:"xml",htmlMode:!0})}("object"==typeof Je&&"object"==typeof qe?Le("../../lib/codemirror"):CodeMirror)},{"../../lib/codemirror":10}],15:[function(Le,qe,Je){var J,X;J=this,X=function(){"use strict";function X(y,b){(null==b||b>y.length)&&(b=y.length);for(var v=0,p=new Array(b);v<b;v++)p[v]=y[v];return p}function j(y,b){var v;if("undefined"==typeof Symbol||null==y[Symbol.iterator]){if(Array.isArray(y)||(v=function(g,f){if(g){if("string"==typeof g)return X(g,f);var N=Object.prototype.toString.call(g).slice(8,-1);return"Object"===N&&g.constructor&&(N=g.constructor.name),"Map"===N||"Set"===N?Array.from(g):"Arguments"===N||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?X(g,f):void 0}}(y))||b&&y&&"number"==typeof y.length){v&&(y=v);var p=0;return function(){return p>=y.length?{done:!0}:{done:!1,value:y[p++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(v=y[Symbol.iterator]()).next.bind(v)}var b,y,k=(y=b={exports:{}},y.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},changeDefaults:function(v){y.exports.defaults=v}},b.exports),z=/[&<>"']/,L=/[&<>"']/g,C=/[<>"']|&(?!#?\w+;)/,ee=/[<>"']|&(?!#?\w+;)/g,W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$=function(y){return W[y]},ue=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Y(y){return y.replace(ue,function(b,v){return"colon"===(v=v.toLowerCase())?":":"#"===v.charAt(0)?"x"===v.charAt(1)?String.fromCharCode(parseInt(v.substring(2),16)):String.fromCharCode(+v.substring(1)):""})}var pe=/(^|[^\[])\^/g,Ae=/[^\w:]/g,De=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,Z={},H=/^[^:]+:\/*[^/]*$/,Q=/^([^:]+:)[\s\S]*$/,te=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ne(y,b,v){var p=y.length;if(0===p)return"";for(var g=0;g<p;){var f=y.charAt(p-g-1);if(f!==b||v){if(f===b||!v)break;g++}else g++}return y.substr(0,p-g)}var he=function(y,b){if(b){if(z.test(y))return y.replace(L,$)}else if(C.test(y))return y.replace(ee,$);return y},be=Y,He=function(y){for(var b,v,p=1;p<arguments.length;p++)for(v in b=arguments[p])Object.prototype.hasOwnProperty.call(b,v)&&(y[v]=b[v]);return y},ct=k.defaults,w=ne,d=function(y,b){var v=y.replace(/\|/g,function(g,f,N){for(var oe=!1,I=f;--I>=0&&"\\"===N[I];)oe=!oe;return oe?"|":" |"}).split(/ \|/),p=0;if(v.length>b)v.splice(b);else for(;v.length<b;)v.push("");for(;p<v.length;p++)v[p]=v[p].trim().replace(/\\\|/g,"|");return v},Ce=he;function at(y,b,v){var p=b.href,g=b.title?Ce(b.title):null,f=y[1].replace(/\\([\[\]])/g,"$1");return"!"!==y[0].charAt(0)?{type:"link",raw:v,href:p,title:g,text:f}:{type:"image",raw:v,href:p,title:g,text:Ce(f)}}var Qe=function(){function y(v){this.options=v||ct}var b=y.prototype;return b.space=function(v){var p=this.rules.block.newline.exec(v);if(p)return p[0].length>1?{type:"space",raw:p[0]}:{raw:"\n"}},b.code=function(v){var p=this.rules.block.code.exec(v);if(p){var g=p[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:p[0],codeBlockStyle:"indented",text:this.options.pedantic?g:w(g,"\n")}}},b.fences=function(v){var p=this.rules.block.fences.exec(v);if(p){var g=p[0],f=function(N,oe){var I=N.match(/^(\s+)(?:```)/);if(null===I)return oe;var V=I[1];return oe.split("\n").map(function(we){var ye=we.match(/^\s+/);return null===ye?we:ye[0].length>=V.length?we.slice(V.length):we}).join("\n")}(g,p[3]||"");return{type:"code",raw:g,lang:p[2]?p[2].trim():p[2],text:f}}},b.heading=function(v){var p=this.rules.block.heading.exec(v);if(p){var g=p[2].trim();if(/#$/.test(g)){var f=w(g,"#");this.options.pedantic?g=f.trim():f&&!/ $/.test(f)||(g=f.trim())}return{type:"heading",raw:p[0],depth:p[1].length,text:g}}},b.nptable=function(v){var p=this.rules.block.nptable.exec(v);if(p){var g={type:"table",header:d(p[1].replace(/^ *| *\| *$/g,"")),align:p[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:p[3]?p[3].replace(/\n$/,"").split("\n"):[],raw:p[0]};if(g.header.length===g.align.length){var f,N=g.align.length;for(f=0;f<N;f++)g.align[f]=/^ *-+: *$/.test(g.align[f])?"right":/^ *:-+: *$/.test(g.align[f])?"center":/^ *:-+ *$/.test(g.align[f])?"left":null;for(N=g.cells.length,f=0;f<N;f++)g.cells[f]=d(g.cells[f],g.header.length);return g}}},b.hr=function(v){var p=this.rules.block.hr.exec(v);if(p)return{type:"hr",raw:p[0]}},b.blockquote=function(v){var p=this.rules.block.blockquote.exec(v);if(p){var g=p[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:p[0],text:g}}},b.list=function(v){var p=this.rules.block.list.exec(v);if(p){var g,f,N,oe,I,V,we,ye,Ue,Pe=p[0],ht=p[2],Pt=ht.length>1,xt={type:"list",raw:Pe,ordered:Pt,start:Pt?+ht.slice(0,-1):"",loose:!1,items:[]},ft=p[0].match(this.rules.block.item),Ve=!1,wt=ft.length;N=this.rules.block.listItemStart.exec(ft[0]);for(var tt=0;tt<wt;tt++){if(Pe=g=ft[tt],this.options.pedantic||(Ue=g.match(new RegExp("\\n\\s*\\n {0,"+(N[0].length-1)+"}\\S")))&&(I=g.length-Ue.index+ft.slice(tt+1).join("\n").length,xt.raw=xt.raw.substring(0,xt.raw.length-I),Pe=g=g.substring(0,Ue.index),wt=tt+1),tt!==wt-1){if(oe=this.rules.block.listItemStart.exec(ft[tt+1]),this.options.pedantic?oe[1].length>N[1].length:oe[1].length>=N[0].length||oe[1].length>3){ft.splice(tt,2,ft[tt]+(!this.options.pedantic&&oe[1].length<N[0].length&&!ft[tt].match(/\n$/)?"":"\n")+ft[tt+1]),tt--,wt--;continue}(!this.options.pedantic||this.options.smartLists?oe[2][oe[2].length-1]!==ht[ht.length-1]:Pt===(1===oe[2].length))&&(I=ft.slice(tt+1).join("\n").length,xt.raw=xt.raw.substring(0,xt.raw.length-I),tt=wt-1),N=oe}f=g.length,~(g=g.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(f-=g.length,g=g.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+f+"}","gm"),"")),g=w(g,"\n"),tt!==wt-1&&(Pe+="\n"),V=Ve||/\n\n(?!\s*$)/.test(Pe),tt!==wt-1&&(Ve="\n\n"===Pe.slice(-2),V||(V=Ve)),V&&(xt.loose=!0),this.options.gfm&&(ye=void 0,(we=/^\[[ xX]\] /.test(g))&&(ye=" "!==g[1],g=g.replace(/^\[[ xX]\] +/,""))),xt.items.push({type:"list_item",raw:Pe,task:we,checked:ye,loose:V,text:g})}return xt}},b.html=function(v){var p=this.rules.block.html.exec(v);if(p)return{type:this.options.sanitize?"paragraph":"html",raw:p[0],pre:!this.options.sanitizer&&("pre"===p[1]||"script"===p[1]||"style"===p[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(p[0]):Ce(p[0]):p[0]}},b.def=function(v){var p=this.rules.block.def.exec(v);if(p)return p[3]&&(p[3]=p[3].substring(1,p[3].length-1)),{type:"def",tag:p[1].toLowerCase().replace(/\s+/g," "),raw:p[0],href:p[2],title:p[3]}},b.table=function(v){var p=this.rules.block.table.exec(v);if(p){var g={type:"table",header:d(p[1].replace(/^ *| *\| *$/g,"")),align:p[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:p[3]?p[3].replace(/\n$/,"").split("\n"):[]};if(g.header.length===g.align.length){g.raw=p[0];var f,N=g.align.length;for(f=0;f<N;f++)g.align[f]=/^ *-+: *$/.test(g.align[f])?"right":/^ *:-+: *$/.test(g.align[f])?"center":/^ *:-+ *$/.test(g.align[f])?"left":null;for(N=g.cells.length,f=0;f<N;f++)g.cells[f]=d(g.cells[f].replace(/^ *\| *| *\| *$/g,""),g.header.length);return g}}},b.lheading=function(v){var p=this.rules.block.lheading.exec(v);if(p)return{type:"heading",raw:p[0],depth:"="===p[2].charAt(0)?1:2,text:p[1]}},b.paragraph=function(v){var p=this.rules.block.paragraph.exec(v);if(p)return{type:"paragraph",raw:p[0],text:"\n"===p[1].charAt(p[1].length-1)?p[1].slice(0,-1):p[1]}},b.text=function(v){var p=this.rules.block.text.exec(v);if(p)return{type:"text",raw:p[0],text:p[0]}},b.escape=function(v){var p=this.rules.inline.escape.exec(v);if(p)return{type:"escape",raw:p[0],text:Ce(p[1])}},b.tag=function(v,p,g){var f=this.rules.inline.tag.exec(v);if(f)return!p&&/^<a /i.test(f[0])?p=!0:p&&/^<\/a>/i.test(f[0])&&(p=!1),!g&&/^<(pre|code|kbd|script)(\s|>)/i.test(f[0])?g=!0:g&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(f[0])&&(g=!1),{type:this.options.sanitize?"text":"html",raw:f[0],inLink:p,inRawBlock:g,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(f[0]):Ce(f[0]):f[0]}},b.link=function(v){var p=this.rules.inline.link.exec(v);if(p){var g=p[2].trim();if(!this.options.pedantic&&/^</.test(g)){if(!/>$/.test(g))return;var f=w(g.slice(0,-1),"\\");if((g.length-f.length)%2==0)return}else{var N=function(y,b){if(-1===y.indexOf(b[1]))return-1;for(var v=y.length,p=0,g=0;g<v;g++)if("\\"===y[g])g++;else if(y[g]===b[0])p++;else if(y[g]===b[1]&&--p<0)return g;return-1}(p[2],"()");if(N>-1){var oe=(0===p[0].indexOf("!")?5:4)+p[1].length+N;p[2]=p[2].substring(0,N),p[0]=p[0].substring(0,oe).trim(),p[3]=""}}var I=p[2],V="";if(this.options.pedantic){var we=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(I);we&&(I=we[1],V=we[3])}else V=p[3]?p[3].slice(1,-1):"";return I=I.trim(),/^</.test(I)&&(I=this.options.pedantic&&!/>$/.test(g)?I.slice(1):I.slice(1,-1)),at(p,{href:I&&I.replace(this.rules.inline._escapes,"$1"),title:V&&V.replace(this.rules.inline._escapes,"$1")},p[0])}},b.reflink=function(v,p){var g;if((g=this.rules.inline.reflink.exec(v))||(g=this.rules.inline.nolink.exec(v))){var f=(g[2]||g[1]).replace(/\s+/g," ");if(!(f=p[f.toLowerCase()])||!f.href){var N=g[0].charAt(0);return{type:"text",raw:N,text:N}}return at(g,f,g[0])}},b.emStrong=function(v,p,g){void 0===g&&(g="");var f=this.rules.inline.emStrong.lDelim.exec(v);if(f&&(!f[3]||!g.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var N=f[1]||f[2]||"";if(!N||N&&(""===g||this.rules.inline.punctuation.exec(g))){var oe,I,V=f[0].length-1,we=V,ye=0,Ue="*"===f[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ue.lastIndex=0,p=p.slice(-1*v.length+V);null!=(f=Ue.exec(p));)if(oe=f[1]||f[2]||f[3]||f[4]||f[5]||f[6])if(I=oe.length,f[3]||f[4])we+=I;else if(!((f[5]||f[6])&&V%3)||(V+I)%3){if(!((we-=I)>0)){if(we+ye-I<=0&&!p.slice(Ue.lastIndex).match(Ue)&&(I=Math.min(I,I+we+ye)),Math.min(V,I)%2)return{type:"em",raw:v.slice(0,V+f.index+I+1),text:v.slice(1,V+f.index+I)};if(Math.min(V,I)%2==0)return{type:"strong",raw:v.slice(0,V+f.index+I+1),text:v.slice(2,V+f.index+I-1)}}}else ye+=I}}},b.codespan=function(v){var p=this.rules.inline.code.exec(v);if(p){var g=p[2].replace(/\n/g," "),f=/[^ ]/.test(g),N=/^ /.test(g)&&/ $/.test(g);return f&&N&&(g=g.substring(1,g.length-1)),g=Ce(g,!0),{type:"codespan",raw:p[0],text:g}}},b.br=function(v){var p=this.rules.inline.br.exec(v);if(p)return{type:"br",raw:p[0]}},b.del=function(v){var p=this.rules.inline.del.exec(v);if(p)return{type:"del",raw:p[0],text:p[2]}},b.autolink=function(v,p){var g,f,N=this.rules.inline.autolink.exec(v);if(N)return f="@"===N[2]?"mailto:"+(g=Ce(this.options.mangle?p(N[1]):N[1])):g=Ce(N[1]),{type:"link",raw:N[0],text:g,href:f,tokens:[{type:"text",raw:g,text:g}]}},b.url=function(v,p){var g;if(g=this.rules.inline.url.exec(v)){var f,N;if("@"===g[2])N="mailto:"+(f=Ce(this.options.mangle?p(g[0]):g[0]));else{var oe;do{oe=g[0],g[0]=this.rules.inline._backpedal.exec(g[0])[0]}while(oe!==g[0]);f=Ce(g[0]),N="www."===g[1]?"http://"+f:f}return{type:"link",raw:g[0],text:f,href:N,tokens:[{type:"text",raw:f,text:f}]}}},b.inlineText=function(v,p,g){var f,N=this.rules.inline.text.exec(v);if(N)return f=p?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(N[0]):Ce(N[0]):N[0]:Ce(this.options.smartypants?g(N[0]):N[0]),{type:"text",raw:N[0],text:f}},y}(),dt={exec:function(){}},Ee=function(y,b){y=y.source||y,b=b||"";var v={replace:function(p,g){return g=(g=g.source||g).replace(pe,"$1"),y=y.replace(p,g),v},getRegex:function(){return new RegExp(y,b)}};return v},ut=He,fe={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:dt,table:dt,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};fe.def=Ee(fe.def).replace("label",fe._label).replace("title",fe._title).getRegex(),fe.bullet=/(?:[*+-]|\d{1,9}[.)])/,fe.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,fe.item=Ee(fe.item,"gm").replace(/bull/g,fe.bullet).getRegex(),fe.listItemStart=Ee(/^( *)(bull) */).replace("bull",fe.bullet).getRegex(),fe.list=Ee(fe.list).replace(/bull/g,fe.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+fe.def.source+")").getRegex(),fe._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",fe._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,fe.html=Ee(fe.html,"i").replace("comment",fe._comment).replace("tag",fe._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fe.paragraph=Ee(fe._paragraph).replace("hr",fe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",fe._tag).getRegex(),fe.blockquote=Ee(fe.blockquote).replace("paragraph",fe.paragraph).getRegex(),fe.normal=ut({},fe),fe.gfm=ut({},fe.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),fe.gfm.nptable=Ee(fe.gfm.nptable).replace("hr",fe.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",fe._tag).getRegex(),fe.gfm.table=Ee(fe.gfm.table).replace("hr",fe.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",fe._tag).getRegex(),fe.pedantic=ut({},fe.normal,{html:Ee("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",fe._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:dt,paragraph:Ee(fe.normal._paragraph).replace("hr",fe.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",fe.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ve={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:dt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:dt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};ve.punctuation=Ee(ve.punctuation).replace(/punctuation/g,ve._punctuation).getRegex(),ve.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ve.escapedEmSt=/\\\*|\\_/g,ve._comment=Ee(fe._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ve.emStrong.lDelim=Ee(ve.emStrong.lDelim).replace(/punct/g,ve._punctuation).getRegex(),ve.emStrong.rDelimAst=Ee(ve.emStrong.rDelimAst,"g").replace(/punct/g,ve._punctuation).getRegex(),ve.emStrong.rDelimUnd=Ee(ve.emStrong.rDelimUnd,"g").replace(/punct/g,ve._punctuation).getRegex(),ve._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ve._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ve._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ve.autolink=Ee(ve.autolink).replace("scheme",ve._scheme).replace("email",ve._email).getRegex(),ve._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ve.tag=Ee(ve.tag).replace("comment",ve._comment).replace("attribute",ve._attribute).getRegex(),ve._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ve._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ve._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ve.link=Ee(ve.link).replace("label",ve._label).replace("href",ve._href).replace("title",ve._title).getRegex(),ve.reflink=Ee(ve.reflink).replace("label",ve._label).getRegex(),ve.reflinkSearch=Ee(ve.reflinkSearch,"g").replace("reflink",ve.reflink).replace("nolink",ve.nolink).getRegex(),ve.normal=ut({},ve),ve.pedantic=ut({},ve.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ee(/^!?\[(label)\]\((.*?)\)/).replace("label",ve._label).getRegex(),reflink:Ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ve._label).getRegex()}),ve.gfm=ut({},ve.normal,{escape:Ee(ve.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),ve.gfm.url=Ee(ve.gfm.url,"i").replace("email",ve.gfm._extended_email).getRegex(),ve.breaks=ut({},ve.gfm,{br:Ee(ve.br).replace("{2,}","*").getRegex(),text:Ee(ve.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var kt={block:fe,inline:ve},vt=k.defaults,Dt=kt.block,yt=kt.inline,Me=function(y,b){if(b<1)return"";for(var v="";b>1;)1&b&&(v+=y),b>>=1,y+=y;return v+y};function Mt(y){return y.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Tt(y){var b,v,p="",g=y.length;for(b=0;b<g;b++)v=y.charCodeAt(b),Math.random()>.5&&(v="x"+v.toString(16)),p+="&#"+v+";";return p}var Bt=function(){function y(f){this.tokens=[],this.tokens.links=Object.create(null),this.options=f||vt,this.options.tokenizer=this.options.tokenizer||new Qe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var N={block:Dt.normal,inline:yt.normal};this.options.pedantic?(N.block=Dt.pedantic,N.inline=yt.pedantic):this.options.gfm&&(N.block=Dt.gfm,N.inline=this.options.breaks?yt.breaks:yt.gfm),this.tokenizer.rules=N}y.lex=function(f,N){return new y(N).lex(f)},y.lexInline=function(f,N){return new y(N).inlineTokens(f)};var p,g=y.prototype;return g.lex=function(f){return f=f.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(f,this.tokens,!0),this.inline(this.tokens),this.tokens},g.blockTokens=function(f,N,oe){var I,V,we,ye;for(void 0===N&&(N=[]),void 0===oe&&(oe=!0),this.options.pedantic&&(f=f.replace(/^ +$/gm,""));f;)if(I=this.tokenizer.space(f))f=f.substring(I.raw.length),I.type&&N.push(I);else if(I=this.tokenizer.code(f))f=f.substring(I.raw.length),(ye=N[N.length-1])&&"paragraph"===ye.type?(ye.raw+="\n"+I.raw,ye.text+="\n"+I.text):N.push(I);else if(I=this.tokenizer.fences(f))f=f.substring(I.raw.length),N.push(I);else if(I=this.tokenizer.heading(f))f=f.substring(I.raw.length),N.push(I);else if(I=this.tokenizer.nptable(f))f=f.substring(I.raw.length),N.push(I);else if(I=this.tokenizer.hr(f))f=f.substring(I.raw.length),N.push(I);else if(I=this.tokenizer.blockquote(f))f=f.substring(I.raw.length),I.tokens=this.blockTokens(I.text,[],oe),N.push(I);else if(I=this.tokenizer.list(f)){for(f=f.substring(I.raw.length),we=I.items.length,V=0;V<we;V++)I.items[V].tokens=this.blockTokens(I.items[V].text,[],!1);N.push(I)}else if(I=this.tokenizer.html(f))f=f.substring(I.raw.length),N.push(I);else if(oe&&(I=this.tokenizer.def(f)))f=f.substring(I.raw.length),this.tokens.links[I.tag]||(this.tokens.links[I.tag]={href:I.href,title:I.title});else if(I=this.tokenizer.table(f))f=f.substring(I.raw.length),N.push(I);else if(I=this.tokenizer.lheading(f))f=f.substring(I.raw.length),N.push(I);else if(oe&&(I=this.tokenizer.paragraph(f)))f=f.substring(I.raw.length),N.push(I);else if(I=this.tokenizer.text(f))f=f.substring(I.raw.length),(ye=N[N.length-1])&&"text"===ye.type?(ye.raw+="\n"+I.raw,ye.text+="\n"+I.text):N.push(I);else if(f){var Ue="Infinite loop on byte: "+f.charCodeAt(0);if(this.options.silent){console.error(Ue);break}throw new Error(Ue)}return N},g.inline=function(f){var N,oe,I,V,we,ye,Ue=f.length;for(N=0;N<Ue;N++)switch((ye=f[N]).type){case"paragraph":case"text":case"heading":ye.tokens=[],this.inlineTokens(ye.text,ye.tokens);break;case"table":for(ye.tokens={header:[],cells:[]},V=ye.header.length,oe=0;oe<V;oe++)ye.tokens.header[oe]=[],this.inlineTokens(ye.header[oe],ye.tokens.header[oe]);for(V=ye.cells.length,oe=0;oe<V;oe++)for(we=ye.cells[oe],ye.tokens.cells[oe]=[],I=0;I<we.length;I++)ye.tokens.cells[oe][I]=[],this.inlineTokens(we[I],ye.tokens.cells[oe][I]);break;case"blockquote":this.inline(ye.tokens);break;case"list":for(V=ye.items.length,oe=0;oe<V;oe++)this.inline(ye.items[oe].tokens)}return f},g.inlineTokens=function(f,N,oe,I){var V,we;void 0===N&&(N=[]),void 0===oe&&(oe=!1),void 0===I&&(I=!1);var ye,Ue,Pe,ht=f;if(this.tokens.links){var Pt=Object.keys(this.tokens.links);if(Pt.length>0)for(;null!=(ye=this.tokenizer.rules.inline.reflinkSearch.exec(ht));)Pt.includes(ye[0].slice(ye[0].lastIndexOf("[")+1,-1))&&(ht=ht.slice(0,ye.index)+"["+Me("a",ye[0].length-2)+"]"+ht.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(ye=this.tokenizer.rules.inline.blockSkip.exec(ht));)ht=ht.slice(0,ye.index)+"["+Me("a",ye[0].length-2)+"]"+ht.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(ye=this.tokenizer.rules.inline.escapedEmSt.exec(ht));)ht=ht.slice(0,ye.index)+"++"+ht.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;f;)if(Ue||(Pe=""),Ue=!1,V=this.tokenizer.escape(f))f=f.substring(V.raw.length),N.push(V);else if(V=this.tokenizer.tag(f,oe,I)){f=f.substring(V.raw.length),oe=V.inLink,I=V.inRawBlock;var xt=N[N.length-1];xt&&"text"===V.type&&"text"===xt.type?(xt.raw+=V.raw,xt.text+=V.text):N.push(V)}else if(V=this.tokenizer.link(f))f=f.substring(V.raw.length),"link"===V.type&&(V.tokens=this.inlineTokens(V.text,[],!0,I)),N.push(V);else if(V=this.tokenizer.reflink(f,this.tokens.links)){f=f.substring(V.raw.length);var ft=N[N.length-1];"link"===V.type?(V.tokens=this.inlineTokens(V.text,[],!0,I),N.push(V)):ft&&"text"===V.type&&"text"===ft.type?(ft.raw+=V.raw,ft.text+=V.text):N.push(V)}else if(V=this.tokenizer.emStrong(f,ht,Pe))f=f.substring(V.raw.length),V.tokens=this.inlineTokens(V.text,[],oe,I),N.push(V);else if(V=this.tokenizer.codespan(f))f=f.substring(V.raw.length),N.push(V);else if(V=this.tokenizer.br(f))f=f.substring(V.raw.length),N.push(V);else if(V=this.tokenizer.del(f))f=f.substring(V.raw.length),V.tokens=this.inlineTokens(V.text,[],oe,I),N.push(V);else if(V=this.tokenizer.autolink(f,Tt))f=f.substring(V.raw.length),N.push(V);else if(oe||!(V=this.tokenizer.url(f,Tt))){if(V=this.tokenizer.inlineText(f,I,Mt))f=f.substring(V.raw.length),"_"!==V.raw.slice(-1)&&(Pe=V.raw.slice(-1)),Ue=!0,(we=N[N.length-1])&&"text"===we.type?(we.raw+=V.raw,we.text+=V.text):N.push(V);else if(f){var Ve="Infinite loop on byte: "+f.charCodeAt(0);if(this.options.silent){console.error(Ve);break}throw new Error(Ve)}}else f=f.substring(V.raw.length),N.push(V);return N},(p=[{key:"rules",get:function(){return{block:Dt,inline:yt}}}])&&function(y,b){for(var v=0;v<b.length;v++){var p=b[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}(y,p),y}(),Gt=k.defaults,Jt=function(y,b,v){if(y){var p;try{p=decodeURIComponent(Y(v)).replace(Ae,"").toLowerCase()}catch(g){return null}if(0===p.indexOf("javascript:")||0===p.indexOf("vbscript:")||0===p.indexOf("data:"))return null}b&&!De.test(v)&&(v=function(y,b){Z[" "+y]||(Z[" "+y]=H.test(y)?y+"/":ne(y,"/",!0));var v=-1===(y=Z[" "+y]).indexOf(":");return"//"===b.substring(0,2)?v?b:y.replace(Q,"$1")+b:"/"===b.charAt(0)?v?b:y.replace(te,"$1")+b:y+b}(b,v));try{v=encodeURI(v).replace(/%25/g,"%")}catch(g){return null}return v},Kt=he,fn=function(){function y(v){this.options=v||Gt}var b=y.prototype;return b.code=function(v,p,g){var f=(p||"").match(/\S*/)[0];if(this.options.highlight){var N=this.options.highlight(v,f);null!=N&&N!==v&&(g=!0,v=N)}return v=v.replace(/\n$/,"")+"\n",f?'<pre><code class="'+this.options.langPrefix+Kt(f,!0)+'">'+(g?v:Kt(v,!0))+"</code></pre>\n":"<pre><code>"+(g?v:Kt(v,!0))+"</code></pre>\n"},b.blockquote=function(v){return"<blockquote>\n"+v+"</blockquote>\n"},b.html=function(v){return v},b.heading=function(v,p,g,f){return this.options.headerIds?"<h"+p+' id="'+this.options.headerPrefix+f.slug(g)+'">'+v+"</h"+p+">\n":"<h"+p+">"+v+"</h"+p+">\n"},b.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},b.list=function(v,p,g){var f=p?"ol":"ul";return"<"+f+(p&&1!==g?' start="'+g+'"':"")+">\n"+v+"</"+f+">\n"},b.listitem=function(v){return"<li>"+v+"</li>\n"},b.checkbox=function(v){return"<input "+(v?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},b.paragraph=function(v){return"<p>"+v+"</p>\n"},b.table=function(v,p){return p&&(p="<tbody>"+p+"</tbody>"),"<table>\n<thead>\n"+v+"</thead>\n"+p+"</table>\n"},b.tablerow=function(v){return"<tr>\n"+v+"</tr>\n"},b.tablecell=function(v,p){var g=p.header?"th":"td";return(p.align?"<"+g+' align="'+p.align+'">':"<"+g+">")+v+"</"+g+">\n"},b.strong=function(v){return"<strong>"+v+"</strong>"},b.em=function(v){return"<em>"+v+"</em>"},b.codespan=function(v){return"<code>"+v+"</code>"},b.br=function(){return this.options.xhtml?"<br/>":"<br>"},b.del=function(v){return"<del>"+v+"</del>"},b.link=function(v,p,g){if(null===(v=Jt(this.options.sanitize,this.options.baseUrl,v)))return g;var f='<a href="'+Kt(v)+'"';return p&&(f+=' title="'+p+'"'),f+">"+g+"</a>"},b.image=function(v,p,g){if(null===(v=Jt(this.options.sanitize,this.options.baseUrl,v)))return g;var f='<img src="'+v+'" alt="'+g+'"';return p&&(f+=' title="'+p+'"'),f+(this.options.xhtml?"/>":">")},b.text=function(v){return v},y}(),zn=function(){function y(){}var b=y.prototype;return b.strong=function(v){return v},b.em=function(v){return v},b.codespan=function(v){return v},b.del=function(v){return v},b.html=function(v){return v},b.text=function(v){return v},b.link=function(v,p,g){return""+g},b.image=function(v,p,g){return""+g},b.br=function(){return""},y}(),ge=function(){function y(){this.seen={}}var b=y.prototype;return b.serialize=function(v){return v.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},b.getNextSafeSlug=function(v,p){var g=v,f=0;if(this.seen.hasOwnProperty(g)){f=this.seen[v];do{g=v+"-"+ ++f}while(this.seen.hasOwnProperty(g))}return p||(this.seen[v]=f,this.seen[g]=0),g},b.slug=function(v,p){void 0===p&&(p={});var g=this.serialize(v);return this.getNextSafeSlug(g,p.dryrun)},y}(),wn=k.defaults,c=be,F=function(){function y(v){this.options=v||wn,this.options.renderer=this.options.renderer||new fn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new zn,this.slugger=new ge}y.parse=function(v,p){return new y(p).parse(v)},y.parseInline=function(v,p){return new y(p).parseInline(v)};var b=y.prototype;return b.parse=function(v,p){void 0===p&&(p=!0);var g,f,N,oe,I,V,we,ye,Ue,Pe,ht,Pt,xt,ft,Ve,wt,tt,St,mt="",en=v.length;for(g=0;g<en;g++)switch((Pe=v[g]).type){case"space":continue;case"hr":mt+=this.renderer.hr();continue;case"heading":mt+=this.renderer.heading(this.parseInline(Pe.tokens),Pe.depth,c(this.parseInline(Pe.tokens,this.textRenderer)),this.slugger);continue;case"code":mt+=this.renderer.code(Pe.text,Pe.lang,Pe.escaped);continue;case"table":for(ye="",we="",oe=Pe.header.length,f=0;f<oe;f++)we+=this.renderer.tablecell(this.parseInline(Pe.tokens.header[f]),{header:!0,align:Pe.align[f]});for(ye+=this.renderer.tablerow(we),Ue="",oe=Pe.cells.length,f=0;f<oe;f++){for(we="",I=(V=Pe.tokens.cells[f]).length,N=0;N<I;N++)we+=this.renderer.tablecell(this.parseInline(V[N]),{header:!1,align:Pe.align[N]});Ue+=this.renderer.tablerow(we)}mt+=this.renderer.table(ye,Ue);continue;case"blockquote":Ue=this.parse(Pe.tokens),mt+=this.renderer.blockquote(Ue);continue;case"list":for(ht=Pe.ordered,Pt=Pe.start,xt=Pe.loose,oe=Pe.items.length,Ue="",f=0;f<oe;f++)wt=(Ve=Pe.items[f]).checked,tt=Ve.task,ft="",Ve.task&&(St=this.renderer.checkbox(wt),xt?Ve.tokens.length>0&&"text"===Ve.tokens[0].type?(Ve.tokens[0].text=St+" "+Ve.tokens[0].text,Ve.tokens[0].tokens&&Ve.tokens[0].tokens.length>0&&"text"===Ve.tokens[0].tokens[0].type&&(Ve.tokens[0].tokens[0].text=St+" "+Ve.tokens[0].tokens[0].text)):Ve.tokens.unshift({type:"text",text:St}):ft+=St),ft+=this.parse(Ve.tokens,xt),Ue+=this.renderer.listitem(ft,tt,wt);mt+=this.renderer.list(Ue,ht,Pt);continue;case"html":mt+=this.renderer.html(Pe.text);continue;case"paragraph":mt+=this.renderer.paragraph(this.parseInline(Pe.tokens));continue;case"text":for(Ue=Pe.tokens?this.parseInline(Pe.tokens):Pe.text;g+1<en&&"text"===v[g+1].type;)Ue+="\n"+((Pe=v[++g]).tokens?this.parseInline(Pe.tokens):Pe.text);mt+=p?this.renderer.paragraph(Ue):Ue;continue;default:var tn='Token with "'+Pe.type+'" type was not found.';if(this.options.silent)return void console.error(tn);throw new Error(tn)}return mt},b.parseInline=function(v,p){p=p||this.renderer;var g,f,N="",oe=v.length;for(g=0;g<oe;g++)switch((f=v[g]).type){case"escape":case"text":N+=p.text(f.text);break;case"html":N+=p.html(f.text);break;case"link":N+=p.link(f.href,f.title,this.parseInline(f.tokens,p));break;case"image":N+=p.image(f.href,f.title,f.text);break;case"strong":N+=p.strong(this.parseInline(f.tokens,p));break;case"em":N+=p.em(this.parseInline(f.tokens,p));break;case"codespan":N+=p.codespan(f.text);break;case"br":N+=p.br();break;case"del":N+=p.del(this.parseInline(f.tokens,p));break;default:var I='Token with "'+f.type+'" type was not found.';if(this.options.silent)return void console.error(I);throw new Error(I)}return N},y}(),T=He,A=function(y){y&&y.sanitize&&!y.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},G=he,q=k.getDefaults,M=k.changeDefaults,re=k.defaults;function S(y,b,v){if(null==y)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof y)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(y)+", string expected");if("function"==typeof b&&(v=b,b=null),b=T({},S.defaults,b||{}),A(b),v){var p,g=b.highlight;try{p=Bt.lex(y,b)}catch(I){return v(I)}var f=function(I){var V;if(!I)try{V=F.parse(p,b)}catch(we){I=we}return b.highlight=g,I?v(I):v(null,V)};if(!g||g.length<3||(delete b.highlight,!p.length))return f();var N=0;return S.walkTokens(p,function(I){"code"===I.type&&(N++,setTimeout(function(){g(I.text,I.lang,function(V,we){if(V)return f(V);null!=we&&we!==I.text&&(I.text=we,I.escaped=!0),0==--N&&f()})},0))}),void(0===N&&f())}try{var oe=Bt.lex(y,b);return b.walkTokens&&S.walkTokens(oe,b.walkTokens),F.parse(oe,b)}catch(I){if(I.message+="\nPlease report this to https://github.com/markedjs/marked.",b.silent)return"<p>An error occurred:</p><pre>"+G(I.message+"",!0)+"</pre>";throw I}}return S.options=S.setOptions=function(y){return T(S.defaults,y),M(S.defaults),S},S.getDefaults=q,S.defaults=re,S.use=function(y){var b=T({},y);if(y.renderer&&function(){var p=S.defaults.renderer||new fn,g=function(N){var oe=p[N];p[N]=function(){for(var I=arguments.length,V=new Array(I),we=0;we<I;we++)V[we]=arguments[we];var ye=y.renderer[N].apply(p,V);return!1===ye&&(ye=oe.apply(p,V)),ye}};for(var f in y.renderer)g(f);b.renderer=p}(),y.tokenizer&&function(){var p=S.defaults.tokenizer||new Qe,g=function(N){var oe=p[N];p[N]=function(){for(var I=arguments.length,V=new Array(I),we=0;we<I;we++)V[we]=arguments[we];var ye=y.tokenizer[N].apply(p,V);return!1===ye&&(ye=oe.apply(p,V)),ye}};for(var f in y.tokenizer)g(f);b.tokenizer=p}(),y.walkTokens){var v=S.defaults.walkTokens;b.walkTokens=function(p){y.walkTokens(p),v&&v(p)}}S.setOptions(b)},S.walkTokens=function(y,b){for(var v,p=j(y);!(v=p()).done;){var g=v.value;switch(b(g),g.type){case"table":for(var f,N=j(g.tokens.header);!(f=N()).done;)S.walkTokens(f.value,b);for(var I,V=j(g.tokens.cells);!(I=V()).done;)for(var we,ye=j(I.value);!(we=ye()).done;)S.walkTokens(we.value,b);break;case"list":S.walkTokens(g.items,b);break;default:g.tokens&&S.walkTokens(g.tokens,b)}}},S.parseInline=function(y,b){if(null==y)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof y)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(y)+", string expected");b=T({},S.defaults,b||{}),A(b);try{var v=Bt.lexInline(y,b);return b.walkTokens&&S.walkTokens(v,b.walkTokens),F.parseInline(v,b)}catch(p){if(p.message+="\nPlease report this to https://github.com/markedjs/marked.",b.silent)return"<p>An error occurred:</p><pre>"+G(p.message+"",!0)+"</pre>";throw p}},S.Parser=F,S.parser=F.parse,S.Renderer=fn,S.TextRenderer=zn,S.Lexer=Bt,S.lexer=Bt.lex,S.Tokenizer=Qe,S.Slugger=ge,S.parse=S,S},"object"==typeof Je&&void 0!==qe?qe.exports=X():(J="undefined"!=typeof globalThis?globalThis:J||self).marked=X()},{}],16:[function(Le,qe,Je){(function(J){(function(){var X;(function(){"use strict";(X=function(j,k,z,L){L=L||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=L.flags||{},this.memoized={},this.loaded=!1;var C,ee,W,$,ue,Y=this;function pe(H,Q){var te=Y._readFile(H,null,L.asyncLoad);L.asyncLoad?te.then(function(de){Q(de)}):Q(te)}function Ae(H){k=H,z&&Z()}function De(H){z=H,k&&Z()}function Z(){for(Y.rules=Y._parseAFF(k),Y.compoundRuleCodes={},ee=0,$=Y.compoundRules.length;ee<$;ee++){var H=Y.compoundRules[ee];for(W=0,ue=H.length;W<ue;W++)Y.compoundRuleCodes[H[W]]=[]}for(ee in"ONLYINCOMPOUND"in Y.flags&&(Y.compoundRuleCodes[Y.flags.ONLYINCOMPOUND]=[]),Y.dictionaryTable=Y._parseDIC(z),Y.compoundRuleCodes)0===Y.compoundRuleCodes[ee].length&&delete Y.compoundRuleCodes[ee];for(ee=0,$=Y.compoundRules.length;ee<$;ee++){var Q=Y.compoundRules[ee],te="";for(W=0,ue=Q.length;W<ue;W++){var de=Q[W];te+=de in Y.compoundRuleCodes?"("+Y.compoundRuleCodes[de].join("|")+")":de}Y.compoundRules[ee]=new RegExp(te,"i")}Y.loaded=!0,L.asyncLoad&&L.loadedCallback&&L.loadedCallback(Y)}return j&&(Y.dictionary=j,k&&z?Z():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(C=L.dictionaryPath?L.dictionaryPath:"typo/dictionaries",k||pe(chrome.extension.getURL(C+"/"+j+"/"+j+".aff"),Ae),z||pe(chrome.extension.getURL(C+"/"+j+"/"+j+".dic"),De)):(C=L.dictionaryPath?L.dictionaryPath:void 0!==J?J+"/dictionaries":"./dictionaries",k||pe(C+"/"+j+"/"+j+".aff",Ae),z||pe(C+"/"+j+"/"+j+".dic",De))),this}).prototype={load:function(j){for(var k in j)j.hasOwnProperty(k)&&(this[k]=j[k]);return this},_readFile:function(j,k,z){if(k=k||"utf8","undefined"!=typeof XMLHttpRequest){var L,C=new XMLHttpRequest;return C.open("GET",j,z),z&&(L=new Promise(function(W,$){C.onload=function(){200===C.status?W(C.responseText):$(C.statusText)},C.onerror=function(){$(C.statusText)}})),C.overrideMimeType&&C.overrideMimeType("text/plain; charset="+k),C.send(null),z?L:C.responseText}if(void 0!==Le){var ee=Le("fs");try{if(ee.existsSync(j))return ee.readFileSync(j,k);console.log("Path "+j+" does not exist.")}catch(W){return console.log(W),""}}},_parseAFF:function(j){var k,z,L,C,ee,W,$,ue={},Y=(j=this._removeAffixComments(j)).split(/\r?\n/);for(C=0,W=Y.length;C<W;C++){var pe=(k=Y[C]).split(/\s+/),Ae=pe[0];if("PFX"==Ae||"SFX"==Ae){var De=pe[1],Z=pe[2],H=[];for(ee=C+1,$=C+1+(z=parseInt(pe[3],10));ee<$;ee++){var Q=(L=Y[ee].split(/\s+/))[2],te=L[3].split("/"),de=te[0];"0"===de&&(de="");var ne=this.parseRuleCodes(te[1]),he=L[4],be={};be.add=de,ne.length>0&&(be.continuationClasses=ne),"."!==he&&(be.match="SFX"===Ae?new RegExp(he+"$"):new RegExp("^"+he)),"0"!=Q&&(be.remove="SFX"===Ae?new RegExp(Q+"$"):Q),H.push(be)}ue[De]={type:Ae,combineable:"Y"==Z,entries:H},C+=z}else if("COMPOUNDRULE"===Ae){for(ee=C+1,$=C+1+(z=parseInt(pe[1],10));ee<$;ee++)L=(k=Y[ee]).split(/\s+/),this.compoundRules.push(L[1]);C+=z}else"REP"===Ae?3===(L=k.split(/\s+/)).length&&this.replacementTable.push([L[1],L[2]]):this.flags[Ae]=pe[1]}return ue},_removeAffixComments:function(j){return(j=(j=(j=j.replace(/^\s*#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(j){var k=(j=this._removeDicComments(j)).split(/\r?\n/),z={};function L(He,P){z.hasOwnProperty(He)||(z[He]=null),P.length>0&&(null===z[He]&&(z[He]=[]),z[He].push(P))}for(var C=1,ee=k.length;C<ee;C++){var W=k[C];if(W){var $=W.split("/",2),ue=$[0];if($.length>1){var Y=this.parseRuleCodes($[1]);"NEEDAFFIX"in this.flags&&-1!=Y.indexOf(this.flags.NEEDAFFIX)||L(ue,Y);for(var pe=0,Ae=Y.length;pe<Ae;pe++){var De=Y[pe],Z=this.rules[De];if(Z)for(var H=this._applyRule(ue,Z),Q=0,te=H.length;Q<te;Q++){var de=H[Q];if(L(de,[]),Z.combineable)for(var ne=pe+1;ne<Ae;ne++){var be=this.rules[Y[ne]];if(be&&be.combineable&&Z.type!=be.type)for(var xe=this._applyRule(de,be),je=0,Ne=xe.length;je<Ne;je++)L(xe[je],[])}}De in this.compoundRuleCodes&&this.compoundRuleCodes[De].push(ue)}}else L(ue.trim(),[])}}return z},_removeDicComments:function(j){return j.replace(/^\t.*$/gm,"")},parseRuleCodes:function(j){if(!j)return[];if(!("FLAG"in this.flags))return j.split("");if("long"===this.flags.FLAG){for(var k=[],z=0,L=j.length;z<L;z+=2)k.push(j.substr(z,2));return k}return"num"===this.flags.FLAG?j.split(","):void 0},_applyRule:function(j,k){for(var z=k.entries,L=[],C=0,ee=z.length;C<ee;C++){var W=z[C];if(!W.match||j.match(W.match)){var $=j;if(W.remove&&($=$.replace(W.remove,"")),"SFX"===k.type?$+=W.add:$=W.add+$,L.push($),"continuationClasses"in W)for(var ue=0,Y=W.continuationClasses.length;ue<Y;ue++){var pe=this.rules[W.continuationClasses[ue]];pe&&(L=L.concat(this._applyRule($,pe)))}}}return L},check:function(j){if(!this.loaded)throw"Dictionary not loaded.";var k=j.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(k))return!0;if(k.toUpperCase()===k){var z=k[0]+k.substring(1).toLowerCase();if(this.hasFlag(z,"KEEPCASE"))return!1;if(this.checkExact(z)||this.checkExact(k.toLowerCase()))return!0}var L=k[0].toLowerCase()+k.substring(1);if(L!==k){if(this.hasFlag(L,"KEEPCASE"))return!1;if(this.checkExact(L))return!0}return!1},checkExact:function(j){if(!this.loaded)throw"Dictionary not loaded.";var k,z,L=this.dictionaryTable[j];if(void 0===L){if("COMPOUNDMIN"in this.flags&&j.length>=this.flags.COMPOUNDMIN)for(k=0,z=this.compoundRules.length;k<z;k++)if(j.match(this.compoundRules[k]))return!0}else{if(null===L)return!0;if("object"==typeof L)for(k=0,z=L.length;k<z;k++)if(!this.hasFlag(j,"ONLYINCOMPOUND",L[k]))return!0}return!1},hasFlag:function(j,k,z){if(!this.loaded)throw"Dictionary not loaded.";return!(!(k in this.flags)||(void 0===z&&(z=Array.prototype.concat.apply([],this.dictionaryTable[j])),!z||-1===z.indexOf(this.flags[k])))},alphabet:"",suggest:function(j,k){if(!this.loaded)throw"Dictionary not loaded.";if(k=k||5,this.memoized.hasOwnProperty(j)){var z=this.memoized[j].limit;if(k<=z||this.memoized[j].suggestions.length<z)return this.memoized[j].suggestions.slice(0,k)}if(this.check(j))return[];for(var L=0,C=this.replacementTable.length;L<C;L++){var ee=this.replacementTable[L];if(-1!==j.indexOf(ee[0])){var W=j.replace(ee[0],ee[1]);if(this.check(W))return[W]}}var $=this;function ue(Y,pe){var Ae,De,Z,H,Q={},te=$.alphabet.length;if("string"==typeof Y){var de=Y;(Y={})[de]=!0}for(var de in Y)for(Ae=0,Z=de.length+1;Ae<Z;Ae++){var ne=[de.substring(0,Ae),de.substring(Ae)];if(ne[1]&&(H=ne[0]+ne[1].substring(1),pe&&!$.check(H)||(H in Q?Q[H]+=1:Q[H]=1)),ne[1].length>1&&ne[1][1]!==ne[1][0]&&(H=ne[0]+ne[1][1]+ne[1][0]+ne[1].substring(2),pe&&!$.check(H)||(H in Q?Q[H]+=1:Q[H]=1)),ne[1]){var he=ne[1].substring(0,1).toUpperCase()===ne[1].substring(0,1)?"uppercase":"lowercase";for(De=0;De<te;De++){var be=$.alphabet[De];"uppercase"===he&&(be=be.toUpperCase()),be!=ne[1].substring(0,1)&&(H=ne[0]+be+ne[1].substring(1),pe&&!$.check(H)||(H in Q?Q[H]+=1:Q[H]=1))}}if(ne[1])for(De=0;De<te;De++)he=ne[0].substring(-1).toUpperCase()===ne[0].substring(-1)&&ne[1].substring(0,1).toUpperCase()===ne[1].substring(0,1)?"uppercase":"lowercase",be=$.alphabet[De],"uppercase"===he&&(be=be.toUpperCase()),H=ne[0]+be+ne[1],pe&&!$.check(H)||(H in Q?Q[H]+=1:Q[H]=1)}return Q}return $.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[j]={suggestions:function(Y){var pe,Ae=ue(Y),De=ue(Ae,!0);for(var Z in Ae)$.check(Z)&&(Z in De?De[Z]+=Ae[Z]:De[Z]=Ae[Z]);var H=[];for(pe in De)De.hasOwnProperty(pe)&&H.push([pe,De[pe]]);H.sort(function(ne,he){var be=ne[1],xe=he[1];return be<xe?-1:be>xe?1:he[0].localeCompare(ne[0])}).reverse();var Q=[],te="lowercase";Y.toUpperCase()===Y?te="uppercase":Y.substr(0,1).toUpperCase()+Y.substr(1).toLowerCase()===Y&&(te="capitalized");var de=k;for(pe=0;pe<Math.min(de,H.length);pe++)"uppercase"===te?H[pe][0]=H[pe][0].toUpperCase():"capitalized"===te&&(H[pe][0]=H[pe][0].substr(0,1).toUpperCase()+H[pe][0].substr(1)),$.hasFlag(H[pe][0],"NOSUGGEST")||-1!=Q.indexOf(H[pe][0])?de++:Q.push(H[pe][0]);return Q}(j),limit:k},this.memoized[j].suggestions}}})(),void 0!==qe&&(qe.exports=X)}).call(this)}).call(this,"/node_modules/typo-js")},{fs:1}],17:[function(Le,qe,Je){var J=Le("codemirror");J.commands.tabAndIndentMarkdownList=function(X){var j=X.listSelections()[0].head;if(!1!==X.getStateAfter(j.line).list)X.execCommand("indentMore");else if(X.options.indentWithTabs)X.execCommand("insertTab");else{var k=Array(X.options.tabSize+1).join(" ");X.replaceSelection(k)}},J.commands.shiftTabAndUnindentMarkdownList=function(X){var j=X.listSelections()[0].head;if(!1!==X.getStateAfter(j.line).list)X.execCommand("indentLess");else if(X.options.indentWithTabs)X.execCommand("insertTab");else{var k=Array(X.options.tabSize+1).join(" ");X.replaceSelection(k)}}},{codemirror:10}],18:[function(Le,qe,Je){"use strict";var J=Le("codemirror");Le("codemirror/addon/edit/continuelist.js"),Le("./codemirror/tablist"),Le("codemirror/addon/display/fullscreen.js"),Le("codemirror/mode/markdown/markdown.js"),Le("codemirror/addon/mode/overlay.js"),Le("codemirror/addon/display/placeholder.js"),Le("codemirror/addon/display/autorefresh.js"),Le("codemirror/addon/selection/mark-selection.js"),Le("codemirror/addon/search/searchcursor.js"),Le("codemirror/mode/gfm/gfm.js"),Le("codemirror/mode/xml/xml.js");var X=Le("codemirror-spell-checker"),j=Le("marked/lib/marked"),k=/Mac/.test(navigator.platform),z=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),L={toggleBold:de,toggleItalic:ne,drawLink:ct,toggleHeadingSmaller:je,toggleHeadingBigger:Ne,drawImage:w,toggleBlockquote:xe,toggleOrderedList:ke,toggleUnorderedList:_,toggleCodeBlock:be,togglePreview:ut,toggleStrikethrough:he,toggleHeading1:He,toggleHeading2:P,toggleHeading3:ce,cleanBlock:Ge,drawTable:Se,drawHorizontalRule:at,undo:Qe,redo:dt,toggleSideBySide:Ee,toggleFullScreen:te},C={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},ee=function(){var c,F=!1;return c=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(c.substr(0,4)))&&(F=!0),F};function W(c){return k?c.replace("Ctrl","Cmd"):c.replace("Cmd","Ctrl")}var $={};function ue(c){return $[c]||($[c]=new RegExp("\\s*"+c+"(\\s*)","g"))}function Y(c,F){if(c&&F){var T=ue(F);c.className.match(T)||(c.className+=" "+F)}}function pe(c,F){if(c&&F){var T=ue(F);c.className.match(T)&&(c.className=c.className.replace(T,"$1"))}}function Ae(c,F,T,A){var G=De(c,!1,F,T,"button",A);G.className+=" easymde-dropdown";var q=document.createElement("div");q.className="easymde-dropdown-content";for(var M=0;M<c.children.length;M++){var re,S=c.children[M];re=De("string"==typeof S&&S in Tt?Tt[S]:S,!0,F,T,"button",A),q.appendChild(re)}return G.appendChild(q),G}function De(c,F,T,A,G,q){c=c||{};var N,oe,I,V,M=document.createElement(G);M.className=c.name,M.setAttribute("type",G),T=null==T||T,c.name&&c.name in A&&(L[c.name]=c.action),c.title&&T&&(M.title=(oe=A,V=c.title,(N=c.action)&&oe[I=function(we){for(var ye in L)if(L[ye]===we)return ye;return null}(N)]&&(V+=" ("+W(oe[I])+")"),V),k&&(M.title=M.title.replace("Ctrl","\u2318"),M.title=M.title.replace("Alt","\u2325"))),c.noDisable&&M.classList.add("no-disable"),c.noMobile&&M.classList.add("no-mobile");var re=[];void 0!==c.className&&(re=c.className.split(" "));for(var S=[],y=0;y<re.length;y++){var b=re[y];b.match(/^fa([srlb]|(-[\w-]*)|$)/)?S.push(b):M.classList.add(b)}M.tabIndex=-1;for(var v=document.createElement("i"),p=0;p<S.length;p++)v.classList.add(S[p]);return M.appendChild(v),void 0!==c.icon&&(M.innerHTML=c.icon),c.action&&F&&("function"==typeof c.action?M.onclick=function(f){f.preventDefault(),c.action(q)}:"string"==typeof c.action&&(M.onclick=function(f){f.preventDefault(),window.open(c.action,"_blank")})),M}function Z(){var c=document.createElement("i");return c.className="separator",c.innerHTML="|",c}function H(c,F){F=F||c.getCursor("start");var T=c.getTokenAt(F);if(!T.type)return{};for(var A,G,q=T.type.split(" "),M={},re=0;re<q.length;re++)"strong"===(A=q[re])?M.bold=!0:"variable-2"===A?(G=c.getLine(F.line),/^\s*\d+\.\s/.test(G)?M["ordered-list"]=!0:M["unordered-list"]=!0):"atom"===A?M.quote=!0:"em"===A?M.italic=!0:"quote"===A?M.quote=!0:"strikethrough"===A?M.strikethrough=!0:"comment"===A?M.code=!0:"link"===A?M.link=!0:"tag"===A?M.image=!0:A.match(/^header(-[1-6])?$/)&&(M[A.replace("header","heading")]=!0);return M}var Q="";function te(c){var F=c.codemirror;F.setOption("fullScreen",!F.getOption("fullScreen")),F.getOption("fullScreen")?(Q=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=Q;var T=F.getWrapperElement(),A=T.nextSibling;if(/editor-preview-active-side/.test(A.className))if(!1===c.options.sideBySideFullscreen){var G=T.parentNode;F.getOption("fullScreen")?pe(G,"sided--no-fullscreen"):Y(G,"sided--no-fullscreen")}else Ee(c);if(c.options.onToggleFullScreen&&c.options.onToggleFullScreen(F.getOption("fullScreen")||!1),void 0!==c.options.maxHeight&&(F.getOption("fullScreen")?(F.getScrollerElement().style.removeProperty("height"),A.style.removeProperty("height")):(F.getScrollerElement().style.height=c.options.maxHeight,c.setPreviewMaxHeight())),/fullscreen/.test(c.toolbar_div.className)?c.toolbar_div.className=c.toolbar_div.className.replace(/\s*fullscreen\b/,""):c.toolbar_div.className+=" fullscreen",c.toolbarElements&&c.toolbarElements.fullscreen){var q=c.toolbarElements.fullscreen;/active/.test(q.className)?q.className=q.className.replace(/\s*active\s*/g,""):q.className+=" active"}}function de(c){vt(c,"bold",c.options.blockStyles.bold)}function ne(c){vt(c,"italic",c.options.blockStyles.italic)}function he(c){vt(c,"strikethrough","~~")}function be(c){var F=c.options.blockStyles.code;function T(Ve){if("object"!=typeof Ve)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof Ve+": "+Ve;return Ve.styles&&Ve.styles[2]&&-1!==Ve.styles[2].indexOf("formatting-code-block")}function A(Ve){return Ve.state.base.base||Ve.state.base}function G(Ve,wt,tt,St,mt){tt=tt||Ve.getLineHandle(wt),St=St||Ve.getTokenAt({line:wt,ch:1}),mt=mt||!!tt.text&&Ve.getTokenAt({line:wt,ch:tt.text.length-1});var en=St.type?St.type.split(" "):[];return mt&&A(mt).indentedCode?"indented":-1!==en.indexOf("comment")&&(A(St).fencedChars||A(mt).fencedChars||T(tt)?"fenced":"single")}var q,M,re,Ve,wt,tt,St,mt,en,tn,sn,S=c.codemirror,y=S.getCursor("start"),b=S.getCursor("end"),v=S.getTokenAt({line:y.line,ch:y.ch||1}),p=S.getLineHandle(y.line),g=G(S,y.line,p,v);if("single"===g){var f=p.text.slice(0,y.ch).replace("`",""),N=p.text.slice(y.ch).replace("`","");S.replaceRange(f+N,{line:y.line,ch:0},{line:y.line,ch:99999999999999}),y.ch--,y!==b&&b.ch--,S.setSelection(y,b),S.focus()}else if("fenced"===g)if(y.line!==b.line||y.ch!==b.ch){for(q=y.line;q>=0&&!T(p=S.getLineHandle(q));q--);var oe,I,V,we,ye=A(S.getTokenAt({line:q,ch:1})).fencedChars;T(S.getLineHandle(y.line))?(oe="",I=y.line):T(S.getLineHandle(y.line-1))?(oe="",I=y.line-1):(oe=ye+"\n",I=y.line),T(S.getLineHandle(b.line))?(V="",we=b.line,0===b.ch&&(we+=1)):0!==b.ch&&T(S.getLineHandle(b.line+1))?(V="",we=b.line+1):(V=ye+"\n",we=b.line+1),0===b.ch&&(we-=1),S.operation(function(){S.replaceRange(V,{line:we,ch:0},{line:we+(V?0:1),ch:0}),S.replaceRange(oe,{line:I,ch:0},{line:I+(oe?0:1),ch:0})}),S.setSelection({line:I+(oe?1:0),ch:0},{line:we+(oe?1:-1),ch:0}),S.focus()}else{var Ue=y.line;if(T(S.getLineHandle(y.line))&&("fenced"===G(S,y.line+1)?(q=y.line,Ue=y.line+1):(M=y.line,Ue=y.line-1)),void 0===q)for(q=Ue;q>=0&&!T(p=S.getLineHandle(q));q--);if(void 0===M)for(re=S.lineCount(),M=Ue;M<re&&!T(p=S.getLineHandle(M));M++);S.operation(function(){S.replaceRange("",{line:q,ch:0},{line:q+1,ch:0}),S.replaceRange("",{line:M-1,ch:0},{line:M,ch:0})}),S.focus()}else if("indented"===g){if(y.line!==b.line||y.ch!==b.ch)q=y.line,M=b.line,0===b.ch&&M--;else{for(q=y.line;q>=0;q--)if(!(p=S.getLineHandle(q)).text.match(/^\s*$/)&&"indented"!==G(S,q,p)){q+=1;break}for(re=S.lineCount(),M=y.line;M<re;M++)if(!(p=S.getLineHandle(M)).text.match(/^\s*$/)&&"indented"!==G(S,M,p)){M-=1;break}}var Pe=S.getLineHandle(M+1),ht=Pe&&S.getTokenAt({line:M+1,ch:Pe.text.length-1});ht&&A(ht).indentedCode&&S.replaceRange("\n",{line:M+1,ch:0});for(var Pt=q;Pt<=M;Pt++)S.indentLine(Pt,"subtract");S.focus()}else y.line===b.line&&y.ch===b.ch&&0===y.ch||y.line!==b.line?(mt=(wt=y).line+1,en=(tt=b).line+1,sn="\n"+(St=F),(tn=wt.line!==tt.line)&&en++,tn&&0===tt.ch&&(sn=St+"\n",en--),fe(Ve=S,!1,[St+"\n",sn]),Ve.setSelection({line:mt,ch:0},{line:en,ch:0})):fe(S,!1,["`","`"])}function xe(c){kt(c.codemirror,"quote")}function je(c){ve(c.codemirror,"smaller")}function Ne(c){ve(c.codemirror,"bigger")}function He(c){ve(c.codemirror,void 0,1)}function P(c){ve(c.codemirror,void 0,2)}function ce(c){ve(c.codemirror,void 0,3)}function _(c){kt(c.codemirror,"unordered-list")}function ke(c){kt(c.codemirror,"ordered-list")}function Ge(c){!function(F){if(!/editor-preview-active/.test(F.getWrapperElement().lastChild.className))for(var T,A=F.getCursor("start"),G=F.getCursor("end"),q=A.line;q<=G.line;q++)T=(T=F.getLine(q)).replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),F.replaceRange(T,{line:q,ch:0},{line:q,ch:99999999999999})}(c.codemirror)}function ct(c){var F=c.codemirror,T=H(F),A=c.options,G="https://";if(A.promptURLs&&!(G=prompt(A.promptTexts.link,"https://")))return!1;fe(F,T.link,A.insertTexts.link,G)}function w(c){var F=c.codemirror,T=H(F),A=c.options,G="https://";if(A.promptURLs&&!(G=prompt(A.promptTexts.image,"https://")))return!1;fe(F,T.image,A.insertTexts.image,G)}function d(c){c.openBrowseFileWindow()}function Ce(c,F){var T=c.codemirror,A=H(T),G=c.options,q=F.substr(F.lastIndexOf("/")+1),M=q.substring(q.lastIndexOf(".")+1).replace(/\?.*$/,"");if(["png","jpg","jpeg","gif","svg"].includes(M))fe(T,A.image,G.insertTexts.uploadedImage,F);else{var re=G.insertTexts.link;re[0]="["+q,fe(T,A.link,re,F)}c.updateStatusBar("upload-image",c.options.imageTexts.sbOnUploaded.replace("#image_name#",q)),setTimeout(function(){c.updateStatusBar("upload-image",c.options.imageTexts.sbInit)},1e3)}function Se(c){var F=c.codemirror;fe(F,H(F).table,c.options.insertTexts.table)}function at(c){var F=c.codemirror;fe(F,H(F).image,c.options.insertTexts.horizontalRule)}function Qe(c){var F=c.codemirror;F.undo(),F.focus()}function dt(c){var F=c.codemirror;F.redo(),F.focus()}function Ee(c){var F=c.codemirror,T=F.getWrapperElement(),A=T.nextSibling,G=c.toolbarElements&&c.toolbarElements["side-by-side"],q=!1,M=T.parentNode;/editor-preview-active-side/.test(A.className)?(!1===c.options.sideBySideFullscreen&&pe(M,"sided--no-fullscreen"),A.className=A.className.replace(/\s*editor-preview-active-side\s*/g,""),G&&(G.className=G.className.replace(/\s*active\s*/g,"")),T.className=T.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){F.getOption("fullScreen")||(!1===c.options.sideBySideFullscreen?Y(M,"sided--no-fullscreen"):te(c)),A.className+=" editor-preview-active-side"},1),G&&(G.className+=" active"),T.className+=" CodeMirror-sided",q=!0);var re=T.lastChild;if(/editor-preview-active/.test(re.className)){re.className=re.className.replace(/\s*editor-preview-active\s*/g,"");var S=c.toolbarElements.preview,y=c.toolbar_div;S.className=S.className.replace(/\s*active\s*/g,""),y.className=y.className.replace(/\s*disabled-for-preview*/g,"")}if(F.sideBySideRenderingFunction||(F.sideBySideRenderingFunction=function(){var v=c.options.previewRender(c.value(),A);null!=v&&(A.innerHTML=v)}),q){var b=c.options.previewRender(c.value(),A);null!=b&&(A.innerHTML=b),F.on("update",F.sideBySideRenderingFunction)}else F.off("update",F.sideBySideRenderingFunction);F.refresh()}function ut(c){var F=c.codemirror,T=F.getWrapperElement(),A=c.toolbar_div,G=!!c.options.toolbar&&c.toolbarElements.preview,q=T.lastChild,M=F.getWrapperElement().nextSibling;if(/editor-preview-active-side/.test(M.className)&&Ee(c),!q||!/editor-preview-full/.test(q.className)){if((q=document.createElement("div")).className="editor-preview-full",c.options.previewClass)if(Array.isArray(c.options.previewClass))for(var re=0;re<c.options.previewClass.length;re++)q.className+=" "+c.options.previewClass[re];else"string"==typeof c.options.previewClass&&(q.className+=" "+c.options.previewClass);T.appendChild(q)}/editor-preview-active/.test(q.className)?(q.className=q.className.replace(/\s*editor-preview-active\s*/g,""),G&&(G.className=G.className.replace(/\s*active\s*/g,""),A.className=A.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){q.className+=" editor-preview-active"},1),G&&(G.className+=" active",A.className+=" disabled-for-preview")),q.innerHTML=c.options.previewRender(c.value(),q)}function fe(c,F,T,A){if(!/editor-preview-active/.test(c.getWrapperElement().lastChild.className)){var G,q=T[0],M=T[1],re={},S={};Object.assign(re,c.getCursor("start")),Object.assign(S,c.getCursor("end")),A&&(q=q.replace("#url#",A),M=M.replace("#url#",A)),F?(q=(G=c.getLine(re.line)).slice(0,re.ch),M=G.slice(re.ch),c.replaceRange(q+M,{line:re.line,ch:0})):(G=c.getSelection(),c.replaceSelection(q+G+M),re.ch+=q.length,re!==S&&(S.ch+=q.length)),c.setSelection(re,S),c.focus()}}function ve(c,F,T){if(!/editor-preview-active/.test(c.getWrapperElement().lastChild.className)){for(var A=c.getCursor("start"),G=c.getCursor("end"),q=A.line;q<=G.line;q++)re=void 0,void 0,S=(re=c.getLine(M=q)).search(/[^#]/),re=void 0!==F?S<=0?"bigger"==F?"###### "+re:"# "+re:6==S&&"smaller"==F?re.substr(7):1==S&&"bigger"==F?re.substr(2):"bigger"==F?re.substr(1):"#"+re:1==T?S<=0?"# "+re:S==T?re.substr(S+1):"# "+re.substr(S+1):2==T?S<=0?"## "+re:S==T?re.substr(S+1):"## "+re.substr(S+1):S<=0?"### "+re:S==T?re.substr(S+1):"### "+re.substr(S+1),c.replaceRange(re,{line:M,ch:0},{line:M,ch:99999999999999});c.focus()}var M,re,S}function kt(c,F){if(!/editor-preview-active/.test(c.getWrapperElement().lastChild.className)){for(var T=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,A=/^\s*/,G=H(c),q=c.getCursor("start"),M=c.getCursor("end"),re={quote:/^(\s*)>\s+/,"unordered-list":T,"ordered-list":T},S=function(v,p,g){var I,V,f=T.exec(p),N={quote:">","unordered-list":"*","ordered-list":"%%i."}[v].replace("%%i",y);return null!==f?(I=f[2],V=new RegExp({quote:">","unordered-list":"*","ordered-list":"\\d+."}[v]),I&&V.test(I)&&(N=""),p=f[1]+N+f[3]+p.replace(A,"").replace(re[v],"$1")):0==g&&(p=N+" "+p),p},y=1,b=q.line;b<=M.line;b++)p=void 0,p=c.getLine(v=b),G[F]?p=p.replace(re[F],"$1"):("unordered-list"==F&&(p=S("ordered-list",p,!0)),p=S(F,p,!1),y+=1),c.replaceRange(p,{line:v,ch:0},{line:v,ch:99999999999999});c.focus()}var v,p}function vt(c,F,T,A){if(!/editor-preview-active/.test(c.codemirror.getWrapperElement().lastChild.className)){A=void 0===A?T:A;var G,q=c.codemirror,M=H(q),re=T,S=A,y=q.getCursor("start"),b=q.getCursor("end");M[F]?(re=(G=q.getLine(y.line)).slice(0,y.ch),S=G.slice(y.ch),"bold"==F?(re=re.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),S=S.replace(/(\*\*|__)/,"")):"italic"==F?(re=re.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),S=S.replace(/(\*|_)/,"")):"strikethrough"==F&&(re=re.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),S=S.replace(/(\*\*|~~)/,"")),q.replaceRange(re+S,{line:y.line,ch:0},{line:y.line,ch:99999999999999}),"bold"==F||"strikethrough"==F?(y.ch-=2,y!==b&&(b.ch-=2)):"italic"==F&&(y.ch-=1,y!==b&&(b.ch-=1))):(G=q.getSelection(),"bold"==F?G=(G=G.split("**").join("")).split("__").join(""):"italic"==F?G=(G=G.split("*").join("")).split("_").join(""):"strikethrough"==F&&(G=G.split("~~").join("")),q.replaceSelection(re+G+S),y.ch+=T.length,b.ch=y.ch+G.length),q.setSelection(y,b),q.focus()}}function Dt(c,F){if(Math.abs(c)<1024)return""+c+F[0];var T=0;do{c/=1024,++T}while(Math.abs(c)>=1024&&T<F.length);return""+c.toFixed(1)+F[T]}function yt(c,F){for(var T in F)Object.prototype.hasOwnProperty.call(F,T)&&(c[T]=F[T]instanceof Array?F[T].concat(c[T]instanceof Array?c[T]:[]):null!==F[T]&&"object"==typeof F[T]&&F[T].constructor===Object?yt(c[T]||{},F[T]):F[T]);return c}function Me(c){for(var F=1;F<arguments.length;F++)c=yt(c,arguments[F]);return c}function Mt(c){var F=c.match(/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),T=0;if(null===F)return T;for(var A=0;A<F.length;A++)F[A].charCodeAt(0)>=19968?T+=F[A].length:T+=1;return T}var Tt={bold:{name:"bold",action:de,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:ne,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:he,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:je,className:"fa fa-header fa-heading",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:je,className:"fa fa-header fa-heading header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:Ne,className:"fa fa-header fa-heading header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:He,className:"fa fa-header fa-heading header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:P,className:"fa fa-header fa-heading header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:ce,className:"fa fa-header fa-heading header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:be,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:xe,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:_,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:ke,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:Ge,className:"fa fa-eraser",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:ct,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:w,className:"fa fa-image",title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:d,className:"fa fa-image",title:"Import an image"},table:{name:"table",action:Se,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:at,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:ut,className:"fa fa-eye",noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:Ee,className:"fa fa-columns",noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:te,className:"fa fa-arrows-alt",noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:"fa fa-question-circle",noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:Qe,className:"fa fa-undo",noDisable:!0,title:"Undo"},redo:{name:"redo",action:dt,className:"fa fa-repeat fa-redo",noDisable:!0,title:"Redo"}},Bt={link:["[","](#url#)"],image:["![](","#url#)"],uploadedImage:["![](#url#)",""],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},Gt={link:"URL for the link:",image:"URL of the image:"},Jt={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},Kt={bold:"**",code:"```",italic:"*"},fn={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},zn={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:"Image #image_name# is too big (#image_size#).\nMaximum file size is #image_max_size#.",importError:"Something went wrong when uploading the image #image_name#."};function ge(c){(c=c||{}).parent=this;var F=!0;if(!1===c.autoDownloadFontAwesome&&(F=!1),!0!==c.autoDownloadFontAwesome)for(var T=document.styleSheets,A=0;A<T.length;A++)T[A].href&&T[A].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(F=!1);if(F){var G=document.createElement("link");G.rel="stylesheet",G.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(G)}if(c.element)this.element=c.element;else if(null===c.element)return void console.log("EasyMDE: Error. No element was found.");if(void 0===c.toolbar)for(var q in c.toolbar=[],Tt)Object.prototype.hasOwnProperty.call(Tt,q)&&(-1!=q.indexOf("separator-")&&c.toolbar.push("|"),(!0===Tt[q].default||c.showIcons&&c.showIcons.constructor===Array&&-1!=c.showIcons.indexOf(q))&&c.toolbar.push(q));if(Object.prototype.hasOwnProperty.call(c,"previewClass")||(c.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(c,"status")||(c.status=["autosave","lines","words","cursor"],c.uploadImage&&c.status.unshift("upload-image")),c.previewRender||(c.previewRender=function(re){return this.parent.markdown(re)}),c.parsingConfig=Me({highlightFormatting:!0},c.parsingConfig||{}),c.insertTexts=Me({},Bt,c.insertTexts||{}),c.promptTexts=Me({},Gt,c.promptTexts||{}),c.blockStyles=Me({},Kt,c.blockStyles||{}),null!=c.autosave&&(c.autosave.timeFormat=Me({},Jt,c.autosave.timeFormat||{})),c.shortcuts=Me({},C,c.shortcuts||{}),c.maxHeight=c.maxHeight||void 0,c.minHeight=void 0!==c.maxHeight?c.maxHeight:c.minHeight||"300px",c.errorCallback=c.errorCallback||function(re){alert(re)},c.uploadImage=c.uploadImage||!1,c.imageMaxSize=c.imageMaxSize||2097152,c.imageAccept=c.imageAccept||"image/png, image/jpeg",c.imageTexts=Me({},fn,c.imageTexts||{}),c.errorMessages=Me({},zn,c.errorMessages||{}),null!=c.autosave&&null!=c.autosave.unique_id&&""!=c.autosave.unique_id&&(c.autosave.uniqueId=c.autosave.unique_id),c.overlayMode&&void 0===c.overlayMode.combine&&(c.overlayMode.combine=!0),this.options=c,this.render(),!c.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(c.initialValue),c.uploadImage){var M=this;this.codemirror.on("dragenter",function(re,S){M.updateStatusBar("upload-image",M.options.imageTexts.sbOnDragEnter),S.stopPropagation(),S.preventDefault()}),this.codemirror.on("dragend",function(re,S){M.updateStatusBar("upload-image",M.options.imageTexts.sbInit),S.stopPropagation(),S.preventDefault()}),this.codemirror.on("dragleave",function(re,S){M.updateStatusBar("upload-image",M.options.imageTexts.sbInit),S.stopPropagation(),S.preventDefault()}),this.codemirror.on("dragover",function(re,S){M.updateStatusBar("upload-image",M.options.imageTexts.sbOnDragEnter),S.stopPropagation(),S.preventDefault()}),this.codemirror.on("drop",function(re,S){S.stopPropagation(),S.preventDefault(),c.imageUploadFunction?M.uploadImagesUsingCustomFunction(c.imageUploadFunction,S.dataTransfer.files):M.uploadImages(S.dataTransfer.files)}),this.codemirror.on("paste",function(re,S){c.imageUploadFunction?M.uploadImagesUsingCustomFunction(c.imageUploadFunction,S.clipboardData.files):M.uploadImages(S.clipboardData.files)})}}function wn(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(c){return!1}return!0}ge.prototype.uploadImages=function(c,F,T){if(0!==c.length){for(var A=[],G=0;G<c.length;G++)A.push(c[G].name),this.uploadImage(c[G],F,T);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",A.join(", ")))}},ge.prototype.uploadImagesUsingCustomFunction=function(c,F){if(0!==F.length){for(var T=[],A=0;A<F.length;A++)T.push(F[A].name),this.uploadImageUsingCustomFunction(c,F[A]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",T.join(", ")))}},ge.prototype.updateStatusBar=function(c,F){if(this.gui.statusbar){var T=this.gui.statusbar.getElementsByClassName(c);1===T.length?this.gui.statusbar.getElementsByClassName(c)[0].textContent=F:0===T.length?console.log("EasyMDE: status bar item "+c+" was not found."):console.log("EasyMDE: Several status bar items named "+c+" was found.")}},ge.prototype.markdown=function(c){if(j){var F;if((F=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{}).breaks=!this.options||!this.options.renderingConfig||!1!==this.options.renderingConfig.singleLineBreaks,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting){var T=this.options.renderingConfig.hljs||window.hljs;T&&(F.highlight=function(G,q){return q&&T.getLanguage(q)?T.highlight(q,G).value:T.highlightAuto(G).value})}j.setOptions(F);var A=j(c);return this.options.renderingConfig&&"function"==typeof this.options.renderingConfig.sanitizerFunction&&(A=this.options.renderingConfig.sanitizerFunction.call(this,A)),function(G){for(var q=(new DOMParser).parseFromString(G,"text/html"),M=q.getElementsByTagName("li"),re=0;re<M.length;re++)for(var S=M[re],y=0;y<S.children.length;y++){var b=S.children[y];b instanceof HTMLInputElement&&"checkbox"===b.type&&(S.style.marginLeft="-1.5em",S.style.listStyleType="none")}return q.documentElement.innerHTML}(A=function(G){for(var q;null!==(q=z.exec(G));){var M=q[0];if(-1===M.indexOf("target=")){var re=M.replace(/>$/,' target="_blank">');G=G.replace(M,re)}}return G}(A))}},ge.prototype.render=function(c){if(c||(c=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==c){this.element=c;var F,T,A=this.options,G=this,q={};for(var M in A.shortcuts)null!==A.shortcuts[M]&&null!==L[M]&&function(g){q[W(A.shortcuts[g])]=function(){var f=L[g];"function"==typeof f?f(G):"string"==typeof f&&window.open(f,"_blank")}}(M);if(q.Enter="newlineAndIndentContinueMarkdownList",q.Tab="tabAndIndentMarkdownList",q["Shift-Tab"]="shiftTabAndUnindentMarkdownList",q.Esc=function(g){g.getOption("fullScreen")&&te(G)},this.documentOnKeyDown=function(g){27==(g=g||window.event).keyCode&&G.codemirror.getOption("fullScreen")&&te(G)},document.addEventListener("keydown",this.documentOnKeyDown,!1),A.overlayMode?(J.defineMode("overlay-mode",function(g){return J.overlayMode(J.getMode(g,!1!==A.spellChecker?"spell-checker":"gfm"),A.overlayMode.mode,A.overlayMode.combine)}),F="overlay-mode",(T=A.parsingConfig).gitHubSpice=!1):((F=A.parsingConfig).name="gfm",F.gitHubSpice=!1),!1!==A.spellChecker&&(F="spell-checker",(T=A.parsingConfig).name="gfm",T.gitHubSpice=!1,X({codeMirrorInstance:J})),this.codemirror=J.fromTextArea(c,{mode:F,backdrop:T,theme:null!=A.theme?A.theme:"easymde",tabSize:null!=A.tabSize?A.tabSize:2,indentUnit:null!=A.tabSize?A.tabSize:2,indentWithTabs:!1!==A.indentWithTabs,lineNumbers:!0===A.lineNumbers,autofocus:!0===A.autofocus,extraKeys:q,lineWrapping:!1!==A.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:A.placeholder||c.getAttribute("placeholder")||"",styleSelectedText:null!=A.styleSelectedText?A.styleSelectedText:!ee(),scrollbarStyle:null!=A.scrollbarStyle?A.scrollbarStyle:"native",configureMouse:function(g,f,N){return{addNew:!1}},inputStyle:null!=A.inputStyle?A.inputStyle:ee()?"contenteditable":"textarea",spellcheck:null==A.nativeSpellcheck||A.nativeSpellcheck,autoRefresh:null!=A.autoRefresh&&A.autoRefresh}),this.codemirror.getScrollerElement().style.minHeight=A.minHeight,void 0!==A.maxHeight&&(this.codemirror.getScrollerElement().style.height=A.maxHeight),!0===A.forceSync){var re=this.codemirror;re.on("change",function(){re.save()})}this.gui={};var S=document.createElement("div");S.classList.add("EasyMDEContainer");var y=this.codemirror.getWrapperElement();y.parentNode.insertBefore(S,y),S.appendChild(y),!1!==A.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==A.status&&(this.gui.statusbar=this.createStatusbar()),null!=A.autosave&&!0===A.autosave.enabled&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(G._autosave_timeout),G._autosave_timeout=setTimeout(function(){G.autosave()},G.options.autosave.submit_delay||G.options.autosave.delay||1e3)}));var b=this;this.codemirror.on("update",function(){A.previewImagesInEditor&&S.querySelectorAll(".cm-image-marker").forEach(function(g){var f=g.parentElement;if(f.innerText.match(/^!\[.*?\]\(.*\)/g)&&!f.hasAttribute("data-img-src")){var N=f.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),N&&N.length>=2){var oe=N[1];if(window.EMDEimagesCache[oe])p(f,window.EMDEimagesCache[oe]);else{var I=document.createElement("img");I.onload=function(){window.EMDEimagesCache[oe]={naturalWidth:I.naturalWidth,naturalHeight:I.naturalHeight,url:oe},p(f,window.EMDEimagesCache[oe])},I.src=oe}}}})}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var v=this.codemirror;setTimeout(function(){v.refresh()}.bind(v),0)}function p(g,f){var N,oe;g.setAttribute("data-img-src",f.url),g.setAttribute("style","--bg-image:url("+f.url+");--width:"+f.naturalWidth+"px;--height:"+(oe=f.naturalHeight,(N=f.naturalWidth)<window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","")?oe+"px":oe/N*100+"%")),b.codemirror.setSize()}},ge.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)},ge.prototype.autosave=function(){if(wn()){var c=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to use the autosave feature");!0!==this.options.autosave.binded&&(null!=c.element.form&&null!=c.element.form&&c.element.form.addEventListener("submit",function(){clearTimeout(c.autosaveTimeoutId),c.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+c.options.autosave.uniqueId)}),this.options.autosave.binded=!0),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var F=c.value();""!==F?localStorage.setItem("smde_"+this.options.autosave.uniqueId,F):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var T=document.getElementById("autosaved");if(null!=T&&null!=T&&""!=T){var A=new Date,G=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(A);T.innerHTML=(null==this.options.autosave.text?"Autosaved: ":this.options.autosave.text)+G}}else console.log("EasyMDE: localStorage not available, cannot autosave")},ge.prototype.clearAutosavedValue=function(){if(wn()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},ge.prototype.openBrowseFileWindow=function(c,F){var T=this,A=this.gui.toolbar.getElementsByClassName("imageInput")[0];A.click(),A.addEventListener("change",function G(q){T.options.imageUploadFunction?T.uploadImagesUsingCustomFunction(T.options.imageUploadFunction,q.target.files):T.uploadImages(q.target.files,c,F),A.removeEventListener("change",G)})},ge.prototype.uploadImage=function(c,F,T){var A=this;function G(S){A.updateStatusBar("upload-image",S),setTimeout(function(){A.updateStatusBar("upload-image",A.options.imageTexts.sbInit)},1e4),T&&"function"==typeof T&&T(S),A.options.errorCallback(S)}function q(S){var y=A.options.imageTexts.sizeUnits.split(",");return S.replace("#image_name#",c.name).replace("#image_size#",Dt(c.size,y)).replace("#image_max_size#",Dt(A.options.imageMaxSize,y))}if(F=F||function(S){Ce(A,S)},c.size>this.options.imageMaxSize)G(q(this.options.errorMessages.fileTooLarge));else{var M=new FormData;M.append("image",c),A.options.imageCSRFToken&&M.append("csrfmiddlewaretoken",A.options.imageCSRFToken);var re=new XMLHttpRequest;re.upload.onprogress=function(S){if(S.lengthComputable){var y=""+Math.round(100*S.loaded/S.total);A.updateStatusBar("upload-image",A.options.imageTexts.sbProgress.replace("#file_name#",c.name).replace("#progress#",y))}},re.open("POST",this.options.imageUploadEndpoint),re.onload=function(){try{var S=JSON.parse(this.responseText)}catch(y){return console.error("EasyMDE: The server did not return a valid json."),void G(q(A.options.errorMessages.importError))}200===this.status&&S&&!S.error&&S.data&&S.data.filePath?F((A.options.imagePathAbsolute?"":window.location.origin+"/")+S.data.filePath):S.error&&S.error in A.options.errorMessages?G(q(A.options.errorMessages[S.error])):S.error?G(q(S.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),G(q(A.options.errorMessages.importError)))},re.onerror=function(S){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+S.target.status+" ("+S.target.statusText+")"),G(A.options.errorMessages.importError)},re.send(M)}},ge.prototype.uploadImageUsingCustomFunction=function(c,F){var T=this;c.apply(this,[F,function(A){Ce(T,A)},function(A){var q,M,G=(q=A,M=T.options.imageTexts.sizeUnits.split(","),q.replace("#image_name#",F.name).replace("#image_size#",Dt(F.size,M)).replace("#image_max_size#",Dt(T.options.imageMaxSize,M)));T.updateStatusBar("upload-image",G),setTimeout(function(){T.updateStatusBar("upload-image",T.options.imageTexts.sbInit)},1e4),T.options.errorCallback(G)}])},ge.prototype.setPreviewMaxHeight=function(){var c=this.codemirror.getWrapperElement(),F=c.nextSibling,T=parseInt(window.getComputedStyle(c).paddingTop),A=parseInt(window.getComputedStyle(c).borderTopWidth),G=(parseInt(this.options.maxHeight)+2*T+2*A).toString()+"px";F.style.height=G},ge.prototype.createSideBySide=function(){var c=this.codemirror,F=c.getWrapperElement(),T=F.nextSibling;if(!T||!/editor-preview-side/.test(T.className)){if((T=document.createElement("div")).className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var A=0;A<this.options.previewClass.length;A++)T.className+=" "+this.options.previewClass[A];else"string"==typeof this.options.previewClass&&(T.className+=" "+this.options.previewClass);F.parentNode.insertBefore(T,F.nextSibling)}if(void 0!==this.options.maxHeight&&this.setPreviewMaxHeight(),!1===this.options.syncSideBySidePreviewScroll)return T;var G=!1,q=!1;return c.on("scroll",function(M){if(G)G=!1;else{q=!0;var re=M.getScrollInfo().height-M.getScrollInfo().clientHeight,S=parseFloat(M.getScrollInfo().top)/re;T.scrollTop=(T.scrollHeight-T.clientHeight)*S}}),T.onscroll=function(){if(q)q=!1;else{G=!0;var M=T.scrollHeight-T.clientHeight,re=parseFloat(T.scrollTop)/M,S=(c.getScrollInfo().height-c.getScrollInfo().clientHeight)*re;c.scrollTo(0,S)}},T},ge.prototype.createToolbar=function(c){if((c=c||this.options.toolbar)&&0!==c.length){var F;for(F=0;F<c.length;F++)null!=Tt[c[F]]&&(c[F]=Tt[c[F]]);var T=document.createElement("div");T.className="editor-toolbar";var A=this,G={};for(A.toolbar=c,F=0;F<c.length;F++)if(("guide"!=c[F].name||!1!==A.options.toolbarGuideIcon)&&!(A.options.hideIcons&&-1!=A.options.hideIcons.indexOf(c[F].name)||("fullscreen"==c[F].name||"side-by-side"==c[F].name)&&ee())){if("|"===c[F]){for(var q=!1,M=F+1;M<c.length;M++)"|"===c[M]||A.options.hideIcons&&-1!=A.options.hideIcons.indexOf(c[M].name)||(q=!0);if(!q)continue}!function(y){var b;if(b="|"===y?Z():y.children?Ae(y,A.options.toolbarTips,A.options.shortcuts,A):De(y,!0,A.options.toolbarTips,A.options.shortcuts,"button",A),G[y.name||y]=b,T.appendChild(b),"upload-image"===y.name){var v=document.createElement("input");v.className="imageInput",v.type="file",v.multiple=!0,v.name="image",v.accept=A.options.imageAccept,v.style.display="none",v.style.opacity=0,T.appendChild(v)}}(c[F])}A.toolbar_div=T,A.toolbarElements=G;var re=this.codemirror;re.on("cursorActivity",function(){var v,p,y=H(re);for(var b in G)p=void 0,p=G[v=b],y[v]?p.className+=" active":"fullscreen"!=v&&"side-by-side"!=v&&(p.className=p.className.replace(/\s*active\s*/g,""))});var S=re.getWrapperElement();return S.parentNode.insertBefore(T,S),T}},ge.prototype.createStatusbar=function(c){var F=this.options,T=this.codemirror;if((c=c||this.options.status)&&0!==c.length){var A,G,q,M,re=[];for(A=0;A<c.length;A++)if(G=void 0,q=void 0,M=void 0,"object"==typeof c[A])re.push({className:c[A].className,defaultValue:c[A].defaultValue,onUpdate:c[A].onUpdate,onActivity:c[A].onActivity});else{var S=c[A];"words"===S?(M=function(g){g.innerHTML=Mt(T.getValue())},G=function(g){g.innerHTML=Mt(T.getValue())}):"lines"===S?(M=function(g){g.innerHTML=T.lineCount()},G=function(g){g.innerHTML=T.lineCount()}):"cursor"===S?(M=function(g){g.innerHTML="0:0"},q=function(g){var f=T.getCursor();g.innerHTML=f.line+":"+f.ch}):"autosave"===S?M=function(g){null!=F.autosave&&!0===F.autosave.enabled&&g.setAttribute("id","autosaved")}:"upload-image"===S&&(M=function(g){g.innerHTML=F.imageTexts.sbInit}),re.push({className:S,defaultValue:M,onUpdate:G,onActivity:q})}var y=document.createElement("div");for(y.className="editor-statusbar",A=0;A<re.length;A++){var b=re[A],v=document.createElement("span");v.className=b.className,"function"==typeof b.defaultValue&&b.defaultValue(v),"function"==typeof b.onUpdate&&this.codemirror.on("update",function(g,f){return function(){f.onUpdate(g)}}(v,b)),"function"==typeof b.onActivity&&this.codemirror.on("cursorActivity",function(g,f){return function(){f.onActivity(g)}}(v,b)),y.appendChild(v)}var p=this.codemirror.getWrapperElement();return p.parentNode.insertBefore(y,p.nextSibling),y}},ge.prototype.value=function(c){var F=this.codemirror;if(void 0===c)return F.getValue();if(F.getDoc().setValue(c),this.isPreviewActive()){var T=F.getWrapperElement().lastChild;T.innerHTML=this.options.previewRender(c,T)}return this},ge.toggleBold=de,ge.toggleItalic=ne,ge.toggleStrikethrough=he,ge.toggleBlockquote=xe,ge.toggleHeadingSmaller=je,ge.toggleHeadingBigger=Ne,ge.toggleHeading1=He,ge.toggleHeading2=P,ge.toggleHeading3=ce,ge.toggleCodeBlock=be,ge.toggleUnorderedList=_,ge.toggleOrderedList=ke,ge.cleanBlock=Ge,ge.drawLink=ct,ge.drawImage=w,ge.drawUploadedImage=d,ge.drawTable=Se,ge.drawHorizontalRule=at,ge.undo=Qe,ge.redo=dt,ge.togglePreview=ut,ge.toggleSideBySide=Ee,ge.toggleFullScreen=te,ge.prototype.toggleBold=function(){de(this)},ge.prototype.toggleItalic=function(){ne(this)},ge.prototype.toggleStrikethrough=function(){he(this)},ge.prototype.toggleBlockquote=function(){xe(this)},ge.prototype.toggleHeadingSmaller=function(){je(this)},ge.prototype.toggleHeadingBigger=function(){Ne(this)},ge.prototype.toggleHeading1=function(){He(this)},ge.prototype.toggleHeading2=function(){P(this)},ge.prototype.toggleHeading3=function(){ce(this)},ge.prototype.toggleCodeBlock=function(){be(this)},ge.prototype.toggleUnorderedList=function(){_(this)},ge.prototype.toggleOrderedList=function(){ke(this)},ge.prototype.cleanBlock=function(){Ge(this)},ge.prototype.drawLink=function(){ct(this)},ge.prototype.drawImage=function(){w(this)},ge.prototype.drawUploadedImage=function(){d(this)},ge.prototype.drawTable=function(){Se(this)},ge.prototype.drawHorizontalRule=function(){at(this)},ge.prototype.undo=function(){Qe(this)},ge.prototype.redo=function(){dt(this)},ge.prototype.togglePreview=function(){ut(this)},ge.prototype.toggleSideBySide=function(){Ee(this)},ge.prototype.toggleFullScreen=function(){te(this)},ge.prototype.isPreviewActive=function(){var c=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(c.className)},ge.prototype.isSideBySideActive=function(){var c=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(c.className)},ge.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},ge.prototype.getState=function(){return H(this.codemirror)},ge.prototype.toTextArea=function(){var c=this.codemirror,F=c.getWrapperElement(),T=F.parentNode;T&&(this.gui.toolbar&&T.removeChild(this.gui.toolbar),this.gui.statusbar&&T.removeChild(this.gui.statusbar),this.gui.sideBySide&&T.removeChild(this.gui.sideBySide)),T.parentNode.insertBefore(F,T),T.remove(),c.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},qe.exports=ge},{"./codemirror/tablist":17,codemirror:10,"codemirror-spell-checker":2,"codemirror/addon/display/autorefresh.js":3,"codemirror/addon/display/fullscreen.js":4,"codemirror/addon/display/placeholder.js":5,"codemirror/addon/edit/continuelist.js":6,"codemirror/addon/mode/overlay.js":7,"codemirror/addon/search/searchcursor.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,"marked/lib/marked":15}]},{},[18])(18)});